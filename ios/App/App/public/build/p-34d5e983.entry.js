import{r as e,e as t,h as i}from"./p-cbe60c68.js";import{z as n,aE as s,T as a}from"./p-83f44900.js";import"./p-c7ee7cfe.js";import{b as o}from"./p-5d4a8e1f.js";import{E as d}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-7ee16e8d.js";import"./p-694b8ade.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const c="app-dive-plan-card{width:100%;height:100%}";const r=c;const l=class{constructor(i){e(this,i);this.viewEmit=t(this,"viewEmit",7);this.removeEmit=t(this,"removeEmit",7);this.divePlan=undefined;this.edit=false}componentWillLoad(){this.diveSite=n.diveSitesList.find((e=>e.id===this.divePlan.dives[0].diveSiteId))}async viewDivePlan(e){e.stopPropagation();const t=await s.presentDiveTemplateUpdate(this.divePlan);if(t){this.viewEmit.emit(t)}}async removeDivePlan(e){e.stopPropagation();const t=await o.create({header:a.getTransl("delete-dive-header","Delete dive?"),message:a.getTransl("delete-dive-message","This dive plan will be deleted! Are you sure?"),buttons:[{text:a.getTransl("cancel","Cancel"),role:"cancel",handler:()=>{}},{text:a.getTransl("ok","OK"),handler:()=>{this.removeEmit.emit()}}]});t.present()}render(){return i("ion-card",{key:"fc169f0f61835228274298a59985872e92175209",onClick:e=>this.edit?this.viewDivePlan(e):undefined},this.diveSite?i("app-item-cover",{item:this.diveSite}):undefined,i("ion-card-header",{key:"ba83d850cd15b69c1f83fe209d2fe51a12f7d726"},i("ion-item",{key:"99e5b6fecd8b021062c90aafc251b0ebcf7d0249",class:"ion-no-padding",lines:"none"},this.edit?i("ion-button",{"icon-only":true,slot:"end",color:"danger",fill:"clear",onClick:e=>this.removeDivePlan(e)},i("ion-icon",{name:"trash-bin-outline"})):undefined,i("ion-card-title",{key:"8f61f1dd49f8f816ee18d904656eee1e805a006c"},this.divePlan.configuration.stdName)),i("ion-card-subtitle",{key:"b54de254c9ed3387d6c2b5278c8b65f378b4bd1a"},this.divePlan.dives[0].getProfilePointsDetails().map((e=>i("p",{class:"ion-text-start"},e))))),i("ion-card-content",{key:"f380d1c7dfa15106c471171111f8090e1a36c060"},this.divePlan.configuration.configuration.bottom.length>0?i("p",null,i("my-transl",{tag:"bottom-tanks",text:"Bottom Tanks"}),":"):undefined,this.divePlan.configuration.configuration.bottom.map((e=>i("p",null,e.name+"->"+e.gas.toString()))),this.divePlan.configuration.configuration.deco.length>0?i("p",null,i("my-transl",{tag:"deco-tanks",text:"Deco Tanks"}),":"):undefined,this.divePlan.configuration.configuration.deco.map((e=>i("p",null,e.name+"->"+e.gas.toString())))),!this.edit?i("ion-button",{expand:"full",color:d.isDecoplanner()?"gue-blue":"planner",onClick:()=>s.createNewDivePlan(this.divePlan)},i("my-transl",{tag:"plan-dive",text:"Plan a Dive"})):undefined)}};l.style=r;export{l as app_dive_plan_card};
//# sourceMappingURL=p-34d5e983.entry.js.map