{"file":"popover-shapes-filter.entry.esm.js","mappings":"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","names":[],"sources":["src/components/trasteel/popovers/popover-shapes-filter/popover-shapes-filter.scss?tag=popover-shapes-filter","src/components/trasteel/popovers/popover-shapes-filter/popover-shapes-filter.tsx"],"sourcesContent":["popover-shapes-filter {\n  /* Component styles go here */\n  min-width: var(--popover-width);\n}\n","import {Component, h, Host, Element, Prop, State} from \"@stencil/core\";\nimport {popoverController} from \"@ionic/core\";\nimport {ShapesService} from \"../../../../services/trasteel/refractories/shapes\";\nimport {\n  Shape,\n  ShapeFilter,\n  ShapeType,\n} from \"../../../../interfaces/trasteel/refractories/shapes\";\n\n@Component({\n  tag: \"popover-shapes-filter\",\n  styleUrl: \"popover-shapes-filter.scss\",\n})\nexport class PopoverShapesFilter {\n  @Element() el: HTMLElement;\n  @Prop() filter: ShapeFilter;\n  @State() shapeTypes: ShapeType[];\n  @State() dwg;\n  popover: HTMLIonPopoverElement;\n\n  async componentWillLoad() {\n    this.popover = this.el.closest(\"ion-popover\");\n    this.shapeTypes = await ShapesService.getShapeTypes();\n    this.adjustPopoverWidth(\"900px\");\n  }\n\n  handleFilter(ev) {\n    this.filter[ev.detail.name] = ev.detail.value;\n  }\n\n  async handleSelect(ev) {\n    this.filter.shapeTypeId = ev.detail.value;\n    const shape = new Shape(this.filter);\n    await ShapesService.setDwgForShape(shape);\n    this.dwg = shape.dwg;\n  }\n\n  adjustPopoverWidth(width: string) {\n    this.popover.style.setProperty(\"--popover-width\", width);\n  }\n\n  close() {\n    popoverController.dismiss();\n  }\n\n  save() {\n    popoverController.dismiss(this.filter);\n  }\n\n  render() {\n    return (\n      <Host>\n        <ion-header translucent>\n          <ion-toolbar>\n            <ion-title>Filter Shapes</ion-title>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <ion-grid>\n            <ion-row>\n              <ion-col>\n                <ion-list>\n                  <ion-grid>\n                    <ion-row>\n                      <ion-col>\n                        <app-select-search\n                          label={{\n                            tag: \"shape_type\",\n                            text: \"Shape Type\",\n                          }}\n                          value={this.filter.shapeTypeId}\n                          lines=\"inset\"\n                          selectFn={(ev) => this.handleSelect(ev)}\n                          selectOptions={this.shapeTypes}\n                          selectValueId=\"typeId\"\n                          selectValueText={[\"typeName\", \"en\"]}\n                        ></app-select-search>\n                      </ion-col>\n                    </ion-row>\n                  </ion-grid>\n\n                  {Object.keys(this.filter).map((key) =>\n                    !key.includes(\"operator\") && key !== \"shapeTypeId\" ? (\n                      <ion-row>\n                        <ion-col>\n                          <app-form-item\n                            label-text={key}\n                            value={this.filter[key]}\n                            name={key}\n                            input-type=\"number\"\n                            onFormItemChanged={(ev) => this.handleFilter(ev)}\n                          ></app-form-item>\n                        </ion-col>\n                        <ion-col size=\"1\">\n                          <ion-select\n                            color=\"trasteel\"\n                            interface=\"action-sheet\"\n                            onIonChange={(ev) =>\n                              (this.filter[key + \"_operator\"] = ev.detail.value)\n                            }\n                            value={this.filter[key + \"_operator\"]}\n                          >\n                            <ion-select-option value={\">=\"}>\n                              <ion-label>{\">=\"}</ion-label>\n                            </ion-select-option>\n                            <ion-select-option value={\">\"}>\n                              <ion-label>{\">\"}</ion-label>\n                            </ion-select-option>\n                            <ion-select-option value={\"=\"}>\n                              <ion-label>{\"=\"}</ion-label>\n                            </ion-select-option>\n                            <ion-select-option value={\"<\"}>\n                              <ion-label>{\"<\"}</ion-label>\n                            </ion-select-option>\n                            <ion-select-option value={\"<=\"}>\n                              <ion-label>{\"<=\"}</ion-label>\n                            </ion-select-option>\n                          </ion-select>\n                        </ion-col>\n                      </ion-row>\n                    ) : undefined\n                  )}\n                </ion-list>\n              </ion-col>\n              <ion-col>\n                <app-banner\n                  scrollTopValue={0}\n                  heightPx={300}\n                  backgroundCover={false}\n                  link={this.dwg ? this.dwg.url : null}\n                ></app-banner>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-content>\n        <ion-footer>\n          <app-modal-footer\n            saveTag={{tag: \"filter\", text: \"Filter\"}}\n            onCancelEmit={() => this.close()}\n            onSaveEmit={() => this.save()}\n          />\n        </ion-footer>\n      </Host>\n    );\n  }\n}\n"],"version":3}