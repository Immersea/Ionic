{"file":"app-dive-plan-card.entry.esm.js","mappings":"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","names":[],"sources":["src/components/udive/app/dive-sites/app-dive-plan-card/app-dive-plan-card.scss?tag=app-dive-plan-card","src/components/udive/app/dive-sites/app-dive-plan-card/app-dive-plan-card.tsx"],"sourcesContent":["app-dive-plan-card {\n  /* Component styles go here */\n  width: 100%;\n  height: 100%;\n}\n","import { Component, h, Prop, Event, EventEmitter } from \"@stencil/core\";\nimport { DivePlanModel } from \"../../../../../interfaces/udive/planner/dive-plan\";\nimport { DivePlansService } from \"../../../../../services/udive/divePlans\";\nimport { TranslationService } from \"../../../../../services/common/translations\";\nimport { alertController } from \"@ionic/core\";\nimport { DiveSitesService } from \"../../../../../services/udive/diveSites\";\nimport { MapDataDiveSite } from \"../../../../../interfaces/udive/dive-site/diveSite\";\nimport { Environment } from \"../../../../../global/env\";\n\n@Component({\n  tag: \"app-dive-plan-card\",\n  styleUrl: \"app-dive-plan-card.scss\",\n})\nexport class AppDiveSiteCard {\n  @Prop() divePlan: DivePlanModel;\n  @Prop() edit = false;\n  @Event() viewEmit: EventEmitter<DivePlanModel>;\n  @Event() removeEmit: EventEmitter<number>;\n  diveSite: MapDataDiveSite;\n\n  componentWillLoad() {\n    this.diveSite = DiveSitesService.diveSitesList.find(\n      (site) => site.id === this.divePlan.dives[0].diveSiteId\n    );\n  }\n\n  async viewDivePlan(ev) {\n    ev.stopPropagation();\n    const modal = await DivePlansService.presentDiveTemplateUpdate(\n      this.divePlan\n    );\n    if (modal) {\n      this.viewEmit.emit(modal);\n    }\n  }\n\n  async removeDivePlan(ev) {\n    ev.stopPropagation();\n    const confirm = await alertController.create({\n      header: TranslationService.getTransl(\n        \"delete-dive-header\",\n        \"Delete dive?\"\n      ),\n      message: TranslationService.getTransl(\n        \"delete-dive-message\",\n        \"This dive plan will be deleted! Are you sure?\"\n      ),\n      buttons: [\n        {\n          text: TranslationService.getTransl(\"cancel\", \"Cancel\"),\n          role: \"cancel\",\n          handler: () => {},\n        },\n        {\n          text: TranslationService.getTransl(\"ok\", \"OK\"),\n          handler: () => {\n            this.removeEmit.emit();\n          },\n        },\n      ],\n    });\n    confirm.present();\n  }\n\n  render() {\n    return (\n      <ion-card\n        onClick={(ev) => (this.edit ? this.viewDivePlan(ev) : undefined)}\n      >\n        {this.diveSite ? <app-item-cover item={this.diveSite} /> : undefined}\n\n        <ion-card-header>\n          <ion-item class='ion-no-padding' lines='none'>\n            {this.edit ? (\n              <ion-button\n                icon-only\n                slot='end'\n                color='danger'\n                fill='clear'\n                onClick={(ev) => this.removeDivePlan(ev)}\n              >\n                <ion-icon name='trash-bin-outline'></ion-icon>\n              </ion-button>\n            ) : undefined}\n\n            <ion-card-title>\n              {this.divePlan.configuration.stdName}\n            </ion-card-title>\n          </ion-item>\n\n          <ion-card-subtitle>\n            {this.divePlan.dives[0].getProfilePointsDetails().map((detail) => (\n              <p class='ion-text-start'>{detail}</p>\n            ))}\n          </ion-card-subtitle>\n        </ion-card-header>\n\n        <ion-card-content>\n          {this.divePlan.configuration.configuration.bottom.length > 0 ? (\n            <p>\n              <my-transl tag='bottom-tanks' text='Bottom Tanks' />:\n            </p>\n          ) : undefined}\n          {this.divePlan.configuration.configuration.bottom.map((tank) => (\n            <p>{tank.name + \"->\" + tank.gas.toString()}</p>\n          ))}\n          {this.divePlan.configuration.configuration.deco.length > 0 ? (\n            <p>\n              <my-transl tag='deco-tanks' text='Deco Tanks' />:\n            </p>\n          ) : undefined}\n          {this.divePlan.configuration.configuration.deco.map((tank) => (\n            <p>{tank.name + \"->\" + tank.gas.toString()}</p>\n          ))}\n        </ion-card-content>\n        {!this.edit ? (\n          <ion-button\n            expand='full'\n            color={Environment.isDecoplanner() ? \"gue-blue\" : \"planner\"}\n            onClick={() => DivePlansService.createNewDivePlan(this.divePlan)}\n          >\n            <my-transl tag='plan-dive' text='Plan a Dive'></my-transl>\n          </ion-button>\n        ) : undefined}\n      </ion-card>\n    );\n  }\n}\n"],"version":3}