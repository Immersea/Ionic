{"version":3,"names":["popoverProjectAutofillCss","PopoverProjectAutofillStyle0","PopoverProjectAutofill","AutoFillCourses","componentWillLoad","this","popover","el","closest","calculateWidth","handleAutofill","ev","autoFillCourses","detail","name","value","width","endAngle","startAngle","checkDisableSave","handleAutofillShapes","index","quantityShape","checkQuantities","forEach","qty","fromCourse","toCourse","startRadius","disableSave","close","popoverController","dismiss","save","render","h","Host","key","translucent","tag","text","bottom","onFormItemChanged","repairSets","step","layer","appendText","lines","slot","startHeight","radiusStep","shapes","map","shape","position","shapeId","saveTag","onCancelEmit","onSaveEmit"],"sources":["src/components/trasteel/popovers/popover-project-autofill/popover-project-autofill.scss?tag=popover-project-autofill","src/components/trasteel/popovers/popover-project-autofill/popover-project-autofill.tsx"],"sourcesContent":["popover-project-autofill {\n  /* Component styles go here */\n  ion-list {\n    min-height: 300px;\n  }\n  #project-grid {\n    ion-grid {\n      --ion-grid-column-padding: 0px;\n    }\n  }\n\n  .separator {\n    background-color: var(--ion-color-trasteel-tint);\n  }\n  #courses-grid {\n    .centered {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n    }\n    ion-grid {\n      --ion-grid-column-padding: 2px;\n      border-collapse: collapse;\n      border-style: hidden;\n\n      .header {\n        background-color: var(--ion-color-trasteel);\n        font-weight: bold;\n        color: var(--ion-color-trasteel-contrast);\n      }\n\n      ion-col {\n        border: 1px solid black;\n        border-bottom: 0;\n        border-right: 0;\n      }\n      ion-col:last-child {\n        border-right: 1px solid black;\n      }\n\n      ion-row:last-child {\n        border-bottom: 1px solid black;\n      }\n    }\n  }\n}\n","import {Component, h, Host, State, Element, Prop} from \"@stencil/core\";\nimport {popoverController} from \"@ionic/core\";\nimport {\n  ProjectAreaQualityShape,\n  AutoFillCourses,\n} from \"../../../../interfaces/trasteel/refractories/projects\";\n\n@Component({\n  tag: \"popover-project-autofill\",\n  styleUrl: \"popover-project-autofill.scss\",\n})\nexport class PopoverProjectAutofill {\n  @Element() el: HTMLElement;\n  @Prop() shapes: ProjectAreaQualityShape[];\n  @Prop() bottom = false;\n  @Prop() autoFillCourses = new AutoFillCourses();\n  @State() width;\n  @State() disableSave = true;\n  popover: HTMLIonPopoverElement;\n\n  componentWillLoad() {\n    this.popover = this.el.closest(\"ion-popover\");\n    this.calculateWidth();\n  }\n\n  handleAutofill(ev) {\n    this.autoFillCourses[ev.detail.name] = ev.detail.value;\n    this.calculateWidth();\n  }\n  calculateWidth() {\n    this.width =\n      this.autoFillCourses.endAngle - this.autoFillCourses.startAngle;\n    this.checkDisableSave();\n  }\n\n  handleAutofillShapes(index, ev) {\n    this.autoFillCourses.quantityShape[index] = ev.detail.value;\n    this.checkDisableSave();\n  }\n\n  checkDisableSave() {\n    let checkQuantities = 0;\n    this.autoFillCourses.quantityShape.forEach((qty) => {\n      checkQuantities += qty;\n    });\n    if (\n      this.autoFillCourses.fromCourse >= 0 &&\n      this.autoFillCourses.toCourse >= this.autoFillCourses.fromCourse &&\n      (this.autoFillCourses.startRadius > 0 || checkQuantities > 0)\n    ) {\n      this.disableSave = false;\n    } else {\n      this.disableSave = true;\n    }\n  }\n\n  close() {\n    popoverController.dismiss();\n  }\n\n  save() {\n    popoverController.dismiss(this.autoFillCourses);\n  }\n\n  render() {\n    return (\n      <Host>\n        <ion-header translucent>\n          <ion-toolbar>\n            <ion-title>\n              <my-transl tag=\"auto-fill\" text=\"Auto Fill\" />\n            </ion-title>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <ion-list>\n            {this.bottom\n              ? [\n                  <app-form-item\n                    label-tag=\"bottom-radius\"\n                    label-text=\"Bottom Radius\"\n                    value={this.autoFillCourses.startRadius}\n                    name=\"startRadius\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"repair-sets\"\n                    label-text=\"Repair Sets\"\n                    value={this.autoFillCourses.repairSets}\n                    name=\"repairSets\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                ]\n              : [\n                  <app-form-item\n                    label-tag=\"from-course\"\n                    label-text=\"From Course\"\n                    value={this.autoFillCourses.fromCourse}\n                    name=\"fromCourse\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"to-course\"\n                    label-text=\"To Course\"\n                    value={this.autoFillCourses.toCourse}\n                    name=\"toCourse\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"step\"\n                    label-text=\"Step\"\n                    value={this.autoFillCourses.step}\n                    name=\"step\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"layer\"\n                    label-text=\"Layer\"\n                    value={this.autoFillCourses.layer}\n                    name=\"layer\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"start-angle\"\n                    label-text=\"Start Angle\"\n                    appendText=\" °\"\n                    value={this.autoFillCourses.startAngle}\n                    name=\"startAngle\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"end-angle\"\n                    label-text=\"End Angle\"\n                    appendText=\" °\"\n                    value={this.autoFillCourses.endAngle}\n                    name=\"endAngle\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <ion-item detail={false} lines=\"none\">\n                    <ion-label>\n                      <ion-note>\n                        <my-transl tag=\"width\" text=\"Width\"></my-transl>\n                        {\" °\"}\n                      </ion-note>\n                    </ion-label>\n                    <div slot=\"end\">\n                      <ion-note>{this.width}</ion-note>\n                    </div>\n                  </ion-item>,\n                  <app-form-item\n                    label-tag=\"start-height\"\n                    label-text=\"Start Height\"\n                    appendText=\" (mm)\"\n                    value={this.autoFillCourses.startHeight}\n                    name=\"startHeight\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"start-radius\"\n                    label-text=\"Start Radius\"\n                    appendText=\" (mm)\"\n                    value={this.autoFillCourses.startRadius}\n                    name=\"startRadius\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"radius-step\"\n                    label-text=\"Radius Step\"\n                    appendText=\" (mm)\"\n                    value={this.autoFillCourses.radiusStep}\n                    name=\"radiusStep\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"repair-sets\"\n                    label-text=\"Repair Sets\"\n                    value={this.autoFillCourses.repairSets}\n                    name=\"repairSets\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  this.shapes.map((shape, index) => (\n                    <app-form-item\n                      label-text={\"Q.ty Pos. \" + shape.position}\n                      value={this.autoFillCourses.quantityShape[index]}\n                      name={shape.shapeId}\n                      input-type=\"number\"\n                      onFormItemChanged={(ev) =>\n                        this.handleAutofillShapes(index, ev)\n                      }\n                    ></app-form-item>\n                  )),\n                ]}\n          </ion-list>\n        </ion-content>\n        <ion-footer>\n          <app-modal-footer\n            saveTag={{tag: \"auto-fill\", text: \"Auto Fill\"}}\n            disableSave={this.disableSave}\n            onCancelEmit={() => this.close()}\n            onSaveEmit={() => this.save()}\n          />\n        </ion-footer>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}