{"file":"page-support.entry.esm.js","mappings":"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","names":[],"sources":["src/components/udive/pages/common/page-support/page-support.scss?tag=page-support","src/components/udive/pages/common/page-support/page-support.tsx"],"sourcesContent":["page-support {\n    /* Component styles go here */\n}\n","import { Network } from \"@capacitor/network\";\nimport { Component, h, State } from \"@stencil/core\";\nimport { Environment } from \"../../../../../global/env\";\nimport { InputValidator } from \"../../../../../interfaces/interfaces\";\nimport { UserService } from \"../../../../../services/common/user\";\n\n@Component({\n  tag: \"page-support\",\n  styleUrl: \"page-support.scss\",\n})\nexport class PageSupport {\n  @State() email: InputValidator = {\n    name: \"email\",\n    valid: false,\n    value: \"\",\n  };\n  @State() subject: InputValidator = {\n    name: \"subject\",\n    valid: false,\n    value: \"\",\n  };\n  @State() body: InputValidator = {\n    name: \"body\",\n    valid: false,\n    value: \"\",\n  };\n  @State() network = false;\n  @State() send = false;\n  @State() scrollTop = 0;\n\n  emailSubject: string;\n  emailBody: string;\n\n  componentWillLoad() {\n    Network.getStatus().then((status) => {\n      if (status.connected) {\n        this.network = true;\n      } else {\n        this.network = false;\n      }\n    });\n    this.email.value =\n      UserService && UserService.userProfile\n        ? UserService.userProfile.email\n        : \"\";\n    this.email.valid = true;\n  }\n\n  inputHandler(event) {\n    this[event.detail.name] = event.detail;\n  }\n\n  checkFields() {\n    if (this.email.valid && this.subject.valid && this.body.valid) {\n      this.send = true;\n    } else {\n      this.send = false;\n    }\n    this.emailSubject = encodeURI(\n      \"[Mobile Decoplanner support] \" + this.subject.value\n    );\n    this.emailBody = encodeURI(\n      \"User:\\n\" +\n        this.email.value +\n        (UserService.userProfile && UserService.userProfile.uid\n          ? \" (id: \" + UserService.userProfile.uid + \")\"\n          : \"\") +\n        \"\\n\\n\\nProblem:\\n\" +\n        this.body.value\n    );\n  }\n\n  messagesent() {\n    this.subject.value = \"\";\n    this.subject.valid = false;\n    this.body.value = \"\";\n    this.body.valid = false;\n    this.checkFields();\n  }\n\n  render() {\n    return [\n      <ion-header>\n        <app-navbar\n          tag='support'\n          text='Support'\n          color={Environment.getAppColor()}\n        ></app-navbar>\n      </ion-header>,\n\n      <ion-content\n        scrollEvents\n        onIonScroll={(ev) => (this.scrollTop = ev.detail.scrollTop)}\n      >\n        <app-banner\n          scrollTopValue={this.scrollTop}\n          heightPx={250}\n          link='assets/images/Jarrod-Stargate.jpg'\n        ></app-banner>\n        <app-form-item\n          label-tag='email'\n          label-text='Email'\n          name='email'\n          lines='full'\n          value={this.email.value}\n          input-type='email'\n          onFormItemChanged={(ev) => this.inputHandler(ev)}\n          onIsValid={() => this.checkFields()}\n          validator={[\"required\", \"email\"]}\n        ></app-form-item>\n        <app-form-item\n          label-tag='subject'\n          label-text='Subject'\n          name='subject'\n          lines='full'\n          value={this.subject.value}\n          input-type='text'\n          onFormItemChanged={(ev) => this.inputHandler(ev)}\n          onIsValid={() => this.checkFields()}\n          validator={[\n            \"required\",\n            {\n              name: \"length\",\n              options: { min: 5, max: null },\n            },\n          ]}\n        ></app-form-item>\n        <app-form-item\n          label-tag='text'\n          label-text='Text'\n          name='body'\n          lines='full'\n          value={this.body.value}\n          input-type='text'\n          text-rows='10'\n          onFormItemChanged={(ev) => this.inputHandler(ev)}\n          onIsValid={() => this.checkFields()}\n          validator={[\n            \"required\",\n            {\n              name: \"length\",\n              options: { min: 10, max: null },\n            },\n          ]}\n        ></app-form-item>\n        <ion-button\n          expand='block'\n          href={\n            \"mailto:decoplan@gue.com?subject=\" +\n            this.emailSubject +\n            \"&body=\" +\n            this.emailBody\n          }\n          onClick={() => this.messagesent()}\n          disabled={!this.network || !this.send}\n        >\n          <ion-icon name='send' slot='start'></ion-icon>\n          <my-transl tag='send' text='Send'></my-transl>\n        </ion-button>\n      </ion-content>,\n    ];\n  }\n}\n"],"version":3}