import{r as e,h as t,H as a,f as i}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{a as s,o}from"./p-5d4a8e1f.js";import{E as c}from"./p-46038295.js";import{T as d,U as f}from"./p-3670ea54.js";import{b as n}from"./p-d2a582b5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-83f44900.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-7ee16e8d.js";const r="modal-user-teams-update ion-list{width:100%}";const l=r;const b=class{constructor(t){e(this,t);this.user=undefined;this.usersTeams=undefined;this.userIndex=undefined;this.userTeams=undefined;this.updateView=false}async componentWillLoad(){this.usersTeams=await d.getUsersTeams();this.userIndex=this.usersTeams.usersTeams.length>0?this.usersTeams.usersTeams.findIndex((e=>e.uid===this.user.uid)):-1;if(this.userIndex<0){this.userTeams=new f(this.user)}else{this.userTeams=this.usersTeams.usersTeams[this.userIndex]}}async addTeam(){let e=[];let t=Object.keys(n);t.forEach((t=>{if(!this.userTeams.teams.includes(t)){e.push({text:t,handler:()=>{this.userTeams.teams.push(t);this.updateView=!this.updateView}})}}));e.push({text:"Close",icon:"close",role:"cancel",handler:()=>{}});const a=await s.create({header:"Add",buttons:e});await a.present()}async deleteTeam(e){this.userTeams.teams.splice(e);this.updateView=!this.updateView}async save(){if(this.userIndex>=0){this.usersTeams.usersTeams[this.userIndex]=this.userTeams}else{this.usersTeams.usersTeams.push(this.userTeams)}d.updateUsersTeams(this.usersTeams);o.dismiss()}async cancel(){return o.dismiss()}render(){return t(a,{key:"78015bb53e5b8f26f9fbf619b60656eda92f2ad8"},t("ion-header",{key:"a5edc03dfb22afbe55105f9f2a8dc282bf1b7b42"},t("ion-toolbar",{key:"b10fc51e658f02af0f353cfeaa787a6cbb3f8682",color:"trasteel"},t("ion-title",{key:"9b4e2454d9bed0c745d4cf15cb86e435f83d8c23"},"USER TEAMS MANAGER"))),t("ion-content",{key:"02b733f8b114afb6753b7e8aa086950a662e7d34"},t("ion-list",{key:"37ddf22f75a7733703411e1878889d843f6e99a5"},t("ion-item",{key:"344b397bcfc211ce54c08d5146efb2d6c0ee9069"},this.user.email),t("ion-item-divider",{key:"1c5566eca3dd8007cc1247ad05f0e13427afc26c"},t("ion-label",{key:"3c4cda22bf508ad7f31be98624ffa91c426e040a"},t("my-transl",{key:"f07781725d55be87761d8539a86540a603d506b6",tag:"teams",text:"Teams"}))),this.userTeams.teams.map(((e,a)=>t("ion-item",null,t("ion-label",null,e),t("ion-button",{slot:"end",fill:"clear",onClick:()=>this.deleteTeam(a)},t("ion-icon",{name:"trash",color:"danger"}))))),t("ion-button",{key:"306993e8ad2c25c672e37e083b266116e46dd76a",color:"trasteel",fill:"outline",expand:"full",onClick:()=>{this.addTeam()}},t("ion-icon",{key:"f986093fb7f70784dc64748223c8f291b0cd34a8",name:"add",slot:"start"}),t("ion-label",{key:"1f86d43d44e9314bcf1bd8f164f871545517c9e1"},t("my-transl",{key:"7c9e972b1f56bc26b8e68625a8381c110fccaeb9",tag:"add-team",text:"Add Team"}))))),t("app-modal-footer",{key:"86c7ffb3ec48fdae490e6b2dad4a4f3e66c430e3",color:c.getAppColor(),onCancelEmit:()=>this.cancel(),onSaveEmit:()=>this.save()}))}get el(){return i(this)}};b.style=l;export{b as modal_user_teams_update};
//# sourceMappingURL=p-dce65df4.entry.js.map