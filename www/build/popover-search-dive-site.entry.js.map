{"file":"popover-search-dive-site.entry.esm.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,wBAAwB,GAAG,+EAA+E;;MCQnG,qBAAqB;;;QAEhC,cAAS,GAAsB,EAAE,CAAC;wBACK,EAAE;;IAIzC,iBAAiB;QACf,IAAI,CAAC,SAAS,GAAG,gBAAgB,CAAC,aAAa,CAAC;QAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;KAC/C;IAED,gBAAgB;QACd,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QAC7D,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC;KAClC;IAED,WAAW,CAAC,EAAE;QACZ,MAAM,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CACnC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAC7D,CAAC;KACH;IAED,OAAO,CAAC,IAAI;QACV,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KAC/B;IAED,MAAM;QACJ,QACE,EAAC,IAAI,uDACH,mEAAY,WAAW,UACrB,sEACE,oEACE,kEAAW,GAAG,EAAC,QAAQ,EAAC,IAAI,EAAC,QAAQ,GAAG,CAC9B,CACA,EACd,sEACE,sEACE,EAAE,EAAC,YAAY,EACf,UAAU,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,GACzB,CACL,CACH,EACb,sEACE,mEACG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,MACtB,gBAAU,MAAM,QAAC,OAAO,EAAE,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAC/C,IAAI,CAAC,QAAQ,IACZ,kBAAY,IAAI,EAAC,OAAO,IACtB,eAAS,GAAG,EAAE,IAAI,CAAC,QAAQ,GAAI,CACpB,IACX,SAAS,EACb,qBAAY,IAAI,CAAC,WAAW,CAAa,CAChC,CACZ,CAAC,CACO,CACC,CACT,EACP;KACH;;;;;;;","names":[],"sources":["src/components/udive/popovers/popover-search-dive-site/popover-search-dive-site.scss?tag=popover-search-dive-site","src/components/udive/popovers/popover-search-dive-site/popover-search-dive-site.tsx"],"sourcesContent":["popover-search-dive-site {\n  /* Component styles go here */\n  ion-list {\n    min-height: 300px;\n  }\n}\n","import {Component, h, Host, State, Element} from \"@stencil/core\";\nimport {DiveSitesService} from \"../../../../services/udive/diveSites\";\nimport {MapDataDiveSite} from \"../../../../interfaces/udive/dive-site/diveSite\";\n\n@Component({\n  tag: \"popover-search-dive-site\",\n  styleUrl: \"popover-search-dive-site.scss\",\n})\nexport class PopoverSearchDiveSite {\n  @Element() el: HTMLElement;\n  sitesList: MapDataDiveSite[] = [];\n  @State() showList: MapDataDiveSite[] = [];\n  popover: HTMLIonPopoverElement;\n  searchBarElement: HTMLIonSearchbarElement;\n\n  componentWillLoad() {\n    this.sitesList = DiveSitesService.diveSitesList;\n    this.popover = this.el.closest(\"ion-popover\");\n  }\n\n  componentDidLoad() {\n    this.searchBarElement = this.el.querySelector(\"#search-bar\");\n    this.searchBarElement.setFocus();\n  }\n\n  searchSites(ev) {\n    const query = ev.target.value.toLowerCase();\n    this.showList = this.sitesList.filter(\n      (site) => site.displayName.toLowerCase().indexOf(query) > -1\n    );\n  }\n\n  addSite(site) {\n    this.popover.dismiss(site.id);\n  }\n\n  render() {\n    return (\n      <Host>\n        <ion-header translucent>\n          <ion-toolbar>\n            <ion-title>\n              <my-transl tag=\"search\" text=\"Search\" />\n            </ion-title>\n          </ion-toolbar>\n          <ion-toolbar>\n            <ion-searchbar\n              id=\"search-bar\"\n              onIonInput={(ev) => this.searchSites(ev)}\n            ></ion-searchbar>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <ion-list>\n            {this.showList.map((site) => (\n              <ion-item button onClick={() => this.addSite(site)}>\n                {site.photoURL ? (\n                  <ion-avatar slot=\"start\">\n                    <ion-img src={site.photoURL} />\n                  </ion-avatar>\n                ) : undefined}\n                <ion-label>{site.displayName}</ion-label>\n              </ion-item>\n            ))}\n          </ion-list>\n        </ion-content>\n      </Host>\n    );\n  }\n}\n"],"version":3}