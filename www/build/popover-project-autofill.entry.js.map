{"file":"popover-project-autofill.entry.esm.js","mappings":"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","names":[],"sources":["src/components/trasteel/popovers/popover-project-autofill/popover-project-autofill.scss?tag=popover-project-autofill","src/components/trasteel/popovers/popover-project-autofill/popover-project-autofill.tsx"],"sourcesContent":["popover-project-autofill {\n  /* Component styles go here */\n  ion-list {\n    min-height: 300px;\n  }\n  #project-grid {\n    ion-grid {\n      --ion-grid-column-padding: 0px;\n    }\n  }\n\n  .separator {\n    background-color: var(--ion-color-trasteel-tint);\n  }\n  #courses-grid {\n    .centered {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n    }\n    ion-grid {\n      --ion-grid-column-padding: 2px;\n      border-collapse: collapse;\n      border-style: hidden;\n\n      .header {\n        background-color: var(--ion-color-trasteel);\n        font-weight: bold;\n        color: var(--ion-color-trasteel-contrast);\n      }\n\n      ion-col {\n        border: 1px solid black;\n        border-bottom: 0;\n        border-right: 0;\n      }\n      ion-col:last-child {\n        border-right: 1px solid black;\n      }\n\n      ion-row:last-child {\n        border-bottom: 1px solid black;\n      }\n    }\n  }\n}\n","import {Component, h, Host, State, Element, Prop} from \"@stencil/core\";\nimport {popoverController} from \"@ionic/core\";\nimport {\n  ProjectAreaQualityShape,\n  AutoFillCourses,\n} from \"../../../../interfaces/trasteel/refractories/projects\";\n\n@Component({\n  tag: \"popover-project-autofill\",\n  styleUrl: \"popover-project-autofill.scss\",\n})\nexport class PopoverProjectAutofill {\n  @Element() el: HTMLElement;\n  @Prop() shapes: ProjectAreaQualityShape[];\n  @Prop() bottom = false;\n  @Prop() autoFillCourses = new AutoFillCourses();\n  @State() width;\n  @State() disableSave = true;\n  popover: HTMLIonPopoverElement;\n\n  componentWillLoad() {\n    this.popover = this.el.closest(\"ion-popover\");\n    this.calculateWidth();\n  }\n\n  handleAutofill(ev) {\n    this.autoFillCourses[ev.detail.name] = ev.detail.value;\n    this.calculateWidth();\n  }\n  calculateWidth() {\n    this.width =\n      this.autoFillCourses.endAngle - this.autoFillCourses.startAngle;\n    this.checkDisableSave();\n  }\n\n  handleAutofillShapes(index, ev) {\n    this.autoFillCourses.quantityShape[index] = ev.detail.value;\n    this.checkDisableSave();\n  }\n\n  checkDisableSave() {\n    let checkQuantities = 0;\n    this.autoFillCourses.quantityShape.forEach((qty) => {\n      checkQuantities += qty;\n    });\n    if (\n      this.autoFillCourses.fromCourse >= 0 &&\n      this.autoFillCourses.toCourse >= this.autoFillCourses.fromCourse &&\n      (this.autoFillCourses.startRadius > 0 || checkQuantities > 0)\n    ) {\n      this.disableSave = false;\n    } else {\n      this.disableSave = true;\n    }\n  }\n\n  close() {\n    popoverController.dismiss();\n  }\n\n  save() {\n    popoverController.dismiss(this.autoFillCourses);\n  }\n\n  render() {\n    return (\n      <Host>\n        <ion-header translucent>\n          <ion-toolbar>\n            <ion-title>\n              <my-transl tag=\"auto-fill\" text=\"Auto Fill\" />\n            </ion-title>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <ion-list>\n            {this.bottom\n              ? [\n                  <app-form-item\n                    label-tag=\"bottom-radius\"\n                    label-text=\"Bottom Radius\"\n                    value={this.autoFillCourses.startRadius}\n                    name=\"startRadius\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"repair-sets\"\n                    label-text=\"Repair Sets\"\n                    value={this.autoFillCourses.repairSets}\n                    name=\"repairSets\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                ]\n              : [\n                  <app-form-item\n                    label-tag=\"from-course\"\n                    label-text=\"From Course\"\n                    value={this.autoFillCourses.fromCourse}\n                    name=\"fromCourse\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"to-course\"\n                    label-text=\"To Course\"\n                    value={this.autoFillCourses.toCourse}\n                    name=\"toCourse\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"step\"\n                    label-text=\"Step\"\n                    value={this.autoFillCourses.step}\n                    name=\"step\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"layer\"\n                    label-text=\"Layer\"\n                    value={this.autoFillCourses.layer}\n                    name=\"layer\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"start-angle\"\n                    label-text=\"Start Angle\"\n                    appendText=\" °\"\n                    value={this.autoFillCourses.startAngle}\n                    name=\"startAngle\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"end-angle\"\n                    label-text=\"End Angle\"\n                    appendText=\" °\"\n                    value={this.autoFillCourses.endAngle}\n                    name=\"endAngle\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <ion-item detail={false} lines=\"none\">\n                    <ion-label>\n                      <ion-note>\n                        <my-transl tag=\"width\" text=\"Width\"></my-transl>\n                        {\" °\"}\n                      </ion-note>\n                    </ion-label>\n                    <div slot=\"end\">\n                      <ion-note>{this.width}</ion-note>\n                    </div>\n                  </ion-item>,\n                  <app-form-item\n                    label-tag=\"start-height\"\n                    label-text=\"Start Height\"\n                    appendText=\" (mm)\"\n                    value={this.autoFillCourses.startHeight}\n                    name=\"startHeight\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"start-radius\"\n                    label-text=\"Start Radius\"\n                    appendText=\" (mm)\"\n                    value={this.autoFillCourses.startRadius}\n                    name=\"startRadius\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"radius-step\"\n                    label-text=\"Radius Step\"\n                    appendText=\" (mm)\"\n                    value={this.autoFillCourses.radiusStep}\n                    name=\"radiusStep\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  <app-form-item\n                    label-tag=\"repair-sets\"\n                    label-text=\"Repair Sets\"\n                    value={this.autoFillCourses.repairSets}\n                    name=\"repairSets\"\n                    input-type=\"number\"\n                    onFormItemChanged={(ev) => this.handleAutofill(ev)}\n                  ></app-form-item>,\n                  this.shapes.map((shape, index) => (\n                    <app-form-item\n                      label-text={\"Q.ty Pos. \" + shape.position}\n                      value={this.autoFillCourses.quantityShape[index]}\n                      name={shape.shapeId}\n                      input-type=\"number\"\n                      onFormItemChanged={(ev) =>\n                        this.handleAutofillShapes(index, ev)\n                      }\n                    ></app-form-item>\n                  )),\n                ]}\n          </ion-list>\n        </ion-content>\n        <ion-footer>\n          <app-modal-footer\n            saveTag={{tag: \"auto-fill\", text: \"Auto Fill\"}}\n            disableSave={this.disableSave}\n            onCancelEmit={() => this.close()}\n            onSaveEmit={() => this.save()}\n          />\n        </ion-footer>\n      </Host>\n    );\n  }\n}\n"],"version":3}