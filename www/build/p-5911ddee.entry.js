import{r as e,h as i}from"./p-cbe60c68.js";import{S as t,R as a,ah as l,F as o,T as s,Q as n,am as r}from"./p-4a2e1f71.js";import{S as d}from"./p-a75993af.js";import{T as c}from"./p-17da2d87.js";import{l as p}from"./p-1af05547.js";import{E as b}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const g="page-project-details ion-grid{--ion-grid-column-padding:0px}page-project-details .separator{background-color:var(--ion-color-trasteel-tint);height:3px}page-project-details .separator ion-col{height:0px !important}page-project-details .positions-box{margin-top:10px;padding-top:5px;padding-right:5px;padding-bottom:5px;padding-left:10px;border:1px solid black}page-project-details #responsive-grid ion-grid{--ion-grid-padding:5px;--ion-grid-column-padding:0px}page-project-details #responsive-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-size:0.75rem;font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #responsive-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #responsive-grid ion-grid .noborder{border:0px}page-project-details #responsive-grid ion-grid ion-col{align-items:center;justify-content:center;text-align:center}page-project-details #responsive-grid ion-grid .ext-row{border:1px solid black}page-project-details #responsive-grid ion-grid .ext-col{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1{border-bottom:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:first-child{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1a{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:last-child{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row2{border-bottom:1px solid black;border-left:0px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row2{border-left:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row2:last-child{border-bottom:0px solid black}page-project-details #responsive-grid ion-grid .inner-col{border-right:1px solid black}page-project-details #responsive-grid ion-grid .button-no-margin{--padding-top:0px;--padding-bottom:0px;--padding-start:5px;--padding-end:5px}@media screen and (min-width: 1100px){page-project-details #responsive-grid ion-grid .button-no-margin{--padding-start:10px;--padding-end:10px}}page-project-details #courses-grid .centered{display:flex;align-items:center;justify-content:center;text-align:center}page-project-details #courses-grid ion-grid{border-collapse:collapse;border-style:hidden}page-project-details #courses-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #courses-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #courses-grid ion-grid ion-col{border:1px solid black;border-bottom:0;border-right:0}page-project-details #courses-grid ion-grid ion-col:last-child{border-right:1px solid black}page-project-details #courses-grid ion-grid ion-row:last-child{border-bottom:1px solid black}";const f=g;const h=class{constructor(i){e(this,i);this.titles=[{tag:"summary",text:"Summary"},{tag:"information",text:"Information"},{tag:"shaped",text:"Shaped",disabled:false},{tag:"unshaped",text:"Unshaped",disabled:false},{tag:"files",text:"Files",disabled:true}];this.itemId=undefined;this.project=undefined;this.updateView=true;this.updateSummary=true;this.allocationAreaSegment=0;this.areaShapes=[];this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadProject()}else{t.dismissLoading();t.presentAlertError("No Item Id");a.goBack()}}async loadProject(e){try{e?this.project=e:this.project=await l.getProject(this.itemId);this.areaShapes=await l.loadShapesForApplication(this.project);await l.checkBricksAllocationAreasForProject(this.project);this.updateSummary=!this.updateSummary;this.titles[2].disabled=this.project.projectAreaQuality.length==0;this.titles[3].disabled=this.project.projectMass.length==0;this.updateSlider()}catch(e){t.dismissLoading();a.goBack();t.presentAlertError(e)}}async componentDidLoad(){t.dismissLoading();this.slider=new d(".slider-detail-project",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}allocationAreaSegmentChanged(e){this.allocationAreaSegment=e.detail.value;this.updateSlider()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editProject(e){const i=await l.presentProjectUpdate(e?e:this.itemId);i.onDidDismiss().then((e=>this.loadProject(e.data)))}render(){return[i("ion-header",{key:"12ace5b05aa07880eb61c5d74786886a9960461a"},i("app-navbar",{key:"3b56cf1eb6ce8044f472ab4953dcd5527cde3d23",text:this.project.projectLocalId,color:"trasteel",backButton:true,rightButtonText:c.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editProject()})),i("app-header-segment-toolbar",{key:"c0bff9cbec61749a6420afe74f29dcbfecf1773b",color:b.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),i("ion-content",{key:"cb35d452bb9975d6818dba904fdd0a68e237a91a",class:"slides"},i("swiper-container",{key:"2a9455e56ca5e14be6a659d44463da0a7e3022e3",class:"slider-detail-project swiper"},i("swiper-wrapper",{key:"559106bd9ab41a121eb178d71d4267c739888e6a",class:"swiper-wrapper"},i("swiper-slide",{key:"96cb8a1164abf40eb4ffbe0b7814245b635ac1fa",class:"swiper-slide"},i("app-page-project-summary",{key:"3a269858c7038a0a75c77e66062987d698ea463a",project:this.project,areaShapes:this.areaShapes,updateSummary:this.updateSummary})),i("swiper-slide",{key:"ef4ecba76791ad4e2c3fd70b51f8b67ef5154e2e",class:"swiper-slide"},i("ion-list",{key:"bb13a28253bc4425421086cd112b6f172ec1a37b",class:"ion-no-padding",id:"project-grid"},i("app-item-detail",{key:"16e5805e7f871e14d2116d52baf4591972afe56b",lines:"none","label-tag":"customer","label-text":"Customer",detailText:this.project.customerId?o.getCustomersDetails(this.project.customerId)?o.getCustomersDetails(this.project.customerId).fullName:null:null}),i("app-item-detail",{key:"881efb58e5f6f812d45768654870bd7debc8802a",lines:"none","label-tag":"project-name","label-text":"Project Name",detailText:this.project.projectLocalId}),i("app-item-detail",{key:"991bf7e9442b9c843235d01ab8c18c625551802f",lines:"none","label-tag":"technical-docs-caption","label-text":"Technical Docs Caption",detailText:this.project.docsCaption}),i("app-item-detail",{key:"110dea264eeb8e76671e9c17af6c24f622932a87",lines:"none","label-tag":"project-description","label-text":"Project Description",detailText:this.project.projectDescription}),i("app-item-detail",{key:"e819d604c08466517f3200801e692ec169cc94db",lines:"none","label-tag":"drawing-no","label-text":"Drawing No.",detailText:this.project.drawing}),i("ion-grid",{key:"2889d7e1637d187db6e49b95f2289f288709c3a0"},i("ion-row",{key:"06e7b65d1b7a37d227c67398467cf692169fe2d0"},i("ion-col",{key:"0d4b96c81c1d4f3566474249b58692a54a47f424"},i("app-item-detail",{key:"44df80ef60e57bb08648271f357467a4e4671f2c",lines:"none","label-tag":"drawing-date","label-text":"Drawing Date",detailText:this.project.drawingDate,isDate:true})),i("ion-col",{key:"72cd200267c757c633921b6627591b32c31aafac"},i("app-item-detail",{key:"5223be79662619fdc7dae308bd3cbee3e032b67d",lines:"none","label-tag":"project-finished-date","label-text":"Project Finished Date",detailText:this.project.finishedDate,isDate:true})))),i("ion-grid",{key:"3fcf21a74bc67907008e161f1fb4490c827ee5f2"},i("ion-row",{key:"5a7c4613467f9629dcb5db2765e13c2ea1ec1969"},i("ion-col",{key:"a799f014d4f846a9bb750c01145b69e669be50ff"},i("app-item-detail",{key:"5e3a9c9b394f58d4112defc372517d90ade939da",lines:"none","label-tag":"capacity","label-text":"Capacity",detailText:p.exports.toString(this.project.steelAmount)})),i("ion-col",{key:"ff12b764239c647fc2b496392afa182a2eb51f2f"},i("app-item-detail",{key:"0f689e7969fbd107dbe5d6b3b783723b46862553",lines:"none","label-tag":"application-unit","label-text":"Application Unit",detailText:l.getApplicationUnits(this.project.applicationId)[0].applicationName.en})))),i("app-item-detail",{key:"9e7151f71b4b653c1fa331e0112287c640dca055",lines:"none","label-tag":"steel-amount","label-text":"Steel Amount",detailText:p.exports.toString(this.project.steelAmount)}),i("app-item-detail",{key:"05f6a2e4bd3a4030dd09de9067e05d230a526132",lines:"none","label-tag":"steel-density","label-text":"Steel Density",appendText:" (g/sm3)",detailText:p.exports.toString(this.project.liquidMetalDensity)}),i("app-item-detail",{key:"ff6ba81a4ccf1f615ec4d59a1f095b5094598bf1",lines:"none","label-tag":"guaranteed-lifetime","label-text":"Guaranteed Lifetime",appendText:" (heats)",detailText:this.project.guaranteedLife}))),i("swiper-slide",{key:"38f101774215ef15c681ed3570384516eeef7fc9",class:"swiper-slide"},i("div",{key:"5b763b6f58172620160506f665ccbacc737c25f4"},i("ion-toolbar",{key:"58001fe032628becd34842bb5c6a29c0a8585191"},i("ion-segment",{key:"1ee6719e9154b2a5b2754cd565660872f660c468",mode:"ios",scrollable:true,onIonChange:e=>this.allocationAreaSegmentChanged(e),value:this.allocationAreaSegment},this.project.projectAreaQuality.map(((e,t)=>i("ion-segment-button",{value:t,layout:"icon-start"},i("ion-label",null,(e.bricksAllocationAreaId?l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en:"")+(e.onlyForRepair?" ("+s.getTransl("repair","Repair")+")":""))))))),this.project.projectAreaQuality.map(((e,t)=>i("div",null,this.allocationAreaSegment==t?i("div",null,i("ion-grid",null,i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"bricks-allocation-area","label-text":"Bricks Allocation Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:n.getDatasheetName(e.datasheetId)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:p.exports.toString(e.density)}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"include-safety","label-text":"Include Safety",appendText:" %",detailText:p.exports.toString(e.includeSafety)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"only-for-repair","label-text":"Only for repair",detailText:e.onlyForRepair}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"comments","label-text":"Comments",detailText:p.exports.toString(e.comments)}))),i("div",{class:"positions-box"},e.shapes?e.shapes.map(((a,l)=>i("ion-row",null,i("ion-col",{size:"3"},i("app-item-detail",{showItem:false,"label-tag":l==0?"position":null,"label-text":l==0?"Position":null,detailText:p.exports.toString(a.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,labelTag:l==0?"shape":null,labelText:l==0?"Shape":null,detailText:r.getShapeName(e.shapes[l].shapeId)})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"radius":null,labelText:l==0?"Radius":null,appendText:l==0?" (mm)":null,detailText:this.areaShapes&&this.areaShapes[t]&&this.areaShapes[t].shapes[l].radius>0?this.areaShapes[t].shapes[l].radius:"-"})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"weight":null,labelText:l==0?"Weight":null,appendText:l==0?" (Kg)":null,detailText:this.areaShapes&&this.areaShapes[t]?this.project.projectAreaQuality[t].shapes[l].specialShapeVolume>0?this.areaShapes[t].shapes[l].getWeightForVolume(this.project.projectAreaQuality[t].shapes[l].specialShapeVolume,e.density):this.areaShapes[t].shapes[l].getWeight(e.density):"-"}))))):undefined)),i("div",{id:"responsive-grid"},i("ion-grid",null,i("ion-row",{class:"header ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("course","Course")),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("start","Start")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("end","End")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("radius","Radius")+" (mm)"))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},"Pos. "+e.shapes.map((e=>e.position))),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("quantity","Quantity")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("sum","Sum")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("repair-sets","Repair Sets")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("weight","Weight")+" (Kg)"),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("row-weight","Row Weight")+" (Kg)")))))),e.courses.map(((a,o)=>[i("ion-row",{class:"ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.courseNumber),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.startAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.endAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.innerRadius))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},e.shapes.map(((e,s)=>i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},r.getShapeName(e.shapeId)),i("ion-col",{size:"2",class:"inner-col"},a.quantityShapes.length>0&&a.quantityShapes[s]?a.quantityShapes[s].quantity:0),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.countTotalQuantity(a):undefined),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?a.repairSets:undefined),i("ion-col",{size:"2",class:"inner-col"},l.getAreaCourseWeightForShape(this.project,this.areaShapes,t,o,s)),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.getTotalWeightForCourse(this.project,this.areaShapes,t,o):undefined)))))))),i("ion-row",{class:"separator"},i("ion-col",null))]))))):undefined))))),i("swiper-slide",{key:"0491ecdb7b0be62a222257e09fe548b9383e2f70",class:"swiper-slide"},i("div",{key:"5b6052a34c9476dd6b8e19118ddfe918de12b7ac"},i("ion-grid",{key:"1f1a20a673bd3821fe187aec92cbffc452d15b9d"},this.project.projectMass.map((e=>[i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"position","label-text":"Position",detailText:p.exports.toString(e.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"application-area","label-text":"Application Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:n.getDatasheetName(e.datasheetId)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:e.density}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quantity","label-text":"Quantity",detailText:p.exports.toString(e.quantity)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"unit","label-text":"Unit",detailText:e.quantityUnit?l.getQuantityUnits(e.quantityUnit)[0].quantityUnitName.en:""})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"x")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"weight-per-unit","label-text":"Weight per Unit",appendText:" (Kg)",detailText:e.weightPerUnitKg})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"=")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"total-weight","label-text":"Total Weight",appendText:" (MT)",detailText:e.totalWeightMT}))),i("ion-row",{class:"separator"},i("ion-col",null))]))))),i("swiper-slide",{key:"bd7e5de35bc478d2de00b8db2e527bf1b6125de2",class:"swiper-slide"},"file - to do"))))]}};h.style=f;export{h as page_project_details};
//# sourceMappingURL=p-5911ddee.entry.js.map