import{r as e,h as a}from"./p-cbe60c68.js";import{S as t,R as i,am as l,T as d}from"./p-83f44900.js";import{T as s}from"./p-3670ea54.js";import{S as n}from"./p-a75993af.js";import{E as c}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const p="page-shape-details{}";const o=p;const b=class{constructor(a){e(this,a);this.titles=[{tag:"information",text:"Information"},{tag:"drawing",text:"Drawing",disabled:false}];this.itemId=undefined;this.shape=undefined;this.shapeTypes=undefined;this.updateView=true;this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadShape()}else{t.dismissLoading();t.presentAlertError("No Item Id");i.goBack()}}async componentDidLoad(){this.slider=new n(".slider-detail-shapes",{speed:400,spaceBetween:0,allowTouchMove:false,autoHeight:true,slidesPerView:1,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:2}}})}async loadShape(){try{this.shape=await l.getShape(this.itemId);this.shapeTypes=await l.getShapeTypes();this.checkDwg()}catch(e){t.dismissLoading();t.presentAlertError(e);i.goBack()}t.dismissLoading()}async checkDwg(){if(!this.shape.dwg){const e=this.shapeTypes.find((e=>e.typeId==this.shape.shapeTypeId));if(e){this.shape.dwg=e.dwg}if(!this.shape.dwg){this.titles[1].disabled=true;this.updateView=!this.updateView}}}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editShape(){const e=await l.presentShapeUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadShape()))}deleteShape(){l.deleteShape(this.itemId);i.goBack()}duplicateShape(){l.duplicateShape(this.itemId);i.goBack()}render(){return[a("ion-header",{key:"6d369f95edf03275d3bac479e4f71e1ca0417f05"},a("app-navbar",{key:"bfd72c4eaba98a9e970a66837e72f498c40a2d33",text:this.shape.shapeName,color:"trasteel",backButton:true,rightButtonText:s.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editShape()})),a("app-header-segment-toolbar",{key:"334151cf429933b9df764629f2c398daa0a61293",color:c.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),a("ion-content",{key:"2e06714748d3feb76feb8e20106b859105298683",class:"slides"},a("swiper-container",{key:"84dbfdf60c5c1ec16aa4dd48cbc44052875c2339",class:"slider-detail-shapes swiper"},a("swiper-wrapper",{key:"9ee90be43e9bcdfde9255566c82d1c557a871121",class:"swiper-wrapper"},a("swiper-slide",{key:"2e6d175b03729159273798062dbb0a63c0aaee57",class:"swiper-slide"},a("ion-list",{key:"f94d3580c34bd9688420c4964367cb1af3e7c160",class:"ion-no-padding"},a("app-item-detail",{key:"ed872df7c73c96a57bedfc7e3de065283e0e33e5",lines:"none",labelTag:"shape_type",labelText:"Shape Type",detailText:l.getShapeTypeName(this.shape.shapeTypeId)["en"]}),a("app-item-detail",{key:"4adac4bf71f73ab290a2ed1084b187e6824d7090",lines:"none",labelTag:"name",labelText:"Name",detailText:this.shape.shapeName}),a("app-item-detail",{key:"4b96de21137eafde8ada56251efa1b3d9db9728a",lines:"none",labelTag:"shortName",labelText:"Short Name",detailText:this.shape.shapeShortName}),a("app-item-detail",{key:"b2b66395c091ba900ff6c0718be1bd9c8763b812",lines:"none",labelText:"H",detailText:this.shape.H}),a("app-item-detail",{key:"ac34315f465dc432fc22e71f47bb7263efa24a76",lines:"none",labelText:"H1",detailText:this.shape.H1}),a("app-item-detail",{key:"37afd44a72ba4a1ee161ed982d2518aef54b1bd4",lines:"none",labelText:"H2",detailText:this.shape.H2}),a("app-item-detail",{key:"6c26fe4584081dd9eef95cc17e0d6bed997e2f4c",lines:"none",labelText:"L",detailText:this.shape.L}),a("app-item-detail",{key:"01c9551605fdb2fbf8f5d7bd533b81ab5311759c",lines:"none",labelText:"L1",detailText:this.shape.L1}),a("app-item-detail",{key:"baff9c8404d3bda30ffcbe8c3d3fd2dcc99f8756",lines:"none",labelText:"La",detailText:this.shape.La}),a("app-item-detail",{key:"570fb79a01cf961c63d7837727756528d8622416",lines:"none",labelText:"Lb",detailText:this.shape.Lb}),a("app-item-detail",{key:"58c4e8ad6adbe61da3446ebac930b40c34f6a760",lines:"none",labelText:"A",detailText:this.shape.A}),a("app-item-detail",{key:"72d16eacd3b4e6f7da1771e251e2d46e689e1a66",lines:"none",labelText:"A1",detailText:this.shape.A1}),a("app-item-detail",{key:"269da42c1879589b48c44fa5a85ccc023be0fd54",lines:"none",labelText:"B",detailText:this.shape.B}),a("app-item-detail",{key:"26d91d52c0d405e2b0e008e1e1771bd339ca0821",lines:"none",labelText:"B1",detailText:this.shape.B1}),a("app-item-detail",{key:"a631b2f369993465ad2170f06b7dacba183d180d",lines:"none",labelText:"ANG",detailText:this.shape.ANG}),a("app-item-detail",{key:"4ba6e6309ce2d528a6aaaf7a161d3634841dd60c",lines:"none",labelText:"ANG1",detailText:this.shape.ANG1}),a("app-item-detail",{key:"825d5fd5076f21f124b0548f372530e0b459697b",lines:"none",labelText:"D",detailText:this.shape.D}),a("app-item-detail",{key:"901429c0755ca42a8efa6255e9ba54ad378732f9",lines:"none",labelText:"D1",detailText:this.shape.D1}),a("app-item-detail",{key:"4f8b4ae33f1775886d57f2bf3b76c0d1d552471b",lines:"none",labelText:"D2",detailText:this.shape.D2}),a("app-item-detail",{key:"29db0fe1d0e091420077b11eedb08e3e28c2b71a",lines:"none",labelText:"D3",detailText:this.shape.D3}),a("app-item-detail",{key:"8b02a2d888ae299a50bee1c996317eac32efcc43",lines:"none",labelText:"D4",detailText:this.shape.D4}),a("app-item-detail",{key:"aa2364b5de32c264eed8a8ea0a5fb852c3c5a0a4",lines:"none",labelText:"De",detailText:this.shape.De}),a("app-item-detail",{key:"4f7c7f87ba11d036a088c297ecc5e92b39af5b61",lines:"none",labelText:"Di",detailText:this.shape.Di}),a("app-item-detail",{key:"208c425634db9dc8d369d8b444895fb5f00d6af5",lines:"none",labelText:"N",detailText:this.shape.N}),a("app-item-detail",{key:"03b39f46c6a97a6b1e7fb3c05c74dc621261a809",lines:"none",labelText:"Radius",appendText:this.shape.radius_max>0?" MIN":null,detailText:this.shape.radius}),a("app-item-detail",{key:"74607ce3168f989213854966907a75a474363c04",lines:"none",labelText:"Radius",appendText:" MAX",detailText:this.shape.radius_max}),a("app-item-detail",{key:"2f70d5ae3f11db55362fca7e3b855ef50d434f19",lines:"none",labelText:"Volume",detailText:this.shape.volume})),s.isRefraDBAdmin()?a("ion-grid",null,a("ion-row",null,a("ion-col",null,a("ion-button",{color:"danger",fill:"outline",expand:"block",onClick:()=>this.deleteShape()},a("ion-icon",{name:"trash",slot:"start"}),a("ion-label",null,d.getTransl("delete","Delete")))),a("ion-col",null,a("ion-button",{color:"tertiary",fill:"outline",expand:"block",onClick:()=>this.duplicateShape()},a("ion-icon",{name:"duplicate",slot:"start"}),a("ion-label",null,d.getTransl("copy","Copy")))))):undefined),this.shape.dwg?a("swiper-slide",{class:"swiper-slide"},a("app-banner",{heightPx:500,backgroundCoverFill:false,link:this.shape.dwg?this.shape.dwg.url:null})):undefined)))]}};b.style=o;export{b as page_shape_details};
//# sourceMappingURL=p-600451da.entry.js.map