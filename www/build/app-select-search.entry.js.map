{"file":"app-select-search.entry.esm.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,kBAAkB,GAAG,EAAE;;MCShB,eAAe;;;;;;;;;;;;wBAWP,KAAK;0BACF,KAAK;;IAE3B,iBAAiB,MAAK;IAEtB,MAAM,iBAAiB;QACrB,MAAM,OAAO,GAAG,MAAM,iBAAiB,CAAC,MAAM,CAAC;YAC7C,SAAS,EAAE,uBAAuB;YAClC,cAAc,EAAE;gBACd,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,aAAa,EAAE,IAAI,CAAC,aAAa;gBACjC,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,aAAa,EAAE,IAAI,CAAC,aAAa;gBACjC,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,WAAW,EAAE,IAAI,CAAC,WAAW;aAC9B;YACD,KAAK,EAAE,IAAI;YACX,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;QACH,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE;YACnC,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE;gBACjB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;;gBAEzC,IAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;aACpC;SACF,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;KACnB;IAED,YAAY;QACV,MAAM,IAAI,GAAGA,mBAAI,CACf,IAAI,CAAC,aAAa,EAClB,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,KAAK,CAC3C,CAAC;QACF,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;QACtB,IAAI,IAAI,EAAE;YACR,IAAI,GAAGC,wBAAS,CAAC,IAAI,CAAC,CAAC;SACxB;QACD,IAAI,GAAG,GAAG,IAAI,CAAC;QACf,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAChE,MAAM,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAIC,uBAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;gBACzB,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5C;iBAAM,IAAIC,uBAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;gBAChC,KAAK,EAAE,CAAC;;gBAER,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;aACzE;SACF;QACD,OAAO,GAAG,CAAC;KACZ;IAED,MAAM;QACJ,QACE,iEACE,MAAM,QACN,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,OAAO,EAAE,MAAM,IAAI,CAAC,iBAAiB,EAAE,IAEvC,oEACG,IAAI,CAAC,KAAK;cACP;gBACE,IAAI,CAAC,KAAK,IACR,SACE,KAAK,EAAE;wBACL,WAAW,EAAE,SAAS;wBACtB,KAAK,EAAE,OAAO;qBACf,IAED,iBACE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EACnB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,GACV,EACZ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,EAAE,CACzC,IACF,SAAS;gBACb,cAAK,IAAI,CAAC,YAAY,EAAE,CAAM;aAC/B;cACD,IAAI,CAAC,KAAK;kBACR;oBACE,iBACE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EACnB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,GACV;oBACb,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,EAAE;iBAC3C;kBACD,SAAS,CACL,EACZ,iEAAU,IAAI,EAAC,YAAY,EAAC,IAAI,EAAC,KAAK,EAAC,IAAI,EAAC,OAAO,GAAY,CACtD,EACX;KACH;;;;;;;","names":["find","cloneDeep","isString","isObject"],"sources":["src/components/common/app/common/app-select-search/app-select-search.scss?tag=app-select-search&encapsulation=shadow","src/components/common/app/common/app-select-search/app-select-search.tsx"],"sourcesContent":["app-select-search {\n}\n","import {popoverController} from \"@ionic/core\";\nimport {Component, Element, Prop, State, h} from \"@stencil/core\";\nimport {cloneDeep, find, isObject, isString} from \"lodash\";\n\n@Component({\n  tag: \"app-select-search\",\n  styleUrl: \"app-select-search.scss\",\n  shadow: true,\n})\nexport class AppSelectSearch {\n  @Element() el: HTMLElement;\n  @Prop() label: {tag: string; text: string};\n  @Prop() labelAddText: string;\n  @Prop() lines: \"inset\" | \"full\" | \"none\";\n  @Prop() selectFn: any;\n  @Prop() selectOptions: any[];\n  @Prop({mutable: true}) value: string;\n  @Prop() placeholder: string;\n  @Prop() selectValueId: string;\n  @Prop() selectValueText: string[];\n  @Prop() disabled = false;\n  @State() updateView = false;\n\n  componentWillLoad() {}\n\n  async openSearchPopover() {\n    const popover = await popoverController.create({\n      component: \"popover-select-search\",\n      componentProps: {\n        label: this.label,\n        selectOptions: this.selectOptions,\n        selectValueText: this.selectValueText,\n        selectValueId: this.selectValueId,\n        value: this.value,\n        placeholder: this.placeholder,\n      },\n      event: null,\n      translucent: true,\n    });\n    popover.onDidDismiss().then(async (ev) => {\n      if (ev && ev.data) {\n        this.value = ev.data[this.selectValueId];\n        //execute function and return selected value id - return same ev as ion-select\n        this.selectFn({detail: {value: this.value}});\n        this.updateView = !this.updateView;\n      }\n    });\n    popover.present();\n  }\n\n  getTextValue() {\n    const item = find(\n      this.selectOptions,\n      (x) => x[this.selectValueId] == this.value\n    );\n    let text = this.value;\n    if (item) {\n      text = cloneDeep(item);\n    }\n    let ret = null;\n    for (let index = 0; index < this.selectValueText.length; index++) {\n      const value = this.selectValueText[index];\n      if (isString(text[value])) {\n        ret = (ret ? ret + \"-\" : \"\") + text[value];\n      } else if (isObject(text[value])) {\n        index++;\n        //in case of TextMultiLanguage the second text is the language\n        ret = (ret ? ret + \"-\" : \"\") + text[value][this.selectValueText[index]];\n      }\n    }\n    return ret;\n  }\n\n  render() {\n    return (\n      <ion-item\n        button\n        lines={this.lines}\n        disabled={this.disabled}\n        onClick={() => this.openSearchPopover()}\n      >\n        <ion-label>\n          {this.value\n            ? [\n                this.label ? (\n                  <p\n                    style={{\n                      \"font-size\": \"0.75rem\",\n                      color: \"black\",\n                    }}\n                  >\n                    <my-transl\n                      tag={this.label.tag}\n                      text={this.label.text}\n                    ></my-transl>\n                    {this.labelAddText ? this.labelAddText : \"\"}\n                  </p>\n                ) : undefined,\n                <h2>{this.getTextValue()}</h2>,\n              ]\n            : this.label\n              ? [\n                  <my-transl\n                    tag={this.label.tag}\n                    text={this.label.text}\n                  ></my-transl>,\n                  this.labelAddText ? this.labelAddText : \"\",\n                ]\n              : undefined}\n        </ion-label>\n        <ion-icon name=\"caret-down\" slot=\"end\" size=\"small\"></ion-icon>\n      </ion-item>\n    );\n  }\n}\n"],"version":3}