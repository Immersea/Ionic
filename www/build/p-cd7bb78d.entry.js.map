{"version":3,"names":["appUserTranslationCss","AppUserTranslationStyle0","AppUserTranslation","componentWillLoad","translations","Object","keys","this","userTranslation","forEach","langId","push","orderBy","add","buttons","SystemService","getLanguages","lang","text","label","handler","addTranslation","value","action","actionSheetController","create","header","TranslationService","getTransl","present","remove","i","splice","render","h","Host","key","map","translation","slot","selectedLangCode","edit","rows","inputmode","fill","onClick","button","name","tag","undefined"],"sources":["src/components/common/app/common/app-user-translation/app-user-translation.scss?tag=app-user-translation","src/components/common/app/common/app-user-translation/app-user-translation.tsx"],"sourcesContent":["app-user-translation {\n    /* Component styles go here */\n}\n","import {\n  Component,\n  h,\n  Event,\n  EventEmitter,\n  Prop,\n  Host,\n  State,\n} from \"@stencil/core\";\nimport {actionSheetController} from \"@ionic/core\";\nimport {TranslationService} from \"../../../../../services/common/translations\";\nimport {SystemService} from \"../../../../../services/common/system\";\nimport {\n  UserTranslationDoc,\n  UserTranslation,\n} from \"../../../../../interfaces/common/translations/translations\";\nimport {orderBy} from \"lodash\";\n\n@Component({\n  tag: \"app-user-translation\",\n  styleUrl: \"app-user-translation.scss\",\n})\nexport class AppUserTranslation {\n  @Prop() userTranslation: UserTranslationDoc;\n  @Prop() edit: boolean = true;\n  @State() translations: UserTranslation[] = [];\n  @Event() translationEmit: EventEmitter<UserTranslation>;\n\n  componentWillLoad() {\n    const translations = [];\n    Object.keys(this.userTranslation).forEach((langId) => {\n      translations.push(this.userTranslation[langId]);\n    });\n    this.translations = orderBy(translations, \"langId\");\n  }\n\n  async add() {\n    const buttons = [];\n    SystemService.getLanguages().forEach((lang) => {\n      buttons.push({\n        text: lang.label,\n        handler: () => {\n          this.addTranslation(lang.value);\n        },\n      });\n    });\n    const action = await actionSheetController.create({\n      header: TranslationService.getTransl(\"language\", \"Language\"),\n      buttons: buttons,\n    });\n    action.present();\n  }\n\n  addTranslation(lang) {\n    this.translations.push({\n      lang: lang,\n      text: \"\",\n    });\n  }\n\n  remove(i) {\n    this.translations.splice(i, 1);\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.translations.map((translation, i) => (\n          <ion-item>\n            <app-language-picker\n              slot=\"start\"\n              selectedLangCode={translation.lang}\n            ></app-language-picker>\n            {this.edit ? (\n              [\n                <ion-textarea\n                  value={translation.text}\n                  rows={2}\n                  inputmode=\"text\"\n                ></ion-textarea>,\n                <ion-button\n                  slot=\"end\"\n                  icon-only\n                  fill=\"clear\"\n                  onClick={() => this.remove(i)}\n                />,\n              ]\n            ) : (\n              <ion-label>{translation.text}</ion-label>\n            )}\n          </ion-item>\n        ))}\n        {this.edit ? (\n          <ion-item button onClick={() => this.add()}>\n            <ion-icon name=\"add\" slot=\"start\" />\n            <ion-label>\n              <my-transl tag=\"add\" text=\"Add\"></my-transl>\n            </ion-label>\n          </ion-item>\n        ) : undefined}\n      </Host>\n    );\n  }\n}\n"],"mappings":"4WAAA,MAAMA,EAAwB,yBAC9B,MAAAC,EAAeD,E,MCqBFE,EAAkB,M,mHAEL,K,kBACmB,E,CAG3C,iBAAAC,GACE,MAAMC,EAAe,GACrBC,OAAOC,KAAKC,KAAKC,iBAAiBC,SAASC,IACzCN,EAAaO,KAAKJ,KAAKC,gBAAgBE,GAAQ,IAEjDH,KAAKH,aAAeQ,kBAAQR,EAAc,S,CAG5C,SAAMS,GACJ,MAAMC,EAAU,GAChBC,EAAcC,eAAeP,SAASQ,IACpCH,EAAQH,KAAK,CACXO,KAAMD,EAAKE,MACXC,QAAS,KACPb,KAAKc,eAAeJ,EAAKK,MAAM,GAEjC,IAEJ,MAAMC,QAAeC,EAAsBC,OAAO,CAChDC,OAAQC,EAAmBC,UAAU,WAAY,YACjDd,QAASA,IAEXS,EAAOM,S,CAGT,cAAAR,CAAeJ,GACbV,KAAKH,aAAaO,KAAK,CACrBM,KAAMA,EACNC,KAAM,I,CAIV,MAAAY,CAAOC,GACLxB,KAAKH,aAAa4B,OAAOD,EAAG,E,CAG9B,MAAAE,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACF7B,KAAKH,aAAaiC,KAAI,CAACC,EAAaP,IACnCG,EAAA,gBACEA,EAAA,uBACEK,KAAK,QACLC,iBAAkBF,EAAYrB,OAE/BV,KAAKkC,KAAI,CAENP,EAAA,gBACEZ,MAAOgB,EAAYpB,KACnBwB,KAAM,EACNC,UAAU,SAEZT,EAAA,cACEK,KAAK,MAAK,iBAEVK,KAAK,QACLC,QAAS,IAAMtC,KAAKuB,OAAOC,MAI/BG,EAAA,iBAAYI,EAAYpB,SAI7BX,KAAKkC,KACJP,EAAA,YAAUY,OAAM,KAACD,QAAS,IAAMtC,KAAKM,OACnCqB,EAAA,YAAUa,KAAK,MAAMR,KAAK,UAC1BL,EAAA,iBACEA,EAAA,aAAWc,IAAI,MAAM9B,KAAK,UAG5B+B,U","ignoreList":[]}