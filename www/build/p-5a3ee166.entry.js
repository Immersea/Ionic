import{r as e,e as i,h as t,H as s,f as n}from"./p-cbe60c68.js";import{S as c,a4 as o,T as a}from"./p-364f0bff.js";import{l as r}from"./p-1af05547.js";import"./p-66796388.js";import"./p-e9c4f463.js";import"./p-be6a132e.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const d="popover-search-diving-course{}popover-search-diving-course ion-list{min-height:300px}";const p=d;const h=class{constructor(t){e(this,t);this.certSelected=i(this,"certSelected",7);this.item=undefined;this.popover=undefined;this.updateView=false}async componentWillLoad(){this.agencies=await c.getDivingAgencies();this.localAgencies=o.agencies;!this.item?this.item={agencyId:null,agencyName:null,certificationId:null}:undefined}componentDidLoad(){this.popover=this.el.closest("ion-popover");this.setSelectAgency()}setSelectAgency(){const e=this.el.querySelector("#selectAgency");const i={header:a.getTransl("diving-agency","Diving Agency")};e.interfaceOptions=i;e.placeholder=a.getTransl("select","Select");r.exports.each(this.localAgencies,(i=>{let t=document.createElement("ion-select-option");t.value=i.ag_name;t.textContent=i.ag_name;e.appendChild(t)}));this.updateView=!this.updateView}updateAgency(e){this.item.agencyName=e.detail.value;const i=r.exports.findIndex(this.agencies,(e=>e["id"]==this.item.agencyName));this.item.agencyId=i>0?e.detail.value:""}updateCertification(e){this.item.certificationId=e.detail.value;if(this.popover){this.popover.dismiss(this.item)}this.certSelected.emit(this.item)}render(){return t(s,{key:"143af18cf89472893d0181c06d4c9692100f7ad2"},this.popover?t("ion-toolbar",null,t("ion-title",null,t("my-transl",{tag:"diving-course",text:"Diving Course"}))):undefined,t("ion-item",{key:"1d1ff9cfd4f91848d54adc616c87dba619345421"},t("ion-select",{key:"670c9a34dbc5487ac2c9b4dd07d291f3e646af7e",label:a.getTransl("diving-agency","Diving Agency"),id:"selectAgency",onIonChange:e=>this.updateAgency(e),value:this.item.agencyName})),t("app-form-item",{key:"813dcbc1fe5947dedce10f69ced032c1bdee1358","label-tag":"certification","label-text":"Certification",lines:"inset",value:this.item.certificationId,name:"certification","input-type":"text",onFormItemChanged:e=>this.updateCertification(e),validator:["required"]}))}get el(){return n(this)}};h.style=p;export{h as popover_search_diving_course};
//# sourceMappingURL=p-5a3ee166.entry.js.map