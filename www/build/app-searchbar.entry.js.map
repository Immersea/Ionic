{"file":"app-searchbar.entry.esm.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,eAAe,GAAG,oyEAAoyE;;MCgB/yE,YAAY;;;;;QAQvB,cAAS,GAAG,IAAI,CAAC;;QAWjB,oBAAe,GAAGA,uBAAQ,CAAC,CAAC,KAAa;YACvC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B,EAAE,GAAG,CAAC,CAAC;wBArBW,KAAK;;IAQxB,iBAAiB;QACf,IAAI,CAAC,WAAW,GAAG,kBAAkB,CAAC,SAAS,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;KACrE;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;KAC5D;IASD,YAAY,CAAC,KAAY;;QAEvB,MAAM,KAAK,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;QACvD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;KAC7B;IAED,UAAU,CAAC,EAAE;;;QAGX,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;KACtB;IAED,SAAS,CAAC,GAAG;;QAEX,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE;YACxB,GAAG,CAAC,cAAc,EAAE,CAAC;YACrB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B;KACF;IAED,MAAM;QACJ,QACE,EAAC,IAAI,uDACF,IAAI,CAAC,QAAQ,IACZ,WAAK,KAAK,EAAC,WAAW,IACpB,aACE,EAAE,EAAC,cAAc,EACjB,IAAI,EAAC,MAAM,EACX,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,KAAK,EACrC,OAAO,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EACtC,QAAQ,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EACrC,OAAO,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GACnC,EACF,WAAK,KAAK,EAAC,QAAQ,GAAO,CACtB,KAEN,cAAW,CACZ,CACI,EACP;KACH;;;;;;;","names":["debounce"],"sources":["src/components/common/app/map/app-searchbar/app-searchbar.scss?tag=app-searchbar","src/components/common/app/map/app-searchbar/app-searchbar.tsx"],"sourcesContent":["app-searchbar {\n  @import url(\"https://fonts.googleapis.com/css?family=Inconsolata:700\");\n\n  .container {\n    position: absolute;\n    top: 80px;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 80px;\n    padding: env(safe-area-inset-top) env(safe-area-inset-right)\n      env(safe-area-inset-bottom) env(safe-area-inset-left);\n    .search {\n      position: absolute;\n      margin: auto;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      width: 50px;\n      height: 50px;\n      //background: var(--ion-color-primary);\n      border-radius: 50%;\n      transition: all 1s;\n      z-index: 4;\n      box-shadow: 0 0 25px 0 rgba(0, 0, 0, 0.4);\n      &:hover {\n        cursor: pointer;\n      }\n      &::before {\n        content: \"\";\n        position: absolute;\n        margin: auto;\n        top: 19px;\n        right: 0;\n        bottom: 0;\n        left: 19px;\n        width: 14px;\n        height: 2px;\n        background: white;\n        transform: rotate(45deg);\n        transition: all 0.5s;\n      }\n      &::after {\n        content: \"\";\n        position: absolute;\n        margin: auto;\n        top: -3px;\n        right: 0;\n        bottom: 0;\n        left: -3px;\n        width: 15px;\n        height: 15px;\n        border-radius: 50%;\n        border: 2px solid white;\n        transition: all 0.5s;\n      }\n    }\n    input {\n      font-family: \"Inconsolata\", monospace;\n      position: absolute;\n      margin: auto;\n      top: 0;\n      right: 0px;\n      bottom: 0;\n      left: 0;\n      width: 50px;\n      height: 50px;\n      outline: none;\n      border: none;\n      // border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n      background: white;\n      color: black;\n      //text-shadow: 0 0 10px blue;\n      padding: 0 80px 0 20px;\n      border-radius: 30px;\n      //box-shadow: 0 0 25px 0 blue, 0 20px 25px 0 rgba(0, 0, 0, 0.2);\n      // box-shadow: inset 0 0 25px 0 rgba(0, 0, 0, 0.5);\n      transition: all 1s;\n      opacity: 0;\n      z-index: 5;\n      font-weight: bolder;\n      letter-spacing: 0.1em;\n      &:hover {\n        cursor: pointer;\n      }\n      &:focus {\n        width: 300px;\n        opacity: 1;\n        cursor: text;\n      }\n      &:focus ~ .search {\n        right: -250px;\n        background: #151515;\n        z-index: 6;\n        &::before {\n          top: 0;\n          left: 0;\n          width: 25px;\n        }\n        &::after {\n          top: 0;\n          left: 0;\n          width: 25px;\n          height: 2px;\n          border: none;\n          background: white;\n          border-radius: 0%;\n          transform: rotate(-45deg);\n        }\n      }\n      &::placeholder {\n        color: grey;\n        opacity: 0.5;\n        font-weight: bolder;\n      }\n    }\n  }\n}\n","import {\n  Component,\n  h,\n  Prop,\n  Host,\n  Event,\n  EventEmitter,\n  Element,\n} from \"@stencil/core\";\nimport {TranslationService} from \"../../../../../services/common/translations\";\nimport {debounce} from \"lodash\";\n\n@Component({\n  tag: \"app-searchbar\",\n  styleUrl: \"app-searchbar.scss\",\n})\nexport class AppSearchbar {\n  @Element() el: HTMLElement;\n  @Prop() floating = false;\n  @Event() inputChanged: EventEmitter<string>;\n  @Event() inputBlur: EventEmitter<string>;\n  inputElement: HTMLInputElement;\n  placeholder: string;\n  value: string;\n  timeoutId = null;\n\n  componentWillLoad() {\n    this.placeholder = TranslationService.getTransl(\"search\", \"Search\");\n  }\n\n  componentDidLoad() {\n    this.inputElement = this.el.querySelector(\"#input-search\");\n  }\n\n  // Create a debounced method using lodash's debounce\n  debouncedUpdate = debounce((value: string) => {\n    this.value = value;\n    this.inputChanged.emit(this.value);\n    this.inputElement.blur();\n  }, 800); // Delay in milliseconds\n\n  handleChange(event: Event) {\n    // Event handler that calls the debounced method\n    const value = (event.target as HTMLInputElement).value;\n    this.debouncedUpdate(value);\n  }\n\n  handleBlur(ev) {\n    //change focus\n    //this.inputChanged.emit(this.value);\n    ev.target.value = \"\";\n  }\n\n  handleKey(key) {\n    //blur on Enter key\n    if (key.code === \"Enter\") {\n      key.preventDefault();\n      this.inputElement.blur();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.floating ? (\n          <div class=\"container\">\n            <input\n              id=\"input-search\"\n              type=\"text\"\n              value={this.value}\n              placeholder={this.placeholder + \"...\"}\n              onInput={(ev) => this.handleChange(ev)}\n              onChange={(ev) => this.handleBlur(ev)}\n              onKeyUp={(ev) => this.handleKey(ev)}\n            />\n            <div class=\"search\"></div>\n          </div>\n        ) : (\n          <div></div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}