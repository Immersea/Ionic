import{r as e,h as i,H as s,f as t}from"./p-cbe60c68.js";import{U as a,b as c,c as n,d as o,e as d,f as r,g as l,an as p,aP as f,R as h,E as b}from"./p-6934ed3c.js";import{S as g}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const m="page-client-details .cover{height:var(--coverHeight)}page-client-details ion-segment-button{--color-checked:var(--ion-color-clients-contrast)}page-client-details ion-badge{margin-top:-15px;margin-left:10px;font-size:10px}page-client-details app-admin-dive-trips,page-client-details app-admin-diving-classes{width:100%}page-client-details .card-message{width:90%;min-height:150px}page-client-details .card-message ion-title{padding-top:60px}";const y=m;const u=class{constructor(i){e(this,i);this.clientId=undefined;this.clientData=undefined;this.userProfile=undefined;this.counters={classes:0,trips:0,invoices:0};this.titles=[{tag:"details"},{tag:"dive-trips"},{tag:"diving-classes"},{tag:"invoices"}];this.slider=undefined}async componentWillLoad(){this.userProfile=await a.getPublicProfileUserDetails(this.clientId);const e=h.pageTo;if(e.includes(c.toLowerCase())){this.clientData=n.selectedDivingCenterClients[this.clientId];this.organiserId=n.selectedDivingCenterId}else if(e.includes(o.toLowerCase())){this.clientData=d.selectedDivingSchoolClients[this.clientId];this.organiserId=d.selectedDivingSchoolId}else if(e.includes(r.toLowerCase())){this.clientData=l.selectedServiceCenterClients[this.clientId];this.organiserId=l.selectedServiceCenterId}this.counters={classes:this.clientData.classes?Object.keys(this.clientData.classes).length:0,trips:this.clientData.trips?Object.keys(this.clientData.trips).length:0,invoices:this.clientData.invoices?Object.keys(this.clientData.invoices).length:0};this.titles[1]["badge"]=this.counters.trips;this.titles[2]["badge"]=this.counters.classes;this.titles[3]["badge"]=this.counters.invoices}async componentDidLoad(){this.setSliderHeight()}setSliderHeight(){this.slider=new g(".slider-client",{speed:400,spaceBetween:100,allowTouchMove:true,autoHeight:true});const e=Array.from(this.el.getElementsByClassName("slide-container"));e.map((e=>{e.setAttribute("style","height: "+p(this.userProfile)+"px")}))}render(){return i(s,{key:"2ef6a7d15f65532fab289decfd52fbd33c3386a2"},i("ion-header",{key:"bbf52c4c9f386c83214216a8dc6dc4a0c8a6c502",class:"cover"},i("app-item-cover",{key:"343c1c191e5e477a3e4e2206f918bc49a499ed01",item:this.userProfile})),i("ion-header",{key:"7ca5568d2d897406ce761312ca311d04d71fb395"},i("ion-toolbar",{key:"5af3437b6e2e06f62c04666742961455f975d43d",color:"clients"},this.userProfile&&!this.userProfile.coverURL?[i("ion-buttons",{slot:"start"},i("ion-button",{onClick:()=>h.goBack(),"icon-only":true},i("ion-icon",{name:"arrow-back"})))]:undefined,i("ion-title",{key:"303c8f92464aaf74401a438097e7fb7c7f208c55"},this.userProfile.displayName))),i("app-header-segment-toolbar",{key:"b754408f1f0c8daeb8c202462530ba75c65f2a3c",color:b.getAppColor(),swiper:this.slider,titles:this.titles}),i("ion-content",{key:"a2316e6c8e2ac1c1a3f6beb179c508550e7a5845",class:"slides"},this.userProfile&&this.userProfile.coverURL?i("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:f(2)}},i("ion-fab-button",{onClick:()=>h.goBack(),class:"fab-icon"},i("ion-icon",{name:"arrow-back-circle-outline"}))):undefined,i("swiper-container",{key:"c3057541d5a2b29e6ee5ce80bbd27dcb4200f00d",class:"slider-client swiper"},i("swiper-wrapper",{key:"2be1111ae2d73c0cef55f6fb56684cc593700e91",class:"swiper-wrapper"},i("swiper-slide",{key:"76944ee5a78a0e0db56bd748b53868874621dfc3",class:"swiper-slide"},i("ion-content",{key:"8c5d7260aa8a255363a0df9a525be5db1deec2f6",class:"slide-container"},i("app-public-user",{key:"492b545cb1cfe9dfb6104c5e7bedbc1994c17c26",userProfile:this.userProfile}))),i("swiper-slide",{key:"5786ba4cc1b3616146d85fa643bc36da29203447",class:"swiper-slide"},i("ion-content",{key:"fb4058106ad2b457665f9812024ca37b29d6f33e",class:"slide-container"},this.clientData&&this.clientData.trips&&Object.keys(this.clientData.trips).length>0?i("app-admin-dive-trips",{filterByOrganisierId:this.organiserId,filterByTrips:this.clientData.trips}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-trips",text:"No Diving Trips"}))))),i("swiper-slide",{key:"e36905eb54b997eb35fd5ef41eb2526d2226969d",class:"swiper-slide"},i("ion-content",{key:"a84ef713c8d63d1c281c58a380b2df233aa64683",class:"slide-container"},this.clientData&&this.clientData.classes&&Object.keys(this.clientData.classes).length>0?i("app-admin-diving-classes",{filterByOrganisierId:this.organiserId,filterByClasses:this.clientData.classes}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-classes",text:"No Diving Classes"}))))),i("swiper-slide",{key:"625739f0e5d8759d3f07d859c83a66f562fa80a2",class:"swiper-slide"},i("ion-content",{key:"e36d9a6eddd6a17590ce63b6cac5cdc7f3f79e64",class:"slide-container"},this.clientData&&this.clientData.invoices&&Object.keys(this.clientData.invoices).length>0?i("app-admin-client-invoices",null):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-invoices",text:"No Invoices"})))))))))}get el(){return t(this)}};u.style=y;export{u as page_client_details};