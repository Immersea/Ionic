import{r as i,h as e,H as t,f as s}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{o as n}from"./p-5d4a8e1f.js";import{l as o}from"./p-1af05547.js";import{E as a}from"./p-714ce41b.js";import{am as d,Q as r}from"./p-0287979e.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";import"./p-084d415b.js";import"./p-7ee16e8d.js";const c="modal-search-list{}";const l=c;const h=class{constructor(e){i(this,e);this.list=undefined;this.searchTitle=undefined;this.item=undefined;this.showField=undefined;this.orderBy=[];this.filterBy=undefined;this.placeholder=undefined;this.filterObject=undefined;this.filterPopup=undefined;this.filterFunction=undefined;this.filteredList=undefined}componentWillLoad(){this.nonFilteredList=o.exports.cloneDeep(this.list);this.clearFilterObject=o.exports.cloneDeep(this.filterObject)}async openFilter(){this.filterObject=await this.filterPopup(this.filterObject);this.list=await this.filterFunction(this.filterObject)}clearFilter(){this.filterObject=o.exports.cloneDeep(this.clearFilterObject);this.list=o.exports.cloneDeep(this.nonFilteredList)}handleSelect(i){n.dismiss(i)}renderKey(i){let e=null;switch(i){case"familyId":e=r.getDatasheetFamilies(this.filterObject[i])[0].familyName;break;case"majorFamilyId":e=r.getDatasheetMajorFamilies(this.filterObject[i])[0].majorFamilyName;break;case"shapeTypeId":e=d.getShapeTypeName(this.filterObject[i]).en;break;default:e=i+" = "+this.filterObject[i];break}return e}close(){n.dismiss()}render(){return e(t,{key:"3ede88a547cc96f56552322003e29b2469c3d307"},e("ion-header",{key:"5b5d962f3fb2b3e8545735240dbded3d8d6c7c40"},e("app-navbar",{key:"067661573b265cc5b3fd7074fe5bb5b8a0fce439",tag:this.searchTitle.tag?this.searchTitle.tag:"find",text:this.searchTitle.text?this.searchTitle.text:"Find",color:a.getAppColor(),rightButtonText:{icon:"close",tag:null,text:null,fill:"clear"},rightButtonFc:this.close}),e("ion-grid",{key:"c8a3e68ad37f67a22a042d79d4fb4fedfb6a2915",class:"ion-no-padding"},e("ion-row",{key:"e8dec34bb9316810f05f0bac040ecd0e0bb0240a",class:"ion-no-padding"},this.filterObject?e("ion-col",{size:"1",class:"ion-no-padding"},e("ion-toolbar",{color:a.getAppColor()},e("ion-button",{fill:"clear",expand:"full","icon-only":true,onClick:()=>this.openFilter()},e("ion-icon",{name:"filter",color:"light"})))):undefined,e("ion-col",{key:"eaff7b7627ddec9f696ce08529a9b30e7034c823",size:this.filterObject?"11":"12",class:"ion-no-padding"},e("app-search-toolbar",{key:"eaa508dad51a7b6ef2b3001433409d7e2d1000c6",list:this.list,orderFields:[this.showField],color:"trasteel",placeholder:this.placeholder?this.placeholder:"search",filterBy:this.filterBy,onFilteredList:i=>this.filteredList=i.detail}))))),e("ion-content",{key:"acf2e52b7a491a578894b7a30b3f6d8622f0d572"},this.filterObject&&this.filterObject.isActive()?[e("ion-breadcrumbs",null,e("ion-button",{"icon-only":true,fill:"clear",onClick:()=>this.clearFilter()},e("ion-icon",{color:"danger",name:"trash"})),e("ion-breadcrumb",null),Object.keys(this.filterObject).map((i=>i!="oldProduct"&&(this.filterObject[i]>0||this.filterObject[i]!==null)?e("ion-breadcrumb",null,this.renderKey(i)):undefined)),e("ion-breadcrumb",null))]:undefined,e("app-infinite-scroll",{key:"680996c736c95f52495cfc12bcd98f18e857f4e4",list:this.filteredList,showFields:[this.showField],orderBy:this.orderBy,onItemClicked:i=>this.handleSelect(i.detail)})))}get el(){return s(this)}};h.style=l;export{h as modal_search_list};