import{r as t,h as e}from"./p-cbe60c68.js";import{aT as i,aU as o,T as s,aq as n,R as a}from"./p-6934ed3c.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const d="page-chat{}";const c=d;const f=class{constructor(e){t(this,e);this.chatId=undefined;this.participants=undefined;this.chat=undefined;this.title=undefined;this.subtitle=undefined;this.additionalDataItem=undefined}componentWillLoad(){this.chatSub=i.loadedChat$.subscribe((t=>{if(t&&t.participants){this.chat=t;this.participants=Object.keys(t.participants).length;Object.keys(this.chat.participants).map((t=>{}));if(this.chat.name&&this.chat.name.length>0){this.title=this.chat.name;this.subtitle=i.getOtherChatParticipants("names",this.chat)}else{this.title=i.getOtherChatParticipants("names",this.chat);this.subtitle=null}if(this.chat.additionalData){this.loadAdditionalDataItem()}}}))}componentDidLoad(){this.chatApp=document.getElementsByTagName("app-chat")[0]}disconnectedCallback(){this.chatSub.unsubscribe()}async loadAdditionalDataItem(){if(this.chat.additionalData.collectionId===o){this.additionalDataItem={title:s.getTransl("dive-trip","Dive Trip"),onclick:n.pushDiveTrip}}}showAdditionalDataItem(){}addParticipant(t){this.chatApp.addParticipants(t)}render(){return[e("ion-header",{key:"fd4d403e23b4b7cf534a869f60f9826284b3e596"},e("ion-toolbar",{key:"2f725ff78ff0eeb8b9387bfdcb26c7ee3a4e75fb",color:"chat"},e("ion-buttons",{key:"2e5e5d6e9afe6adb254de16768fe926da2317967",slot:"start"},e("ion-button",{key:"bff92b0ba93b76108b25b9ef3617c6022b644e2f",onClick:()=>a.goBack(),"icon-only":true},e("ion-icon",{key:"2c81870ae4522a89dd8b915494ebfc494110f116",name:"arrow-back"}))),e("ion-title",{key:"23d7121a580b6972d16afcd0f5ad1b8f3da9d978"},this.title),this.subtitle?e("ion-title",{size:"small"},this.subtitle):undefined,e("ion-buttons",{key:"376d42493703a23e1f803c4ebd27015a60192265",slot:"end"},this.additionalDataItem?e("ion-button",{fill:"outline",onClick:()=>this.additionalDataItem.onclick(this.chat.additionalData.id)},this.additionalDataItem.title,e("ion-icon",{name:"open-outline",slot:"start"})):undefined,e("ion-button",{key:"4b3984a5326b5f0ec2fa303d9d0bd7b07341f5e0","icon-only":true,slot:"end",onClick:t=>this.addParticipant(t)},e("ion-icon",{key:"9c4af1a30f88ed968cd9531fd59d31adf0d6c6b6",name:"people-outline"}),this.participants?e("ion-badge",{color:"secondary"},this.participants):undefined)))),e("ion-content",{key:"4e7c9552294cc1c8ee01df1dd629f8642ef95483"},e("app-chat",{key:"83f709fb50a9e8e675f494a2fdb8a8fbe4c2dfc7",chatId:this.chatId}))]}};f.style=c;export{f as page_chat};