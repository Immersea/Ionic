import{r as e,h as a,f as t}from"./p-cbe60c68.js";import{S as i}from"./p-a75993af.js";import{T as o,S as s,J as c,F as n,ay as l,R as d}from"./p-736235c6.js";import{T as f}from"./p-9a446c6a.js";import{E as r}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const b="page-contact-details{}";const p=b;const m=class{constructor(a){e(this,a);this.itemId=undefined;this.contact=undefined;this.segment="information";this.slider=undefined}async componentWillLoad(){await this.loadContact();this.segmentTitles={information:o.getTransl("information","Information")}}async loadContact(){await s.presentLoading("loading");try{this.contact=await c.getContact(this.itemId)}catch(e){}s.dismissLoading()}async componentDidLoad(){this.slider=new i(".slider-contact",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}async editContact(){const e=await c.presentContactUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadContact()))}segmentChanged(e){if(e.detail.value){this.segment=e.detail.value;this.slider.update();switch(this.segment){case"information":this.slider.slideTo(0);break}}}updateSlider(){setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}render(){return[this.contact.coverURL||this.contact.photoURL?a("ion-header",null,a("app-item-cover",{item:this.contact})):undefined,a("ion-header",{key:"cf247a13d4f4809eb419a1f23f8f72087bbbbe5d"},a("app-navbar",{key:"bf8c2036a566773e6348d1ef0267a807e5b85bee",text:this.contact.lastName+" "+this.contact.firstName,color:"trasteel",backButton:this.contact&&!this.contact.coverURL&&!this.contact.photoURL,rightButtonText:f.isCustomerDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editContact()})),a("ion-header",{key:"2e8049d2773f7d0cb0a8ab532b6a3548a3dbefb1"},a("ion-toolbar",{key:"ac6eb8a241c774adef7734fff24e6f259f332f6e"},a("ion-segment",{key:"b935bdd9239dfdbd5d230e6de50816e1416dafcd",mode:"md",color:r.getAppColor(),scrollable:true,onIonChange:e=>this.segmentChanged(e),value:this.segment},a("ion-segment-button",{key:"7a1aeb1037016bda42961c0640a7affc85e551ab",value:"information",layout:"icon-start"},a("ion-label",{key:"674b2c6a03caa3ee4c76341a0a71c89b2309832c"},this.segmentTitles.information))))),a("ion-content",{key:"c85244f5f8e36220e9be12437d90491e2cbe958d",class:"slides"},a("ion-fab",{key:"9d84c007d59e154980fa2b262be0ae7f40dc4cc8",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:l(2)}},a("ion-fab-button",{key:"dd711c23e193db2d3d8c60582b6025c1b6ca1959",onClick:()=>d.goBack(),class:"fab-icon"},a("ion-icon",{key:"94edcfc78c903dcee7a412177c6048c4bdc262c3",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"901e93c9def71cfb6316ee64e2230271c4c845f1",class:"slider-contact swiper"},a("swiper-wrapper",{key:"461fafc58c94b741ac559d68eb8a07c029aac43e",class:"swiper-wrapper"},a("swiper-slide",{key:"baf9e3ba72a823b24747f43b4cd19b7bdb5318b7",class:"swiper-slide"},a("ion-list",{key:"649690af200290ca8fb12a8ece56519aaf1c36c1",class:"ion-no-padding"},a("ion-list-header",{key:"199ed7d2384c06e9b5830aab8b0352a445360a67"},a("my-transl",{key:"02fb5fd1b891b00594a6649f3f6f9d50e73ee067",tag:"general-information",text:"General Information",isLabel:true})),a("app-item-detail",{key:"4cb197cdbea1a320d577ef0245f63f51bc175358",lines:"none",labelTag:"customer",labelText:"Customer",detailText:this.contact.customerId&&n.getCustomersDetails(this.contact.customerId)?n.getCustomersDetails(this.contact.customerId).fullName:null}),a("app-item-detail",{key:"35b4e1652310d20583b15d0c1af92a2de3847942",lines:"none",labelTag:"location",labelText:"Location",detailText:this.contact.customerLocationId&&n.getLocationsTypes(this.contact.customerLocationId)?n.getLocationsTypes(this.contact.customerLocationId)[0].locationName:null}),a("app-form-item",{key:"c8b1add97e654fa1546a0d7f974014809b3bf68d","label-tag":"name","label-text":"Name",value:this.contact.firstName,"read-only":true}),a("app-form-item",{key:"eba84fae847ccc9d90276b4ce907a9074df23f41","label-tag":"surname","label-text":"Surname",value:this.contact.lastName,"read-only":true}),a("app-form-item",{key:"a5a3fa34888cd36e19c03869c8641fdb5657bd37","label-tag":"work-position","label-text":"Work Position",value:this.contact.workPosition,"read-only":true}),a("app-form-item",{key:"487f021173d6aedf65f99232a92bff85cf10f22f","label-tag":"office-phone","label-text":"Office Phone",value:this.contact.officePhone,"read-only":true}),a("app-form-item",{key:"007647d6c850a06711d9ca772d56d7c5bf596c7e","label-tag":"mobile-phone","label-text":"Mobile Phone",value:this.contact.mobilePhone,"read-only":true}),a("app-form-item",{key:"b4a838ace7063d8f578802f4616649516c57219f","label-tag":"email","label-text":"Email",value:this.contact.email,"read-only":true}))))))]}get el(){return t(this)}};m.style=p;export{m as page_contact_details};