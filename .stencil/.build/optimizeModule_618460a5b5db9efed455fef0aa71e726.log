import{r as e,h as i,H as s,f as t}from"./p-cbe60c68.js";import{U as a,b as c,c as n,d,e as o,f as r,g as l,a8 as p,ay as f,R as h}from"./p-736235c6.js";import{S as b}from"./p-a75993af.js";import{E as m}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const g="page-client-details .cover{height:var(--coverHeight)}page-client-details ion-segment-button{--color-checked:var(--ion-color-clients-contrast)}page-client-details ion-badge{margin-top:-15px;margin-left:10px;font-size:10px}page-client-details app-admin-dive-trips,page-client-details app-admin-diving-classes{width:100%}page-client-details .card-message{width:90%;min-height:150px}page-client-details .card-message ion-title{padding-top:60px}";const y=g;const u=class{constructor(i){e(this,i);this.clientId=undefined;this.clientData=undefined;this.userProfile=undefined;this.counters={classes:0,trips:0,invoices:0};this.titles=[{tag:"details"},{tag:"dive-trips"},{tag:"diving-classes"},{tag:"invoices"}];this.slider=undefined}async componentWillLoad(){this.userProfile=await a.getPublicProfileUserDetails(this.clientId);const e=h.pageTo;if(e.includes(c.toLowerCase())){this.clientData=n.selectedDivingCenterClients[this.clientId];this.organiserId=n.selectedDivingCenterId}else if(e.includes(d.toLowerCase())){this.clientData=o.selectedDivingSchoolClients[this.clientId];this.organiserId=o.selectedDivingSchoolId}else if(e.includes(r.toLowerCase())){this.clientData=l.selectedServiceCenterClients[this.clientId];this.organiserId=l.selectedServiceCenterId}this.counters={classes:this.clientData.classes?Object.keys(this.clientData.classes).length:0,trips:this.clientData.trips?Object.keys(this.clientData.trips).length:0,invoices:this.clientData.invoices?Object.keys(this.clientData.invoices).length:0};this.titles[1]["badge"]=this.counters.trips;this.titles[2]["badge"]=this.counters.classes;this.titles[3]["badge"]=this.counters.invoices}async componentDidLoad(){this.setSliderHeight()}setSliderHeight(){this.slider=new b(".slider-client",{speed:400,spaceBetween:100,allowTouchMove:true,autoHeight:true});const e=Array.from(this.el.getElementsByClassName("slide-container"));e.map((e=>{e.setAttribute("style","height: "+p(this.userProfile)+"px")}))}render(){return i(s,{key:"dcae37583abba065c7dad22048033aa450530881"},i("ion-header",{key:"db72d3cf699144869a6222ad275f242aba151c3a",class:"cover"},i("app-item-cover",{key:"38220ad338065b42e6cac78c8a780d9a01ebd83b",item:this.userProfile})),i("ion-header",{key:"26e387bd1dfb8d648d9ef5f02326b3d945fd8658"},i("ion-toolbar",{key:"a45d599e17d62b9ba1878186369040e92452e4ef",color:"clients"},this.userProfile&&!this.userProfile.coverURL?[i("ion-buttons",{slot:"start"},i("ion-button",{onClick:()=>h.goBack(),"icon-only":true},i("ion-icon",{name:"arrow-back"})))]:undefined,i("ion-title",{key:"4b579be3615859ef086dc62e506e7a4ce18e6296"},this.userProfile.displayName))),i("app-header-segment-toolbar",{key:"36617abdf40cdd2b32d0bac816c5453086aa7c21",color:m.getAppColor(),swiper:this.slider,titles:this.titles}),i("ion-content",{key:"f178d540e03a129594fa4047a521ea7d2fd4f8b4",class:"slides"},this.userProfile&&this.userProfile.coverURL?i("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:f(2)}},i("ion-fab-button",{onClick:()=>h.goBack(),class:"fab-icon"},i("ion-icon",{name:"arrow-back-circle-outline"}))):undefined,i("swiper-container",{key:"00ec48ca5aa93760d66d6a40fdf542a5b8d6e439",class:"slider-client swiper"},i("swiper-wrapper",{key:"c54c6d8b16a041e509ed9eb044ae786893f5a0d8",class:"swiper-wrapper"},i("swiper-slide",{key:"fa423fdb8766b507878c61d8493407f79d42186a",class:"swiper-slide"},i("ion-content",{key:"3ec9ae18e9f92695701d6ca301ff093698180fc1",class:"slide-container"},i("app-public-user",{key:"3e2a3fe95d24d1db2ed8d79cb1291d7afb34d204",userProfile:this.userProfile}))),i("swiper-slide",{key:"e32ff70082dc01637b68ee20edb9f282afce87ff",class:"swiper-slide"},i("ion-content",{key:"72fa632941bd1f1d4184b2a7a7446cfce29c7164",class:"slide-container"},this.clientData&&this.clientData.trips&&Object.keys(this.clientData.trips).length>0?i("app-admin-dive-trips",{filterByOrganisierId:this.organiserId,filterByTrips:this.clientData.trips}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-trips",text:"No Diving Trips"}))))),i("swiper-slide",{key:"8395398ad638e2ecca4cdfda65f610aa0d82ea1e",class:"swiper-slide"},i("ion-content",{key:"2f85288c1bf3380e7db1f98beae5db0cd8b6edb7",class:"slide-container"},this.clientData&&this.clientData.classes&&Object.keys(this.clientData.classes).length>0?i("app-admin-diving-classes",{filterByOrganisierId:this.organiserId,filterByClasses:this.clientData.classes}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-classes",text:"No Diving Classes"}))))),i("swiper-slide",{key:"305128d03a935d88431db8880012da6ec4afbcf7",class:"swiper-slide"},i("ion-content",{key:"be83b7f4e76fed15581679ca11df27b06ae8bf9b",class:"slide-container"},this.clientData&&this.clientData.invoices&&Object.keys(this.clientData.invoices).length>0?i("app-admin-client-invoices",null):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-invoices",text:"No Invoices"})))))))))}get el(){return t(this)}};u.style=y;export{u as page_client_details};