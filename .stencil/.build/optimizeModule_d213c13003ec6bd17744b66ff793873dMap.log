{"version":3,"names":["appImmerseaProfileCss","AppImmerseaProfileStyle0","AppImmerseaProfile","componentWillLoad","this","userRolesSub","UserService","userRoles$","subscribe","roles","userRoles","disconnectedCallback","unsubscribe","openMenu","menu","presentUserUpdate","RouterService","push","menuController","close","render","h","Host","key","uid","class","onClick","size","userProfile","displayName","fill","expand","isImmerseaAdmin","undefined","color","AuthService","logout","slot","name","tag","text","isLabel"],"sources":["src/components/immersea/app/app-immersea-profile/app-immersea-profile.scss?tag=app-immersea-profile","src/components/immersea/app/app-immersea-profile/app-immersea-profile.tsx"],"sourcesContent":["app-immersea-profile {\n  height: 100%;\n  width: 100%;\n\n  .user-avatar {\n    padding-top: 60px;\n    padding-bottom: 20%;\n    font-size: large;\n  }\n  .menu-items {\n    ion-row {\n      padding-bottom: 40px;\n    }\n  }\n  ion-footer {\n    margin-top: -56px;\n  }\n}\n","import { menuController } from \"@ionic/core\";\nimport { Component, h, Host, State } from \"@stencil/core\";\nimport { Subscription } from \"rxjs\";\nimport { UserRoles } from \"../../../../interfaces/common/user/user-roles\";\nimport { AuthService } from \"../../../../services/common/auth\";\nimport { RouterService } from \"../../../../services/common/router\";\nimport { UserService } from \"../../../../services/common/user\";\n\n@Component({\n  tag: \"app-immersea-profile\",\n  styleUrl: \"app-immersea-profile.scss\",\n})\nexport class AppImmerseaProfile {\n  @State() userRoles: UserRoles;\n  userRolesSub: Subscription;\n\n  componentWillLoad() {\n    this.userRolesSub = UserService.userRoles$.subscribe((roles) => {\n      this.userRoles = roles;\n    });\n  }\n  async disconnectedCallback() {\n    this.userRolesSub.unsubscribe();\n  }\n\n  openMenu(menu) {\n    switch (menu) {\n      case \"user-update\":\n        UserService.presentUserUpdate();\n        break;\n      case \"preferiti\":\n        break;\n      case \"impostazioni\":\n        break;\n      case \"immersea-admin\":\n        RouterService.push(\"/admin/immersea\", \"root\");\n        break;\n      default:\n        break;\n    }\n    menuController.close();\n  }\n\n  render() {\n    return (\n      <Host>\n        <ion-content>\n          {this.userRoles && this.userRoles.uid ? (\n            [\n              <div\n                class='user-avatar'\n                onClick={() => this.openMenu(\"user-update\")}\n              >\n                <ion-row class='ion-align-items-center'>\n                  <ion-col class='ion-text-center'>\n                    <app-user-avatar size={140}></app-user-avatar>\n                  </ion-col>\n                </ion-row>\n                <ion-row>\n                  <ion-col class='ion-text-center'>\n                    {UserService.userProfile\n                      ? UserService.userProfile.displayName\n                      : null}\n                  </ion-col>\n                </ion-row>\n              </div>,\n              <div class='menu-items'>\n                <ion-row>\n                  <ion-col class='ion-text-center'>\n                    <ion-button\n                      fill='clear'\n                      expand='full'\n                      size='large'\n                      onClick={() => this.openMenu(\"preferiti\")}\n                    >\n                      Preferiti\n                    </ion-button>\n                  </ion-col>\n                </ion-row>\n                <ion-row>\n                  <ion-col class='ion-text-center'>\n                    <ion-button\n                      fill='clear'\n                      expand='full'\n                      size='large'\n                      onClick={() => this.openMenu(\"impostazioni\")}\n                    >\n                      Impostazioni\n                    </ion-button>\n                  </ion-col>\n                </ion-row>\n                {this.userRoles.isImmerseaAdmin() ? (\n                  <ion-row>\n                    <ion-col class='ion-text-center'>\n                      <ion-button\n                        fill='clear'\n                        expand='full'\n                        size='large'\n                        onClick={() => this.openMenu(\"immersea-admin\")}\n                      >\n                        Admin\n                      </ion-button>\n                    </ion-col>\n                  </ion-row>\n                ) : undefined}\n              </div>,\n            ]\n          ) : (\n            <page-login></page-login>\n          )}\n        </ion-content>\n        {this.userRoles && this.userRoles.uid\n          ? [\n              <ion-footer class='ion-no-border'>\n                <ion-toolbar>\n                  <ion-button\n                    expand='block'\n                    fill='solid'\n                    color='danger'\n                    onClick={() => AuthService.logout()}\n                  >\n                    <ion-icon slot='start' name='log-out'></ion-icon>\n                    <my-transl tag='logout' text='Logout' isLabel></my-transl>\n                  </ion-button>\n                </ion-toolbar>\n              </ion-footer>,\n            ]\n          : undefined}\n      </Host>\n    );\n  }\n}\n"],"mappings":"waAAA,MAAMA,EAAwB,mPAC9B,MAAAC,EAAeD,E,MCWFE,EAAkB,M,kDAI7B,iBAAAC,GACEC,KAAKC,aAAeC,EAAYC,WAAWC,WAAWC,IACpDL,KAAKM,UAAYD,CAAK,G,CAG1B,0BAAME,GACJP,KAAKC,aAAaO,a,CAGpB,QAAAC,CAASC,GACP,OAAQA,GACN,IAAK,cACHR,EAAYS,oBACZ,MACF,IAAK,YACH,MACF,IAAK,eACH,MACF,IAAK,iBACHC,EAAcC,KAAK,kBAAmB,QACtC,MAIJC,EAAeC,O,CAGjB,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,eAAAE,IAAA,4CACGnB,KAAKM,WAAaN,KAAKM,UAAUc,IAAG,CAEjCH,EAAA,OACEI,MAAM,cACNC,QAAS,IAAMtB,KAAKS,SAAS,gBAE7BQ,EAAA,WAASI,MAAM,0BACbJ,EAAA,WAASI,MAAM,mBACbJ,EAAA,mBAAiBM,KAAM,QAG3BN,EAAA,eACEA,EAAA,WAASI,MAAM,mBACZnB,EAAYsB,YACTtB,EAAYsB,YAAYC,YACxB,QAIVR,EAAA,OAAKI,MAAM,cACTJ,EAAA,eACEA,EAAA,WAASI,MAAM,mBACbJ,EAAA,cACES,KAAK,QACLC,OAAO,OACPJ,KAAK,QACLD,QAAS,IAAMtB,KAAKS,SAAS,cAAY,eAM/CQ,EAAA,eACEA,EAAA,WAASI,MAAM,mBACbJ,EAAA,cACES,KAAK,QACLC,OAAO,OACPJ,KAAK,QACLD,QAAS,IAAMtB,KAAKS,SAAS,iBAAe,kBAMjDT,KAAKM,UAAUsB,kBACdX,EAAA,eACEA,EAAA,WAASI,MAAM,mBACbJ,EAAA,cACES,KAAK,QACLC,OAAO,OACPJ,KAAK,QACLD,QAAS,IAAMtB,KAAKS,SAAS,mBAAiB,WAMlDoB,YAIRZ,EAAA,oBAGHjB,KAAKM,WAAaN,KAAKM,UAAUc,IAC9B,CACEH,EAAA,cAAYI,MAAM,iBAChBJ,EAAA,mBACEA,EAAA,cACEU,OAAO,QACPD,KAAK,QACLI,MAAM,SACNR,QAAS,IAAMS,EAAYC,UAE3Bf,EAAA,YAAUgB,KAAK,QAAQC,KAAK,YAC5BjB,EAAA,aAAWkB,IAAI,SAASC,KAAK,SAASC,QAAO,WAKrDR,U","ignoreList":[]}