import{r as s,h as t}from"./p-cbe60c68.js";import{f as e,g as i,b as a,c,d as o,e as r,U as n,T as h,A as d}from"./p-59755cef.js";import{l as f}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const p="app-admin-clients-list{}";const l=p;const m=class{constructor(t){s(this,t);this.admin=undefined;this.clientsFilteredList=undefined}async filterClients(s){this.filter=s?s.target?s.target.value:s:null;if(this.filter){this.clientsFilteredList=this.clientsList.filter((s=>s.displayName.toLowerCase().includes(this.filter.toLowerCase())))}else{this.clientsFilteredList=this.clientsList}}async componentWillLoad(){let s=null;switch(this.admin.collectionId){case o:s=r.selectedDivingSchoolClients$;this.type=o.toLowerCase();this.id=r.selectedDivingSchoolId;this.customersUrl="members";break;case a:s=c.selectedDivingCenterClients$;this.type=a.toLowerCase();this.id=c.selectedDivingCenterId;this.customersUrl="customers";break;case e:s=i.selectedServiceCenterClients$;this.type=e.toLowerCase();this.id=i.selectedServiceCenterId;this.customersUrl="customers";break}this.clientsSub=s.subscribe((async s=>{this.clients=s;const t=[];if(s){for(let s of Object.keys(this.clients)){t.push(await n.getMapDataUserDetails(s))}}this.clientsList=f.exports.orderBy(t,"displayName");this.filterClients(this.filter)}))}disconnectedCallback(){this.clientsSub.unsubscribe()}render(){return[t("ion-header",{key:"21b1f168dffde05d98643ceac06e76d652be8d00"},t("ion-toolbar",{key:"c9335bdc79bb22d3dea576c526835d786b04a01c",color:"clients"},t("ion-searchbar",{key:"959d7febcaed11dd672f6ceada3f9523a052b568",animated:true,placeholder:h.getTransl("search","Search"),onIonInput:s=>this.filterClients(s)}))),t("ion-content",{key:"d40612e84aaaf191ab9c34fa9b458c836ec69802"},t("ion-list",{key:"da4efcfb6e1ff958db36f071d961274377dac20e"},this.clientsFilteredList.map((s=>t("ion-item",{button:true,detail:true,href:"/"+d+"/"+this.type+"/"+this.id+"/"+this.customersUrl+"/"+s.id},s.photoURL?t("ion-avatar",{slot:"start"},t("img",{src:s.photoURL})):t("ion-icon",{slot:"start",name:"person"}),t("ion-label",null,s.displayName))))))]}};m.style=l;export{m as app_admin_clients_list};