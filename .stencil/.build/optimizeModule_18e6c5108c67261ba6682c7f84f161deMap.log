{"version":3,"names":["appUploadCoverCss","AppUploadCoverStyle0","AppUploadCover","componentWillLoad","updatePhotoURL","type","options","aspectRatio","maxDimensions","round","uploadModal","RouterService","openModal","onDidDismiss","then","async","canvasImg","data","this","uploading","toBlob","blob","update","uploadImage","item","photoURL","coverURL","coverUploaded","emit","url","present","collection","USERPROFILECOLLECTION","UserService","id","DIVESITESCOLLECTION","DiveSitesService","DIVECENTERSSCOLLECTION","DivingCentersService","DIVECOMMUNITIESCOLLECTION","DiveCommunitiesService","DIVESCHOOLSSCOLLECTION","DivingSchoolsService","SERVICECENTERSCOLLECTION","ServiceCentersService","SYSTEMCOLLECTION","StorageService","CUSTOMERSCOLLECTION","render","h","undefined","class","style","backgroundImage","fill","onClick","disabled","name","color","tag","text","isLabel","showPhotoURL","src","progressBarIosCss","IonProgressBarIosStyle0","progressBarMdCss","IonProgressBarMdStyle0","ProgressBar","constructor","hostRef","reversed","value","buffer","paused","config","getBoolean","mode","getIonMode","progressSolid","Host","key","role","createColorClasses","document","dir","renderIndeterminate","renderProgress","part","finalValue","clamp","finalBuffer","transform"],"sources":["src/components/common/app/common/app-upload-cover/app-upload-cover.scss?tag=app-upload-cover","src/components/common/app/common/app-upload-cover/app-upload-cover.tsx","node_modules/@ionic/core/dist/collection/components/progress-bar/progress-bar.ios.css?tag=ion-progress-bar&mode=ios&encapsulation=shadow","node_modules/@ionic/core/dist/collection/components/progress-bar/progress-bar.md.css?tag=ion-progress-bar&mode=md&encapsulation=shadow","node_modules/@ionic/core/dist/collection/components/progress-bar/progress-bar.js"],"sourcesContent":["app-upload-cover {\n  width: 100%;\n  ion-thumbnail {\n    position: relative;\n    margin-top: -100px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n    width: 100px;\n    height: 100px;\n    img {\n      border-radius: 50%;\n      padding: 0.08em;\n      border: solid 0.25em lightsteelblue;\n      background-color: white;\n    }\n    ion-button {\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      position: absolute !important;\n      color: #141414; // add a theme for better looks\n      font-size: 24px;\n    }\n  }\n  .cover {\n    position: relative;\n    height: var(--coverHeightModal);\n    background-color: lightblue;\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    width: 100%;\n    ion-button {\n      bottom: 5%;\n      left: 10%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      position: absolute;\n      color: #141414; // add a theme for better looks\n      font-size: 24px;\n    }\n  }\n\n  .save-item {\n    top: -150px;\n    text-align: center;\n    position: relative;\n    color: #494848;\n    font-size: 20px;\n  }\n}\n","import { Component, State, h, Prop, Event, EventEmitter } from \"@stencil/core\";\nimport {\n  UserService,\n  USERPROFILECOLLECTION,\n} from \"../../../../../services/common/user\";\nimport {\n  DiveSitesService,\n  DIVESITESCOLLECTION,\n} from \"../../../../../services/udive/diveSites\";\nimport {\n  DivingCentersService,\n  DIVECENTERSSCOLLECTION,\n} from \"../../../../../services/udive/divingCenters\";\nimport {\n  DivingSchoolsService,\n  DIVESCHOOLSSCOLLECTION,\n} from \"../../../../../services/udive/divingSchools\";\nimport {\n  ServiceCentersService,\n  SERVICECENTERSCOLLECTION,\n} from \"../../../../../services/udive/serviceCenters\";\nimport { RouterService } from \"../../../../../services/common/router\";\nimport { SYSTEMCOLLECTION } from \"../../../../../services/common/system\";\nimport { StorageService } from \"../../../../../services/common/storage\";\nimport {\n  DIVECOMMUNITIESCOLLECTION,\n  DiveCommunitiesService,\n} from \"../../../../../services/udive/diveCommunities\";\nimport { CUSTOMERSCOLLECTION } from \"../../../../../services/trasteel/crm/customers\";\n\n@Component({\n  tag: \"app-upload-cover\",\n  styleUrl: \"app-upload-cover.scss\",\n})\nexport class AppUploadCover {\n  @State() uploading = false;\n  @Event() coverUploaded: EventEmitter;\n\n  @Prop() item: {\n    collection: string;\n    id: string;\n    photoURL: string;\n    coverURL: string;\n  };\n\n  @Prop() showPhotoURL = true;\n\n  @State() addressText: string;\n\n  componentWillLoad() {}\n\n  async updatePhotoURL(type: string) {\n    var options = null;\n    if (type == \"photo\") {\n      options = {\n        aspectRatio: 1,\n        maxDimensions: 300,\n        round: true,\n      };\n    } else {\n      options = {\n        aspectRatio: 16 / 6,\n        maxDimensions: 2000,\n        round: false,\n      };\n    }\n\n    const uploadModal = await RouterService.openModal(\n      \"modal-upload-image\",\n      options\n    );\n    uploadModal.onDidDismiss().then(async (canvasImg: any) => {\n      if (canvasImg && canvasImg.data) {\n        this.uploading = true;\n        canvasImg.data.toBlob(\n          async (blob) => {\n            const update = await this.uploadImage(blob, type);\n            if (update !== null) {\n              if (type == \"photo\") {\n                this.item.photoURL = update;\n              } else {\n                this.item.coverURL = update;\n              }\n            }\n            this.coverUploaded.emit({ type: type, url: update });\n            this.uploading = false;\n          },\n          \"image/jpeg\",\n          50 //jpeg quality\n        );\n      }\n    });\n    await uploadModal.present();\n  }\n\n  async uploadImage(blob, type) {\n    switch (this.item.collection) {\n      case USERPROFILECOLLECTION:\n        return await UserService.updatePhotoURL(type, this.item.id, blob);\n      case DIVESITESCOLLECTION:\n        return await DiveSitesService.updatePhotoURL(type, this.item.id, blob);\n      case DIVECENTERSSCOLLECTION:\n        return await DivingCentersService.updatePhotoURL(\n          type,\n          this.item.id,\n          blob\n        );\n      case DIVECOMMUNITIESCOLLECTION:\n        return await DiveCommunitiesService.updatePhotoURL(\n          type,\n          this.item.id,\n          blob\n        );\n      case DIVESCHOOLSSCOLLECTION:\n        return await DivingSchoolsService.updatePhotoURL(\n          type,\n          this.item.id,\n          blob\n        );\n      case SERVICECENTERSCOLLECTION:\n        return await ServiceCentersService.updatePhotoURL(\n          type,\n          this.item.id,\n          blob\n        );\n      case SYSTEMCOLLECTION:\n        return await StorageService.updatePhotoURL(\n          SYSTEMCOLLECTION,\n          type,\n          this.item.id,\n          blob\n        );\n      case CUSTOMERSCOLLECTION:\n        return await StorageService.updatePhotoURL(\n          CUSTOMERSCOLLECTION,\n          type,\n          this.item.id,\n          blob\n        );\n    }\n  }\n\n  render() {\n    return [\n      this.uploading ? <ion-progress-bar type='indeterminate' /> : undefined,\n      this.item\n        ? [\n            <div\n              class='cover'\n              style={\n                this.item.coverURL\n                  ? {\n                      backgroundImage: \"url(\" + this.item.coverURL + \")\",\n                    }\n                  : undefined\n              }\n            >\n              <ion-button\n                fill='clear'\n                icon-only\n                onClick={() => this.updatePhotoURL(\"cover\")}\n                disabled={!this.item.id}\n              >\n                <ion-icon name='camera' color='light' />\n              </ion-button>\n            </div>,\n            !this.item.id ? (\n              <div class='save-item'>\n                <my-transl\n                  tag='save-item-error'\n                  text='Please save the item to upload pictures'\n                  isLabel\n                />\n              </div>\n            ) : undefined,\n            this.showPhotoURL ? (\n              <ion-thumbnail>\n                <img\n                  src={\n                    this.item.photoURL\n                      ? this.item.photoURL\n                      : \"assets/images/avatar.png\"\n                  }\n                />\n                <ion-button\n                  fill='clear'\n                  icon-only\n                  onClick={() => this.updatePhotoURL(\"photo\")}\n                  disabled={!this.item.id}\n                >\n                  <ion-icon name='camera' color='light' />\n                </ion-button>\n              </ion-thumbnail>\n            ) : undefined,\n          ]\n        : undefined,\n    ];\n  }\n}\n","/**\n * Convert a font size to a dynamic font size.\n * Fonts that participate in Dynamic Type should use\n * dynamic font sizes.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param unit (optional) - The unit to convert to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * Convert a font size to a dynamic font size but impose\n * a maximum font size.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param maxScale - The maximum scale of the font (i.e. 2.5 for a maximum 250% scale).\n * @param unit (optional) - The unit to convert the initial font size to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * Convert a font size to a dynamic font size but impose\n * a minimum font size.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param minScale - The minimum scale of the font (i.e. 0.8 for a minimum 80% scale).\n * @param unit (optional) - The unit to convert the initial font size to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * Convert a font size to a dynamic font size but impose\n * maximum and minimum font sizes.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param minScale - The minimum scale of the font (i.e. 0.8 for a minimum 80% scale).\n * @param maxScale - The maximum scale of the font (i.e. 2.5 for a maximum 250% scale).\n * @param unit (optional) - The unit to convert the initial font size to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * A heuristic that applies CSS to tablet\n * viewports.\n *\n * Usage:\n * @include tablet-viewport() {\n *   :host {\n *     background-color: green;\n *   }\n * }\n */\n/**\n * A heuristic that applies CSS to mobile\n * viewports (i.e. phones, not tablets).\n *\n * Usage:\n * @include mobile-viewport() {\n *   :host {\n *     background-color: blue;\n *   }\n * }\n */\n:host {\n  /**\n   * @prop --background: Background of the progress track, or the buffer bar if `buffer` is set\n   * @prop --progress-background: Background of the progress bar representing the current value\n   */\n  --background: rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.3);\n  --progress-background: var(--ion-color-primary, #0054e9);\n  display: block;\n  position: relative;\n  width: 100%;\n  contain: strict;\n  direction: ltr;\n  overflow: hidden;\n}\n\n.progress,\n.progress-indeterminate,\n.indeterminate-bar-primary,\n.indeterminate-bar-secondary,\n.progress-buffer-bar {\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.buffer-circles-container,\n.buffer-circles {\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n\n.buffer-circles {\n  /* stylelint-disable property-disallowed-list */\n  right: -10px;\n  left: -10px;\n  /* stylelint-enable property-disallowed-list */\n}\n\n.progress,\n.progress-buffer-bar,\n.buffer-circles-container {\n  /* stylelint-disable-next-line property-disallowed-list */\n  transform-origin: left top;\n  transition: transform 150ms linear;\n}\n\n.progress,\n.progress-indeterminate {\n  background: var(--progress-background);\n  z-index: 2;\n}\n\n.progress-buffer-bar {\n  background: var(--background);\n  z-index: 1;\n}\n\n.buffer-circles-container {\n  overflow: hidden;\n}\n\n.indeterminate-bar-primary {\n  /* stylelint-disable property-disallowed-list */\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: -145.166611%;\n  /* stylelint-enable property-disallowed-list */\n  animation: primary-indeterminate-translate 2s infinite linear;\n}\n.indeterminate-bar-primary .progress-indeterminate {\n  animation: primary-indeterminate-scale 2s infinite linear;\n  animation-play-state: inherit;\n}\n\n.indeterminate-bar-secondary {\n  /* stylelint-disable property-disallowed-list */\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: -54.888891%;\n  /* stylelint-enable property-disallowed-list */\n  animation: secondary-indeterminate-translate 2s infinite linear;\n}\n.indeterminate-bar-secondary .progress-indeterminate {\n  animation: secondary-indeterminate-scale 2s infinite linear;\n  animation-play-state: inherit;\n}\n\n.buffer-circles {\n  background-image: radial-gradient(ellipse at center, var(--background) 0%, var(--background) 30%, transparent 30%);\n  /* stylelint-disable property-disallowed-list */\n  background-repeat: repeat-x;\n  background-position: 5px center;\n  background-size: 10px 10px;\n  /* stylelint-enable property-disallowed-list */\n  z-index: 0;\n  animation: buffering 450ms infinite linear;\n}\n\n:host(.progress-bar-reversed) {\n  transform: scaleX(-1);\n}\n\n:host(.progress-paused) .indeterminate-bar-secondary,\n:host(.progress-paused) .indeterminate-bar-primary,\n:host(.progress-paused) .buffer-circles {\n  animation-play-state: paused;\n}\n\n:host(.ion-color) .buffer-circles {\n  background-image: radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%);\n}\n\n:host(.ion-color) .progress,\n:host(.ion-color) .progress-indeterminate {\n  background: var(--ion-color-base);\n}\n\n@keyframes primary-indeterminate-translate {\n  0% {\n    transform: translateX(0);\n  }\n  20% {\n    animation-timing-function: cubic-bezier(0.5, 0, 0.701732, 0.495819);\n    transform: translateX(0);\n  }\n  59.15% {\n    animation-timing-function: cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);\n    transform: translateX(83.67142%);\n  }\n  100% {\n    transform: translateX(200.611057%);\n  }\n}\n@keyframes primary-indeterminate-scale {\n  0% {\n    transform: scaleX(0.08);\n  }\n  36.65% {\n    animation-timing-function: cubic-bezier(0.334731, 0.12482, 0.785844, 1);\n    transform: scaleX(0.08);\n  }\n  69.15% {\n    animation-timing-function: cubic-bezier(0.06, 0.11, 0.6, 1);\n    transform: scaleX(0.661479);\n  }\n  100% {\n    transform: scaleX(0.08);\n  }\n}\n@keyframes secondary-indeterminate-translate {\n  0% {\n    animation-timing-function: cubic-bezier(0.15, 0, 0.515058, 0.409685);\n    transform: translateX(0);\n  }\n  25% {\n    animation-timing-function: cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);\n    transform: translateX(37.651913%);\n  }\n  48.35% {\n    animation-timing-function: cubic-bezier(0.4, 0.627035, 0.6, 0.902026);\n    transform: translateX(84.386165%);\n  }\n  100% {\n    transform: translateX(160.277782%);\n  }\n}\n@keyframes secondary-indeterminate-scale {\n  0% {\n    animation-timing-function: cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);\n    transform: scaleX(0.08);\n  }\n  19.15% {\n    animation-timing-function: cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);\n    transform: scaleX(0.457104);\n  }\n  44.15% {\n    animation-timing-function: cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);\n    transform: scaleX(0.72796);\n  }\n  100% {\n    transform: scaleX(0.08);\n  }\n}\n@keyframes buffering {\n  to {\n    transform: translateX(-10px);\n  }\n}\n:host {\n  border-radius: 9999px;\n  height: 4px;\n}\n\n:host(.progress-bar-solid) {\n  /**\n   * On iOS the unfilled portion of the progress bar\n   * is always a consistent background color. We\n   * only apply this style when the progress bar is\n   * solid (with a buffer value of 1). This maintains\n   * the custom Ionic appearance for a buffered progress bar.\n   */\n  --background: var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));\n}","/**\n * Convert a font size to a dynamic font size.\n * Fonts that participate in Dynamic Type should use\n * dynamic font sizes.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param unit (optional) - The unit to convert to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * Convert a font size to a dynamic font size but impose\n * a maximum font size.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param maxScale - The maximum scale of the font (i.e. 2.5 for a maximum 250% scale).\n * @param unit (optional) - The unit to convert the initial font size to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * Convert a font size to a dynamic font size but impose\n * a minimum font size.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param minScale - The minimum scale of the font (i.e. 0.8 for a minimum 80% scale).\n * @param unit (optional) - The unit to convert the initial font size to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * Convert a font size to a dynamic font size but impose\n * maximum and minimum font sizes.\n * @param size - The initial font size including the unit (i.e. px or pt)\n * @param minScale - The minimum scale of the font (i.e. 0.8 for a minimum 80% scale).\n * @param maxScale - The maximum scale of the font (i.e. 2.5 for a maximum 250% scale).\n * @param unit (optional) - The unit to convert the initial font size to. Use this if you want to\n * convert to a unit other than $baselineUnit.\n */\n/**\n * A heuristic that applies CSS to tablet\n * viewports.\n *\n * Usage:\n * @include tablet-viewport() {\n *   :host {\n *     background-color: green;\n *   }\n * }\n */\n/**\n * A heuristic that applies CSS to mobile\n * viewports (i.e. phones, not tablets).\n *\n * Usage:\n * @include mobile-viewport() {\n *   :host {\n *     background-color: blue;\n *   }\n * }\n */\n:host {\n  /**\n   * @prop --background: Background of the progress track, or the buffer bar if `buffer` is set\n   * @prop --progress-background: Background of the progress bar representing the current value\n   */\n  --background: rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.3);\n  --progress-background: var(--ion-color-primary, #0054e9);\n  display: block;\n  position: relative;\n  width: 100%;\n  contain: strict;\n  direction: ltr;\n  overflow: hidden;\n}\n\n.progress,\n.progress-indeterminate,\n.indeterminate-bar-primary,\n.indeterminate-bar-secondary,\n.progress-buffer-bar {\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.buffer-circles-container,\n.buffer-circles {\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n\n.buffer-circles {\n  /* stylelint-disable property-disallowed-list */\n  right: -10px;\n  left: -10px;\n  /* stylelint-enable property-disallowed-list */\n}\n\n.progress,\n.progress-buffer-bar,\n.buffer-circles-container {\n  /* stylelint-disable-next-line property-disallowed-list */\n  transform-origin: left top;\n  transition: transform 150ms linear;\n}\n\n.progress,\n.progress-indeterminate {\n  background: var(--progress-background);\n  z-index: 2;\n}\n\n.progress-buffer-bar {\n  background: var(--background);\n  z-index: 1;\n}\n\n.buffer-circles-container {\n  overflow: hidden;\n}\n\n.indeterminate-bar-primary {\n  /* stylelint-disable property-disallowed-list */\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: -145.166611%;\n  /* stylelint-enable property-disallowed-list */\n  animation: primary-indeterminate-translate 2s infinite linear;\n}\n.indeterminate-bar-primary .progress-indeterminate {\n  animation: primary-indeterminate-scale 2s infinite linear;\n  animation-play-state: inherit;\n}\n\n.indeterminate-bar-secondary {\n  /* stylelint-disable property-disallowed-list */\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: -54.888891%;\n  /* stylelint-enable property-disallowed-list */\n  animation: secondary-indeterminate-translate 2s infinite linear;\n}\n.indeterminate-bar-secondary .progress-indeterminate {\n  animation: secondary-indeterminate-scale 2s infinite linear;\n  animation-play-state: inherit;\n}\n\n.buffer-circles {\n  background-image: radial-gradient(ellipse at center, var(--background) 0%, var(--background) 30%, transparent 30%);\n  /* stylelint-disable property-disallowed-list */\n  background-repeat: repeat-x;\n  background-position: 5px center;\n  background-size: 10px 10px;\n  /* stylelint-enable property-disallowed-list */\n  z-index: 0;\n  animation: buffering 450ms infinite linear;\n}\n\n:host(.progress-bar-reversed) {\n  transform: scaleX(-1);\n}\n\n:host(.progress-paused) .indeterminate-bar-secondary,\n:host(.progress-paused) .indeterminate-bar-primary,\n:host(.progress-paused) .buffer-circles {\n  animation-play-state: paused;\n}\n\n:host(.ion-color) .buffer-circles {\n  background-image: radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%);\n}\n\n:host(.ion-color) .progress,\n:host(.ion-color) .progress-indeterminate {\n  background: var(--ion-color-base);\n}\n\n@keyframes primary-indeterminate-translate {\n  0% {\n    transform: translateX(0);\n  }\n  20% {\n    animation-timing-function: cubic-bezier(0.5, 0, 0.701732, 0.495819);\n    transform: translateX(0);\n  }\n  59.15% {\n    animation-timing-function: cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);\n    transform: translateX(83.67142%);\n  }\n  100% {\n    transform: translateX(200.611057%);\n  }\n}\n@keyframes primary-indeterminate-scale {\n  0% {\n    transform: scaleX(0.08);\n  }\n  36.65% {\n    animation-timing-function: cubic-bezier(0.334731, 0.12482, 0.785844, 1);\n    transform: scaleX(0.08);\n  }\n  69.15% {\n    animation-timing-function: cubic-bezier(0.06, 0.11, 0.6, 1);\n    transform: scaleX(0.661479);\n  }\n  100% {\n    transform: scaleX(0.08);\n  }\n}\n@keyframes secondary-indeterminate-translate {\n  0% {\n    animation-timing-function: cubic-bezier(0.15, 0, 0.515058, 0.409685);\n    transform: translateX(0);\n  }\n  25% {\n    animation-timing-function: cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);\n    transform: translateX(37.651913%);\n  }\n  48.35% {\n    animation-timing-function: cubic-bezier(0.4, 0.627035, 0.6, 0.902026);\n    transform: translateX(84.386165%);\n  }\n  100% {\n    transform: translateX(160.277782%);\n  }\n}\n@keyframes secondary-indeterminate-scale {\n  0% {\n    animation-timing-function: cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);\n    transform: scaleX(0.08);\n  }\n  19.15% {\n    animation-timing-function: cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);\n    transform: scaleX(0.457104);\n  }\n  44.15% {\n    animation-timing-function: cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);\n    transform: scaleX(0.72796);\n  }\n  100% {\n    transform: scaleX(0.08);\n  }\n}\n@keyframes buffering {\n  to {\n    transform: translateX(-10px);\n  }\n}\n:host {\n  height: 4px;\n}\n\n:host(.ion-color) .progress-buffer-bar {\n  background: rgba(var(--ion-color-base-rgb), 0.3);\n}","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { Host, h } from \"@stencil/core\";\nimport { clamp } from \"../../utils/helpers\";\nimport { createColorClasses } from \"../../utils/theme\";\nimport { config } from \"../../global/config\";\nimport { getIonMode } from \"../../global/ionic-global\";\n/**\n * @virtualProp {\"ios\" | \"md\"} mode - The mode determines which platform styles to use.\n *\n * @part progress - The progress bar that shows the current value when `type` is `\"determinate\"` and slides back and forth when `type` is `\"indeterminate\"`.\n * @part stream - The animated circles that appear while buffering. This only shows when `buffer` is set and `type` is `\"determinate\"`.\n * @part track - The track bar behind the progress bar. If the `buffer` property is set and `type` is `\"determinate\"` the track will be the\n * width of the `buffer` value.\n */\nexport class ProgressBar {\n    constructor() {\n        this.type = 'determinate';\n        this.reversed = false;\n        this.value = 0;\n        this.buffer = 1;\n        this.color = undefined;\n    }\n    render() {\n        const { color, type, reversed, value, buffer } = this;\n        const paused = config.getBoolean('_testing');\n        const mode = getIonMode(this);\n        // If the progress is displayed as a solid bar.\n        const progressSolid = buffer === 1;\n        return (h(Host, { key: 'b293f4475bcdaa7851b41ebfda659037f0365120', role: \"progressbar\", \"aria-valuenow\": type === 'determinate' ? value : null, \"aria-valuemin\": \"0\", \"aria-valuemax\": \"1\", class: createColorClasses(color, {\n                [mode]: true,\n                [`progress-bar-${type}`]: true,\n                'progress-paused': paused,\n                'progress-bar-reversed': document.dir === 'rtl' ? !reversed : reversed,\n                'progress-bar-solid': progressSolid,\n            }) }, type === 'indeterminate' ? renderIndeterminate() : renderProgress(value, buffer)));\n    }\n    static get is() { return \"ion-progress-bar\"; }\n    static get encapsulation() { return \"shadow\"; }\n    static get originalStyleUrls() {\n        return {\n            \"ios\": [\"progress-bar.ios.scss\"],\n            \"md\": [\"progress-bar.md.scss\"]\n        };\n    }\n    static get styleUrls() {\n        return {\n            \"ios\": [\"progress-bar.ios.css\"],\n            \"md\": [\"progress-bar.md.css\"]\n        };\n    }\n    static get properties() {\n        return {\n            \"type\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"'determinate' | 'indeterminate'\",\n                    \"resolved\": \"\\\"determinate\\\" | \\\"indeterminate\\\"\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"The state of the progress bar, based on if the time the process takes is known or not.\\nDefault options are: `\\\"determinate\\\"` (no animation), `\\\"indeterminate\\\"` (animate from left to right).\"\n                },\n                \"attribute\": \"type\",\n                \"reflect\": false,\n                \"defaultValue\": \"'determinate'\"\n            },\n            \"reversed\": {\n                \"type\": \"boolean\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"boolean\",\n                    \"resolved\": \"boolean\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"If true, reverse the progress bar direction.\"\n                },\n                \"attribute\": \"reversed\",\n                \"reflect\": false,\n                \"defaultValue\": \"false\"\n            },\n            \"value\": {\n                \"type\": \"number\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"number\",\n                    \"resolved\": \"number\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"The value determines how much of the active bar should display when the\\n`type` is `\\\"determinate\\\"`.\\nThe value should be between [0, 1].\"\n                },\n                \"attribute\": \"value\",\n                \"reflect\": false,\n                \"defaultValue\": \"0\"\n            },\n            \"buffer\": {\n                \"type\": \"number\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"number\",\n                    \"resolved\": \"number\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"If the buffer and value are smaller than 1, the buffer circles will show.\\nThe buffer should be between [0, 1].\"\n                },\n                \"attribute\": \"buffer\",\n                \"reflect\": false,\n                \"defaultValue\": \"1\"\n            },\n            \"color\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"Color\",\n                    \"resolved\": \"\\\"danger\\\" | \\\"dark\\\" | \\\"light\\\" | \\\"medium\\\" | \\\"primary\\\" | \\\"secondary\\\" | \\\"success\\\" | \\\"tertiary\\\" | \\\"warning\\\" | string & Record<never, never> | undefined\",\n                    \"references\": {\n                        \"Color\": {\n                            \"location\": \"import\",\n                            \"path\": \"../../interface\",\n                            \"id\": \"src/interface.d.ts::Color\"\n                        }\n                    }\n                },\n                \"required\": false,\n                \"optional\": true,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"The color to use from your application's color palette.\\nDefault options are: `\\\"primary\\\"`, `\\\"secondary\\\"`, `\\\"tertiary\\\"`, `\\\"success\\\"`, `\\\"warning\\\"`, `\\\"danger\\\"`, `\\\"light\\\"`, `\\\"medium\\\"`, and `\\\"dark\\\"`.\\nFor more information on colors, see [theming](/docs/theming/basics).\"\n                },\n                \"attribute\": \"color\",\n                \"reflect\": true\n            }\n        };\n    }\n}\nconst renderIndeterminate = () => {\n    return (h(\"div\", { part: \"track\", class: \"progress-buffer-bar\" }, h(\"div\", { class: \"indeterminate-bar-primary\" }, h(\"span\", { part: \"progress\", class: \"progress-indeterminate\" })), h(\"div\", { class: \"indeterminate-bar-secondary\" }, h(\"span\", { part: \"progress\", class: \"progress-indeterminate\" }))));\n};\nconst renderProgress = (value, buffer) => {\n    const finalValue = clamp(0, value, 1);\n    const finalBuffer = clamp(0, buffer, 1);\n    return [\n        h(\"div\", { part: \"progress\", class: \"progress\", style: { transform: `scaleX(${finalValue})` } }),\n        /**\n         * Buffer circles with two container to move\n         * the circles behind the buffer progress\n         * with respecting the animation.\n         * When finalBuffer === 1, we use display: none\n         * instead of removing the element to avoid flickering.\n         */\n        h(\"div\", { class: { 'buffer-circles-container': true, 'ion-hide': finalBuffer === 1 }, style: { transform: `translateX(${finalBuffer * 100}%)` } }, h(\"div\", { class: \"buffer-circles-container\", style: { transform: `translateX(-${finalBuffer * 100}%)` } }, h(\"div\", { part: \"stream\", class: \"buffer-circles\" }))),\n        h(\"div\", { part: \"track\", class: \"progress-buffer-bar\", style: { transform: `scaleX(${finalBuffer})` } }),\n    ];\n};\n"],"mappings":"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","ignoreList":[]}