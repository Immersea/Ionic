import{r as e,h as i}from"./p-cbe60c68.js";import{S as t,R as a,ah as l,F as o,T as s,Q as n,am as r}from"./p-736235c6.js";import{S as d}from"./p-a75993af.js";import{T as c}from"./p-9a446c6a.js";import{l as p}from"./p-1af05547.js";import{E as b}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const g="page-project-details ion-grid{--ion-grid-column-padding:0px}page-project-details .separator{background-color:var(--ion-color-trasteel-tint);height:3px}page-project-details .separator ion-col{height:0px !important}page-project-details .positions-box{margin-top:10px;padding-top:5px;padding-right:5px;padding-bottom:5px;padding-left:10px;border:1px solid black}page-project-details #responsive-grid ion-grid{--ion-grid-padding:5px;--ion-grid-column-padding:0px}page-project-details #responsive-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-size:0.75rem;font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #responsive-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #responsive-grid ion-grid .noborder{border:0px}page-project-details #responsive-grid ion-grid ion-col{align-items:center;justify-content:center;text-align:center}page-project-details #responsive-grid ion-grid .ext-row{border:1px solid black}page-project-details #responsive-grid ion-grid .ext-col{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1{border-bottom:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:first-child{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1a{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:last-child{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row2{border-bottom:1px solid black;border-left:0px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row2{border-left:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row2:last-child{border-bottom:0px solid black}page-project-details #responsive-grid ion-grid .inner-col{border-right:1px solid black}page-project-details #responsive-grid ion-grid .button-no-margin{--padding-top:0px;--padding-bottom:0px;--padding-start:5px;--padding-end:5px}@media screen and (min-width: 1100px){page-project-details #responsive-grid ion-grid .button-no-margin{--padding-start:10px;--padding-end:10px}}page-project-details #courses-grid .centered{display:flex;align-items:center;justify-content:center;text-align:center}page-project-details #courses-grid ion-grid{border-collapse:collapse;border-style:hidden}page-project-details #courses-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #courses-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #courses-grid ion-grid ion-col{border:1px solid black;border-bottom:0;border-right:0}page-project-details #courses-grid ion-grid ion-col:last-child{border-right:1px solid black}page-project-details #courses-grid ion-grid ion-row:last-child{border-bottom:1px solid black}";const h=g;const f=class{constructor(i){e(this,i);this.titles=[{tag:"summary",text:"Summary"},{tag:"information",text:"Information"},{tag:"shaped",text:"Shaped",disabled:false},{tag:"unshaped",text:"Unshaped",disabled:false},{tag:"files",text:"Files",disabled:true}];this.itemId=undefined;this.project=undefined;this.updateView=true;this.updateSummary=true;this.allocationAreaSegment=0;this.areaShapes=[];this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadProject()}else{t.dismissLoading();t.presentAlertError("No Item Id");a.goBack()}}async loadProject(e){try{e?this.project=e:this.project=await l.getProject(this.itemId);this.areaShapes=await l.loadShapesForApplication(this.project);await l.checkBricksAllocationAreasForProject(this.project);this.updateSummary=!this.updateSummary;this.titles[2].disabled=this.project.projectAreaQuality.length==0;this.titles[3].disabled=this.project.projectMass.length==0;this.updateSlider()}catch(e){t.dismissLoading();a.goBack();t.presentAlertError(e)}}async componentDidLoad(){t.dismissLoading();this.slider=new d(".slider-detail-project",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}allocationAreaSegmentChanged(e){this.allocationAreaSegment=e.detail.value;this.updateSlider()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editProject(e){const i=await l.presentProjectUpdate(e?e:this.itemId);i.onDidDismiss().then((e=>this.loadProject(e.data)))}render(){return[i("ion-header",{key:"386a38f37eab84b468614fc264d0ccde6f3df1f4"},i("app-navbar",{key:"e35cf385ffcde15238f2be8cd65b2ebfa3901ade",text:this.project.projectLocalId,color:"trasteel",backButton:true,rightButtonText:c.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editProject()})),i("app-header-segment-toolbar",{key:"0994b5a9d0d004d19ea4defd7ff038171b69900b",color:b.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),i("ion-content",{key:"7fa32154972566535063f98524433cd3ad468ddc",class:"slides"},i("swiper-container",{key:"1139239e6f0e5acdc2737bffedca73d94ef1575c",class:"slider-detail-project swiper"},i("swiper-wrapper",{key:"12ad4c27ebb7e9282f7c9811f407222f6911fb96",class:"swiper-wrapper"},i("swiper-slide",{key:"a50842f2b2882e282343cdf2b2c9a2e3e47d5eec",class:"swiper-slide"},i("app-page-project-summary",{key:"471fdc231fe966d61eb1900cb34f5158c04245f9",project:this.project,areaShapes:this.areaShapes,updateSummary:this.updateSummary})),i("swiper-slide",{key:"f850ab1d3527e1265af513166203b4363df2417e",class:"swiper-slide"},i("ion-list",{key:"60012cd0428d79bc3146f9587272bf78160f09db",class:"ion-no-padding",id:"project-grid"},i("app-item-detail",{key:"a84eba358250b92a8ba671f190ea11ecd72a6314",lines:"none","label-tag":"customer","label-text":"Customer",detailText:this.project.customerId?o.getCustomersDetails(this.project.customerId)?o.getCustomersDetails(this.project.customerId).fullName:null:null}),i("app-item-detail",{key:"32dbcefc97b9467f0278d39c1d139e1179cd7202",lines:"none","label-tag":"project-name","label-text":"Project Name",detailText:this.project.projectLocalId}),i("app-item-detail",{key:"003e655e94db8e9a14602b333e7670659366118c",lines:"none","label-tag":"technical-docs-caption","label-text":"Technical Docs Caption",detailText:this.project.docsCaption}),i("app-item-detail",{key:"95c78428415a58e8706295e41af96e894f0ab869",lines:"none","label-tag":"project-description","label-text":"Project Description",detailText:this.project.projectDescription}),i("app-item-detail",{key:"14b825490397ddb2fbe1bb2676065ece3ca9a498",lines:"none","label-tag":"drawing-no","label-text":"Drawing No.",detailText:this.project.drawing}),i("ion-grid",{key:"663733a4b74911e40a91f3c35c34942110a19c79"},i("ion-row",{key:"f677290f896344acbaad78353642d76abba5ecec"},i("ion-col",{key:"6d59c0bb55c3ea25eb96e26b3de7cdaccd987051"},i("app-item-detail",{key:"7295d14df05b6d6ad984fdb80aeca839e88011b1",lines:"none","label-tag":"drawing-date","label-text":"Drawing Date",detailText:this.project.drawingDate,isDate:true})),i("ion-col",{key:"95496d45c42888c7dd50459a81ac4fa0c049c0cd"},i("app-item-detail",{key:"98860a43ffcba3e964549b9f70b12685fac707de",lines:"none","label-tag":"project-finished-date","label-text":"Project Finished Date",detailText:this.project.finishedDate,isDate:true})))),i("ion-grid",{key:"0b8e9c87b923de25ed951f7d20424f537df8cf57"},i("ion-row",{key:"68da53ea641d5f2eae02bf28d4d05b902b1dfb6d"},i("ion-col",{key:"9940c5e7855a8fde4747d576cab81b0dc96875c2"},i("app-item-detail",{key:"f1bf4c3971babb1646935c0c78b19852fbf57337",lines:"none","label-tag":"capacity","label-text":"Capacity",detailText:p.exports.toString(this.project.steelAmount)})),i("ion-col",{key:"2e3b6db0c5be430e2c533a4aec2597a666b753d1"},i("app-item-detail",{key:"12a4d0591dfb71fd5741b0316d6dc1481688bc78",lines:"none","label-tag":"application-unit","label-text":"Application Unit",detailText:l.getApplicationUnits(this.project.applicationId)[0].applicationName.en})))),i("app-item-detail",{key:"80edb71bc7966759edaf833ec871c8cbc0e43cfe",lines:"none","label-tag":"steel-amount","label-text":"Steel Amount",detailText:p.exports.toString(this.project.steelAmount)}),i("app-item-detail",{key:"c5badac6b3961694d70f6abd3a356124201bbc05",lines:"none","label-tag":"steel-density","label-text":"Steel Density",appendText:" (g/sm3)",detailText:p.exports.toString(this.project.liquidMetalDensity)}),i("app-item-detail",{key:"625ce85492a4643c99226799d2efa7f82631647c",lines:"none","label-tag":"guaranteed-lifetime","label-text":"Guaranteed Lifetime",appendText:" (heats)",detailText:this.project.guaranteedLife}))),i("swiper-slide",{key:"618442d55368098513010c53ccd132197ae5680a",class:"swiper-slide"},i("div",{key:"2e0df953d3f458ea58b887bcd4de330b7bcb4677"},i("ion-toolbar",{key:"9fcc380ba07573caca4405e3eb2e9ebf32490c14"},i("ion-segment",{key:"05817723bd4a0da31eccb1e5bf02f43ee6157a51",mode:"ios",scrollable:true,onIonChange:e=>this.allocationAreaSegmentChanged(e),value:this.allocationAreaSegment},this.project.projectAreaQuality.map(((e,t)=>i("ion-segment-button",{value:t,layout:"icon-start"},i("ion-label",null,(e.bricksAllocationAreaId?l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en:"")+(e.onlyForRepair?" ("+s.getTransl("repair","Repair")+")":""))))))),this.project.projectAreaQuality.map(((e,t)=>i("div",null,this.allocationAreaSegment==t?i("div",null,i("ion-grid",null,i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"bricks-allocation-area","label-text":"Bricks Allocation Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:n.getDatasheetName(e.datasheetId)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:p.exports.toString(e.density)}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"include-safety","label-text":"Include Safety",appendText:" %",detailText:p.exports.toString(e.includeSafety)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"only-for-repair","label-text":"Only for repair",detailText:e.onlyForRepair}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"comments","label-text":"Comments",detailText:p.exports.toString(e.comments)}))),i("div",{class:"positions-box"},e.shapes?e.shapes.map(((a,l)=>i("ion-row",null,i("ion-col",{size:"3"},i("app-item-detail",{showItem:false,"label-tag":l==0?"position":null,"label-text":l==0?"Position":null,detailText:p.exports.toString(a.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,labelTag:l==0?"shape":null,labelText:l==0?"Shape":null,detailText:r.getShapeName(e.shapes[l].shapeId)})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"radius":null,labelText:l==0?"Radius":null,appendText:l==0?" (mm)":null,detailText:this.areaShapes&&this.areaShapes[t]&&this.areaShapes[t].shapes[l].radius>0?this.areaShapes[t].shapes[l].radius:"-"})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"weight":null,labelText:l==0?"Weight":null,appendText:l==0?" (Kg)":null,detailText:this.areaShapes&&this.areaShapes[t]?this.project.projectAreaQuality[t].shapes[l].specialShapeVolume>0?this.areaShapes[t].shapes[l].getWeightForVolume(this.project.projectAreaQuality[t].shapes[l].specialShapeVolume,e.density):this.areaShapes[t].shapes[l].getWeight(e.density):"-"}))))):undefined)),i("div",{id:"responsive-grid"},i("ion-grid",null,i("ion-row",{class:"header ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("course","Course")),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("start","Start")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("end","End")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("radius","Radius")+" (mm)"))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},"Pos. "+e.shapes.map((e=>e.position))),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("quantity","Quantity")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("sum","Sum")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("repair-sets","Repair Sets")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("weight","Weight")+" (Kg)"),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("row-weight","Row Weight")+" (Kg)")))))),e.courses.map(((a,o)=>[i("ion-row",{class:"ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.courseNumber),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.startAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.endAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.innerRadius))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},e.shapes.map(((e,s)=>i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},r.getShapeName(e.shapeId)),i("ion-col",{size:"2",class:"inner-col"},a.quantityShapes.length>0&&a.quantityShapes[s]?a.quantityShapes[s].quantity:0),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.countTotalQuantity(a):undefined),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?a.repairSets:undefined),i("ion-col",{size:"2",class:"inner-col"},l.getAreaCourseWeightForShape(this.project,this.areaShapes,t,o,s)),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.getTotalWeightForCourse(this.project,this.areaShapes,t,o):undefined)))))))),i("ion-row",{class:"separator"},i("ion-col",null))]))))):undefined))))),i("swiper-slide",{key:"8ec2a81ecb97b8aa28dcb045689f6ca581b8248a",class:"swiper-slide"},i("div",{key:"2feda601c213b055ed69744db5b939465561b093"},i("ion-grid",{key:"7c9331d5a570651fcbbeb8302e9fba7b17fcc3d5"},this.project.projectMass.map((e=>[i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"position","label-text":"Position",detailText:p.exports.toString(e.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"application-area","label-text":"Application Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:n.getDatasheetName(e.datasheetId)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:e.density}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quantity","label-text":"Quantity",detailText:p.exports.toString(e.quantity)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"unit","label-text":"Unit",detailText:e.quantityUnit?l.getQuantityUnits(e.quantityUnit)[0].quantityUnitName.en:""})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"x")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"weight-per-unit","label-text":"Weight per Unit",appendText:" (Kg)",detailText:e.weightPerUnitKg})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"=")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"total-weight","label-text":"Total Weight",appendText:" (MT)",detailText:e.totalWeightMT}))),i("ion-row",{class:"separator"},i("ion-col",null))]))))),i("swiper-slide",{key:"79d8987ab8d86b4742256a18e2358bbb7c2f55f8",class:"swiper-slide"},"file - to do"))))]}};f.style=h;export{f as page_project_details};