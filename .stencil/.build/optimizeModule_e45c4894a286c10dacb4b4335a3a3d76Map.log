{"version":3,"names":["appDivePlanCardCss","AppDivePlanCardStyle0","AppDiveSiteCard","componentWillLoad","this","diveSite","DiveSitesService","diveSitesList","find","site","id","divePlan","dives","diveSiteId","viewDivePlan","ev","stopPropagation","modal","DivePlansService","presentDiveTemplateUpdate","viewEmit","emit","removeDivePlan","confirm","alertController","create","header","TranslationService","getTransl","message","buttons","text","role","handler","removeEmit","present","render","h","key","onClick","edit","undefined","item","class","lines","slot","color","fill","name","configuration","stdName","getProfilePointsDetails","map","detail","bottom","length","tag","tank","gas","toString","deco","expand","Environment","isDecoplanner","createNewDivePlan"],"sources":["src/components/udive/app/dive-sites/app-dive-plan-card/app-dive-plan-card.scss?tag=app-dive-plan-card","src/components/udive/app/dive-sites/app-dive-plan-card/app-dive-plan-card.tsx"],"sourcesContent":["app-dive-plan-card {\n  /* Component styles go here */\n  width: 100%;\n  height: 100%;\n}\n","import { Component, h, Prop, Event, EventEmitter } from \"@stencil/core\";\nimport { DivePlanModel } from \"../../../../../interfaces/udive/planner/dive-plan\";\nimport { DivePlansService } from \"../../../../../services/udive/divePlans\";\nimport { TranslationService } from \"../../../../../services/common/translations\";\nimport { alertController } from \"@ionic/core\";\nimport { DiveSitesService } from \"../../../../../services/udive/diveSites\";\nimport { MapDataDiveSite } from \"../../../../../interfaces/udive/dive-site/diveSite\";\nimport { Environment } from \"../../../../../global/env\";\n\n@Component({\n  tag: \"app-dive-plan-card\",\n  styleUrl: \"app-dive-plan-card.scss\",\n})\nexport class AppDiveSiteCard {\n  @Prop() divePlan: DivePlanModel;\n  @Prop() edit = false;\n  @Event() viewEmit: EventEmitter<DivePlanModel>;\n  @Event() removeEmit: EventEmitter<number>;\n  diveSite: MapDataDiveSite;\n\n  componentWillLoad() {\n    this.diveSite = DiveSitesService.diveSitesList.find(\n      (site) => site.id === this.divePlan.dives[0].diveSiteId\n    );\n  }\n\n  async viewDivePlan(ev) {\n    ev.stopPropagation();\n    const modal = await DivePlansService.presentDiveTemplateUpdate(\n      this.divePlan\n    );\n    if (modal) {\n      this.viewEmit.emit(modal);\n    }\n  }\n\n  async removeDivePlan(ev) {\n    ev.stopPropagation();\n    const confirm = await alertController.create({\n      header: TranslationService.getTransl(\n        \"delete-dive-header\",\n        \"Delete dive?\"\n      ),\n      message: TranslationService.getTransl(\n        \"delete-dive-message\",\n        \"This dive plan will be deleted! Are you sure?\"\n      ),\n      buttons: [\n        {\n          text: TranslationService.getTransl(\"cancel\", \"Cancel\"),\n          role: \"cancel\",\n          handler: () => {},\n        },\n        {\n          text: TranslationService.getTransl(\"ok\", \"OK\"),\n          handler: () => {\n            this.removeEmit.emit();\n          },\n        },\n      ],\n    });\n    confirm.present();\n  }\n\n  render() {\n    return (\n      <ion-card\n        onClick={(ev) => (this.edit ? this.viewDivePlan(ev) : undefined)}\n      >\n        {this.diveSite ? <app-item-cover item={this.diveSite} /> : undefined}\n\n        <ion-card-header>\n          <ion-item class='ion-no-padding' lines='none'>\n            {this.edit ? (\n              <ion-button\n                icon-only\n                slot='end'\n                color='danger'\n                fill='clear'\n                onClick={(ev) => this.removeDivePlan(ev)}\n              >\n                <ion-icon name='trash-bin-outline'></ion-icon>\n              </ion-button>\n            ) : undefined}\n\n            <ion-card-title>\n              {this.divePlan.configuration.stdName}\n            </ion-card-title>\n          </ion-item>\n\n          <ion-card-subtitle>\n            {this.divePlan.dives[0].getProfilePointsDetails().map((detail) => (\n              <p class='ion-text-start'>{detail}</p>\n            ))}\n          </ion-card-subtitle>\n        </ion-card-header>\n\n        <ion-card-content>\n          {this.divePlan.configuration.configuration.bottom.length > 0 ? (\n            <p>\n              <my-transl tag='bottom-tanks' text='Bottom Tanks' />:\n            </p>\n          ) : undefined}\n          {this.divePlan.configuration.configuration.bottom.map((tank) => (\n            <p>{tank.name + \"->\" + tank.gas.toString()}</p>\n          ))}\n          {this.divePlan.configuration.configuration.deco.length > 0 ? (\n            <p>\n              <my-transl tag='deco-tanks' text='Deco Tanks' />:\n            </p>\n          ) : undefined}\n          {this.divePlan.configuration.configuration.deco.map((tank) => (\n            <p>{tank.name + \"->\" + tank.gas.toString()}</p>\n          ))}\n        </ion-card-content>\n        {!this.edit ? (\n          <ion-button\n            expand='full'\n            color={Environment.isDecoplanner() ? \"gue-blue\" : \"planner\"}\n            onClick={() => DivePlansService.createNewDivePlan(this.divePlan)}\n          >\n            <my-transl tag='plan-dive' text='Plan a Dive'></my-transl>\n          </ion-button>\n        ) : undefined}\n      </ion-card>\n    );\n  }\n}\n"],"mappings":"wWAAA,MAAMA,EAAqB,6CAC3B,MAAAC,EAAeD,E,MCYFE,EAAe,M,qIAEX,K,CAKf,iBAAAC,GACEC,KAAKC,SAAWC,EAAiBC,cAAcC,MAC5CC,GAASA,EAAKC,KAAON,KAAKO,SAASC,MAAM,GAAGC,Y,CAIjD,kBAAMC,CAAaC,GACjBA,EAAGC,kBACH,MAAMC,QAAcC,EAAiBC,0BACnCf,KAAKO,UAEP,GAAIM,EAAO,CACTb,KAAKgB,SAASC,KAAKJ,E,EAIvB,oBAAMK,CAAeP,GACnBA,EAAGC,kBACH,MAAMO,QAAgBC,EAAgBC,OAAO,CAC3CC,OAAQC,EAAmBC,UACzB,qBACA,gBAEFC,QAASF,EAAmBC,UAC1B,sBACA,iDAEFE,QAAS,CACP,CACEC,KAAMJ,EAAmBC,UAAU,SAAU,UAC7CI,KAAM,SACNC,QAAS,QAEX,CACEF,KAAMJ,EAAmBC,UAAU,KAAM,MACzCK,QAAS,KACP7B,KAAK8B,WAAWb,MAAM,MAK9BE,EAAQY,S,CAGV,MAAAC,GACE,OACEC,EAAA,YAAAC,IAAA,2CACEC,QAAUxB,GAAQX,KAAKoC,KAAOpC,KAAKU,aAAaC,GAAM0B,WAErDrC,KAAKC,SAAWgC,EAAA,kBAAgBK,KAAMtC,KAAKC,WAAeoC,UAE3DJ,EAAA,mBAAAC,IAAA,4CACED,EAAA,YAAAC,IAAA,2CAAUK,MAAM,iBAAiBC,MAAM,QACpCxC,KAAKoC,KACJH,EAAA,+BAEEQ,KAAK,MACLC,MAAM,SACNC,KAAK,QACLR,QAAUxB,GAAOX,KAAKkB,eAAeP,IAErCsB,EAAA,YAAUW,KAAK,uBAEfP,UAEJJ,EAAA,kBAAAC,IAAA,4CACGlC,KAAKO,SAASsC,cAAcC,UAIjCb,EAAA,qBAAAC,IAAA,4CACGlC,KAAKO,SAASC,MAAM,GAAGuC,0BAA0BC,KAAKC,GACrDhB,EAAA,KAAGM,MAAM,kBAAkBU,OAKjChB,EAAA,oBAAAC,IAAA,4CACGlC,KAAKO,SAASsC,cAAcA,cAAcK,OAAOC,OAAS,EACzDlB,EAAA,SACEA,EAAA,aAAWmB,IAAI,eAAezB,KAAK,iBAAiB,KAEpDU,UACHrC,KAAKO,SAASsC,cAAcA,cAAcK,OAAOF,KAAKK,GACrDpB,EAAA,SAAIoB,EAAKT,KAAO,KAAOS,EAAKC,IAAIC,cAEjCvD,KAAKO,SAASsC,cAAcA,cAAcW,KAAKL,OAAS,EACvDlB,EAAA,SACEA,EAAA,aAAWmB,IAAI,aAAazB,KAAK,eAAe,KAEhDU,UACHrC,KAAKO,SAASsC,cAAcA,cAAcW,KAAKR,KAAKK,GACnDpB,EAAA,SAAIoB,EAAKT,KAAO,KAAOS,EAAKC,IAAIC,gBAGlCvD,KAAKoC,KACLH,EAAA,cACEwB,OAAO,OACPf,MAAOgB,EAAYC,gBAAkB,WAAa,UAClDxB,QAAS,IAAMrB,EAAiB8C,kBAAkB5D,KAAKO,WAEvD0B,EAAA,aAAWmB,IAAI,YAAYzB,KAAK,iBAEhCU,U","ignoreList":[]}