import{r as e,h as i,H as s,f as t}from"./p-cbe60c68.js";import{U as a,b as c,c as n,d as o,e as d,f as r,g as l,a8 as p,ay as f,R as h}from"./p-30358c9d.js";import{S as b}from"./p-a75993af.js";import{E as m}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const g="page-client-details .cover{height:var(--coverHeight)}page-client-details ion-segment-button{--color-checked:var(--ion-color-clients-contrast)}page-client-details ion-badge{margin-top:-15px;margin-left:10px;font-size:10px}page-client-details app-admin-dive-trips,page-client-details app-admin-diving-classes{width:100%}page-client-details .card-message{width:90%;min-height:150px}page-client-details .card-message ion-title{padding-top:60px}";const y=g;const u=class{constructor(i){e(this,i);this.clientId=undefined;this.clientData=undefined;this.userProfile=undefined;this.counters={classes:0,trips:0,invoices:0};this.titles=[{tag:"details"},{tag:"dive-trips"},{tag:"diving-classes"},{tag:"invoices"}];this.slider=undefined}async componentWillLoad(){this.userProfile=await a.getPublicProfileUserDetails(this.clientId);const e=h.pageTo;if(e.includes(c.toLowerCase())){this.clientData=n.selectedDivingCenterClients[this.clientId];this.organiserId=n.selectedDivingCenterId}else if(e.includes(o.toLowerCase())){this.clientData=d.selectedDivingSchoolClients[this.clientId];this.organiserId=d.selectedDivingSchoolId}else if(e.includes(r.toLowerCase())){this.clientData=l.selectedServiceCenterClients[this.clientId];this.organiserId=l.selectedServiceCenterId}this.counters={classes:this.clientData.classes?Object.keys(this.clientData.classes).length:0,trips:this.clientData.trips?Object.keys(this.clientData.trips).length:0,invoices:this.clientData.invoices?Object.keys(this.clientData.invoices).length:0};this.titles[1]["badge"]=this.counters.trips;this.titles[2]["badge"]=this.counters.classes;this.titles[3]["badge"]=this.counters.invoices}async componentDidLoad(){this.setSliderHeight()}setSliderHeight(){this.slider=new b(".slider-client",{speed:400,spaceBetween:100,allowTouchMove:true,autoHeight:true});const e=Array.from(this.el.getElementsByClassName("slide-container"));e.map((e=>{e.setAttribute("style","height: "+p(this.userProfile)+"px")}))}render(){return i(s,{key:"05abf367d0c4b625bbe899b7e8cdb65f4e5a1905"},i("ion-header",{key:"a179019a826747a147194d71dd4f0c7c27fd5107",class:"cover"},i("app-item-cover",{key:"42c836a305efecd46aecc19a2e8686640d2fa2d4",item:this.userProfile})),i("ion-header",{key:"0784da3b94efab3910c1cbc986b7b421e1a63e18"},i("ion-toolbar",{key:"7afce6d9c81ef41a3319ab19a1f96bdf355f76ac",color:"clients"},this.userProfile&&!this.userProfile.coverURL?[i("ion-buttons",{slot:"start"},i("ion-button",{onClick:()=>h.goBack(),"icon-only":true},i("ion-icon",{name:"arrow-back"})))]:undefined,i("ion-title",{key:"eb5f626b6d5f8ab34fb8e335bbd4cc9114ba4469"},this.userProfile.displayName))),i("app-header-segment-toolbar",{key:"a8a4945d655e048e31dd3a5936c5b3b72a51a4cf",color:m.getAppColor(),swiper:this.slider,titles:this.titles}),i("ion-content",{key:"5e686155ea0b192b94d40f137603d9f7372b7f38",class:"slides"},this.userProfile&&this.userProfile.coverURL?i("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:f(2)}},i("ion-fab-button",{onClick:()=>h.goBack(),class:"fab-icon"},i("ion-icon",{name:"arrow-back-circle-outline"}))):undefined,i("swiper-container",{key:"976ec7688fc067b052ac937f94861859e673c4e3",class:"slider-client swiper"},i("swiper-wrapper",{key:"d294739cd72591cf67b427d57505e8adee70f145",class:"swiper-wrapper"},i("swiper-slide",{key:"a4391c678fe2bf45a667670052876988665df639",class:"swiper-slide"},i("ion-content",{key:"6576531e8ef6c225909d7209823be9c15f57a5f1",class:"slide-container"},i("app-public-user",{key:"0129f9d100abfc0b88a242d0ea66b9a0fc2468aa",userProfile:this.userProfile}))),i("swiper-slide",{key:"43b116d1c599ecead0ae0a47a8c04184ea56b156",class:"swiper-slide"},i("ion-content",{key:"64a15f121a4c9e2075344e516f323b904bfb9048",class:"slide-container"},this.clientData&&this.clientData.trips&&Object.keys(this.clientData.trips).length>0?i("app-admin-dive-trips",{filterByOrganisierId:this.organiserId,filterByTrips:this.clientData.trips}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-trips",text:"No Diving Trips"}))))),i("swiper-slide",{key:"db22b16d58612358b685890f7e49842cc46ad3df",class:"swiper-slide"},i("ion-content",{key:"c9346316fa3b3dc8699a153a8a8e4ae68759d1db",class:"slide-container"},this.clientData&&this.clientData.classes&&Object.keys(this.clientData.classes).length>0?i("app-admin-diving-classes",{filterByOrganisierId:this.organiserId,filterByClasses:this.clientData.classes}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-classes",text:"No Diving Classes"}))))),i("swiper-slide",{key:"5a1fe8b839a76d096d05133dd4a25bb9f884548c",class:"swiper-slide"},i("ion-content",{key:"6335db4df7456ef4ddce80a0239792f1cd6984aa",class:"slide-container"},this.clientData&&this.clientData.invoices&&Object.keys(this.clientData.invoices).length>0?i("app-admin-client-invoices",null):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-invoices",text:"No Invoices"})))))))))}get el(){return t(this)}};u.style=y;export{u as page_client_details};