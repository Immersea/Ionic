import{r as s,h as e,f as t}from"./p-cbe60c68.js";import{T as i,U as o,n,a8 as a,o as r,ay as l}from"./p-f3984daf.js";import{E as p}from"./p-a9f4af61.js";import{S as c}from"./p-a75993af.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const d="page-user-settings .cover-header{margin-top:var(--coverHeight)}page-user-settings ion-segment-button{--color-checked:var(--ion-color-udive-contrast)}page-user-settings .nopaddingtop{padding-top:0px !important}";const u=d;const h=class{constructor(e){s(this,e);this.selectedSegment="configurations";this.userProfile=undefined;this.titles=[{tag:"user-info",text:"My Info"},{tag:"dive-cards"},{tag:"user-confs",text:"My Dive Configurations"},{tag:"licences"}];this.slider=undefined;this.updateView=false}componentWillLoad(){this.segmentTitles={configurations:i.getTransl("configurations","Configurations"),tanks:i.getTransl("tanks","Tanks")};this.userSub$=o.userProfile$.subscribe((s=>{this.userProfile=new n(s)}));this.updateView=!this.updateView}async componentDidLoad(){this.setSliderHeight();if(!this.userProfile){o.initLocalUser()}this.updateSlider()}segmentChartChanged(s){this.selectedSegment=s.detail.value;this.updateSlider()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}setSliderHeight(){this.slider=new c(".slider-user-settings",{speed:400,spaceBetween:100,allowTouchMove:true,autoHeight:true});const s=Array.from(this.el.getElementsByClassName("slide-container"));s.map((s=>{s.setAttribute("style","height: "+a(this.userProfile)+"px")}))}disconnectedCallback(){this.userSub$.unsubscribe()}logScrollStart(s){this.content=s.srcElement}render(){return[this.userProfile?[e("ion-header",{class:"cover-header"},e("app-user-cover",{showUserDetails:false})),e("app-header-segment-toolbar",{color:p.getAppColor(),swiper:this.slider,titles:this.titles}),e("ion-content",{class:"slides",scrollEvents:true,onIonScrollStart:s=>this.logScrollStart(s)},e("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:"calc(env(safe-area-inset-top) + "+l(1)+")"}},e("ion-menu-toggle",null,e("ion-fab-button",{color:"light"},e("ion-icon",{name:"menu-outline"})))),e("ion-fab",{vertical:"top",horizontal:"end",slot:"fixed",style:{marginTop:"calc(env(safe-area-inset-top) + "+l(1)+")"}},e("ion-fab-button",{color:"light",onClick:()=>o.presentUserUpdate()},e("ion-icon",{name:"create-outline"}))),e("swiper-container",{class:"slider-user-settings swiper"},e("swiper-wrapper",{class:"swiper-wrapper"},e("swiper-slide",{class:"swiper-slide"},e("ion-content",{class:"slide-container"},e("app-user-cover",{showCover:false}),e("ion-button",{expand:"block",fill:"solid",color:"danger",onClick:()=>r.logout()},e("ion-icon",{slot:"start",name:"log-out"}),e("my-transl",{tag:"logout",text:"Logout",isLabel:true})))),e("swiper-slide",{class:"swiper-slide"},e("app-user-cards",{updateSlider:()=>this.updateSlider()})),e("swiper-slide",{class:"swiper-slide"},e("div",{class:"ion-no-padding"},e("ion-row",null,e("ion-col",null,e("ion-segment",{onIonChange:s=>this.segmentChartChanged(s),color:p.getAppColor(),mode:"ios",value:this.selectedSegment},e("ion-segment-button",{value:"configurations"},e("ion-label",null,this.segmentTitles.configurations)),e("ion-segment-button",{value:"tanks"},e("ion-label",null,this.segmentTitles.tanks)))))),this.selectedSegment=="configurations"?e("app-user-configurations",null):e("app-user-tanks",null)),e("swiper-slide",{class:"swiper-slide"},e("ion-content",{class:"slide-container"},e("app-user-licences",null))))))]:undefined]}get el(){return t(this)}};h.style=u;export{h as page_user_settings};