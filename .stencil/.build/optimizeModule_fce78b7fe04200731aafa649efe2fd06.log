import{r,e,h as a,H as t}from"./p-cbe60c68.js";import{R as i,C as n,x as s,v as o,f as c,g as m,d as l,e as p,D as d,a as b,b as f,c as u,Q as g,O as h,z as y,U as v}from"./p-f42b650b.js";import{e as k}from"./p-9c77ce6f.js";import{c as x}from"./p-100c2286.js";import{b as X}from"./p-694b8ade.js";import{g as z}from"./p-ae1763fb.js";import"./p-c7ee7cfe.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-c11a967f.js";import"./p-c5936999.js";import"./p-6879854f.js";const w="app-upload-cover{width:100%}app-upload-cover ion-thumbnail{position:relative;margin-top:-100px;margin-left:auto;margin-right:auto;margin-bottom:0;width:100px;height:100px}app-upload-cover ion-thumbnail img{border-radius:50%;padding:0.08em;border:solid 0.25em lightsteelblue;background-color:white}app-upload-cover ion-thumbnail ion-button{top:50%;left:50%;margin-right:-50%;transform:translate(-50%, -50%);position:absolute !important;color:#141414;font-size:24px}app-upload-cover .cover{position:relative;height:var(--coverHeightModal);background-color:lightblue;background-size:cover;background-position:center;background-repeat:no-repeat;box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2);width:100%}app-upload-cover .cover ion-button{bottom:5%;left:10%;margin-right:-50%;transform:translate(-50%, -50%);position:absolute;color:#141414;font-size:24px}app-upload-cover .save-item{top:-150px;text-align:center;position:relative;color:#494848;font-size:20px}";const j=w;const $=class{constructor(a){r(this,a);this.coverUploaded=e(this,"coverUploaded",7);this.uploading=false;this.item=undefined;this.showPhotoURL=true;this.addressText=undefined}componentWillLoad(){}async updatePhotoURL(r){var e=null;if(r=="photo"){e={aspectRatio:1,maxDimensions:300,round:true}}else{e={aspectRatio:16/6,maxDimensions:2e3,round:false}}const a=await i.openModal("modal-upload-image",e);a.onDidDismiss().then((async e=>{if(e&&e.data){this.uploading=true;e.data.toBlob((async e=>{const a=await this.uploadImage(e,r);if(a!==null){if(r=="photo"){this.item.photoURL=a}else{this.item.coverURL=a}}this.coverUploaded.emit({type:r,url:a});this.uploading=false}),"image/jpeg",50)}}));await a.present()}async uploadImage(r,e){switch(this.item.collection){case y:return await v.updatePhotoURL(e,this.item.id,r);case g:return await h.updatePhotoURL(e,this.item.id,r);case f:return await u.updatePhotoURL(e,this.item.id,r);case d:return await b.updatePhotoURL(e,this.item.id,r);case l:return await p.updatePhotoURL(e,this.item.id,r);case c:return await m.updatePhotoURL(e,this.item.id,r);case o:return await s.updatePhotoURL(o,e,this.item.id,r);case n:return await s.updatePhotoURL(n,e,this.item.id,r)}}render(){return[this.uploading?a("ion-progress-bar",{type:"indeterminate"}):undefined,this.item?[a("div",{class:"cover",style:this.item.coverURL?{backgroundImage:"url("+this.item.coverURL+")"}:undefined},a("ion-button",{fill:"clear","icon-only":true,onClick:()=>this.updatePhotoURL("cover"),disabled:!this.item.id},a("ion-icon",{name:"camera",color:"light"}))),!this.item.id?a("div",{class:"save-item"},a("my-transl",{tag:"save-item-error",text:"Please save the item to upload pictures",isLabel:true})):undefined,this.showPhotoURL?a("ion-thumbnail",null,a("img",{src:this.item.photoURL?this.item.photoURL:"assets/images/avatar.png"}),a("ion-button",{fill:"clear","icon-only":true,onClick:()=>this.updatePhotoURL("photo"),disabled:!this.item.id},a("ion-icon",{name:"camera",color:"light"}))):undefined]:undefined]}};$.style=j;const _=":host{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.3);--progress-background:var(--ion-color-primary, #0054e9);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{transform-origin:left top;transition:transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{animation:primary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{animation:secondary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--background) 0%, var(--background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{animation-play-state:paused}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@keyframes primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes buffering{to{transform:translateX(-10px)}}:host{border-radius:9999px;height:4px}:host(.progress-bar-solid){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}";const R=_;const C=":host{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.3);--progress-background:var(--ion-color-primary, #0054e9);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{transform-origin:left top;transition:transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{animation:primary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{animation:secondary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--background) 0%, var(--background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{animation-play-state:paused}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@keyframes primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes buffering{to{transform:translateX(-10px)}}:host{height:4px}:host(.ion-color) .progress-buffer-bar{background:rgba(var(--ion-color-base-rgb), 0.3)}";const D=C;const L=class{constructor(e){r(this,e);this.type="determinate";this.reversed=false;this.value=0;this.buffer=1;this.color=undefined}render(){const{color:r,type:e,reversed:i,value:n,buffer:s}=this;const o=X.getBoolean("_testing");const c=z(this);const m=s===1;return a(t,{key:"b293f4475bcdaa7851b41ebfda659037f0365120",role:"progressbar","aria-valuenow":e==="determinate"?n:null,"aria-valuemin":"0","aria-valuemax":"1",class:x(r,{[c]:true,[`progress-bar-${e}`]:true,"progress-paused":o,"progress-bar-reversed":document.dir==="rtl"?!i:i,"progress-bar-solid":m})},e==="indeterminate"?U():H(n,s))}};const U=()=>a("div",{part:"track",class:"progress-buffer-bar"},a("div",{class:"indeterminate-bar-primary"},a("span",{part:"progress",class:"progress-indeterminate"})),a("div",{class:"indeterminate-bar-secondary"},a("span",{part:"progress",class:"progress-indeterminate"})));const H=(r,e)=>{const t=k(0,r,1);const i=k(0,e,1);return[a("div",{part:"progress",class:"progress",style:{transform:`scaleX(${t})`}}),a("div",{class:{"buffer-circles-container":true,"ion-hide":i===1},style:{transform:`translateX(${i*100}%)`}},a("div",{class:"buffer-circles-container",style:{transform:`translateX(-${i*100}%)`}},a("div",{part:"stream",class:"buffer-circles"}))),a("div",{part:"track",class:"progress-buffer-bar",style:{transform:`scaleX(${i})`}})]};L.style={ios:R,md:D};export{$ as app_upload_cover,L as ion_progress_bar};