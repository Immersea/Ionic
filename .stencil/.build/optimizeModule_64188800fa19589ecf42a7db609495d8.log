import{w as n,d as e}from"./p-3647f076.js";import{n as t,d as o,k as i,l as s,j as r}from"./p-9c77ce6f.js";import{b as a}from"./p-694b8ade.js";import{g as c}from"./p-ae1763fb.js";import{C as d}from"./p-c5936999.js";import{B as l}from"./p-c7ee7cfe.js";import{p as u}from"./p-6879854f.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f=()=>a.get("experimentalCloseWatcher",false)&&n!==undefined&&"CloseWatcher"in n;const m=()=>{document.addEventListener("backbutton",(()=>{}))};const p=()=>{const e=document;let t=false;const o=()=>{if(t){return}let n=0;let o=[];const i=new CustomEvent("ionBackButton",{bubbles:false,detail:{register(e,t){o.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(i);const s=async n=>{try{if(n===null||n===void 0?void 0:n.handler){const e=n.handler(r);if(e!=null){await e}}}catch(n){console.error(n)}};const r=()=>{if(o.length>0){let n={priority:Number.MIN_SAFE_INTEGER,handler:()=>undefined,id:-1};o.forEach((e=>{if(e.priority>=n.priority){n=e}}));t=true;o=o.filter((e=>e.id!==n.id));s(n).then((()=>t=false))}};r()};if(f()){let e;const t=()=>{e===null||e===void 0?void 0:e.destroy();e=new n.CloseWatcher;e.onclose=()=>{o();t()}};t()}else{e.addEventListener("backbutton",o)}};const v=100;const h=99;const b=Object.freeze({__proto__:null,shouldUseCloseWatcher:f,blockHardwareBackButton:m,startHardwareBackButton:p,OVERLAY_BACK_BUTTON_PRIORITY:v,MENU_BACK_BUTTON_PRIORITY:h});
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])';const y=(n,e)=>{const t=n.querySelector(w);O(t,e!==null&&e!==void 0?e:n)};const g=(n,e)=>{const t=Array.from(n.querySelectorAll(w));const o=t.length>0?t[t.length-1]:null;O(o,e!==null&&e!==void 0?e:n)};const O=(n,e)=>{let o=n;const i=n===null||n===void 0?void 0:n.shadowRoot;if(i){o=i.querySelector(w)||n}if(o){t(o)}else{e.focus()}};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let k=0;let T=0;const B=new WeakMap;const j=n=>({create(e){return E(n,e)},dismiss(e,t,o){return W(document,e,t,n,o)},async getTop(){return Y(document,n)}});const x=j("ion-alert");const C=j("ion-action-sheet");const A=j("ion-loading");const _=j("ion-modal");const I=j("ion-popover");const N=j("ion-toast");const P=n=>{if(typeof document!=="undefined"){U(document)}const e=k++;n.overlayIndex=e};const D=n=>{if(!n.hasAttribute("id")){n.id=`ion-overlay-${++T}`}return n.id};const E=(n,e)=>{if(typeof window!=="undefined"&&typeof window.customElements!=="undefined"){return window.customElements.whenDefined(n).then((()=>{const t=document.createElement(n);t.classList.add("overlay-hidden");Object.assign(t,Object.assign(Object.assign({},e),{hasController:true}));$(document).appendChild(t);return new Promise((n=>o(t,n)))}))}return Promise.resolve()};const M=n=>n.classList.contains("overlay-hidden");const R=(n,e)=>{let o=n;const i=n===null||n===void 0?void 0:n.shadowRoot;if(i){o=i.querySelector(w)||n}if(o){t(o)}else{e.focus()}};const S=(n,e)=>{const t=Y(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover");const o=n.target;if(!t||!o){return}if(t.classList.contains(cn)){return}const i=()=>{if(t===o){t.lastFocus=undefined}else if(o.tagName==="ION-TOAST"){R(t.lastFocus,t)}else{const n=r(t);if(!n.contains(o)){return}const i=n.querySelector(".ion-overlay-wrapper");if(!i){return}if(i.contains(o)||o===n.querySelector("ion-backdrop")){t.lastFocus=o}else{const n=t.lastFocus;y(i,t);if(n===e.activeElement){g(i,t)}t.lastFocus=e.activeElement}}};const s=()=>{if(t.contains(o)){t.lastFocus=o}else if(o.tagName==="ION-TOAST"){R(t.lastFocus,t)}else{const n=t.lastFocus;y(t);if(n===e.activeElement){g(t)}t.lastFocus=e.activeElement}};if(t.shadowRoot){s()}else{i()}};const U=n=>{if(k===0){k=1;n.addEventListener("focus",(e=>{S(e,n)}),true);n.addEventListener("ionBackButton",(e=>{const t=Y(n);if(t===null||t===void 0?void 0:t.backdropDismiss){e.detail.register(v,(()=>{t.dismiss(undefined,nn)}))}}));if(!f()){n.addEventListener("keydown",(e=>{if(e.key==="Escape"){const e=Y(n);if(e===null||e===void 0?void 0:e.backdropDismiss){e.dismiss(undefined,nn)}}}))}}};const W=(n,e,t,o,i)=>{const s=Y(n,o,i);if(!s){return Promise.reject("overlay does not exist")}return s.dismiss(e,t)};const L=(n,e)=>{if(e===undefined){e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"}return Array.from(n.querySelectorAll(e)).filter((n=>n.overlayIndex>0))};const V=(n,e)=>L(n,e).filter((n=>!M(n)));const Y=(n,e,t)=>{const o=V(n,e);return t===undefined?o[o.length-1]:o.find((n=>n.id===t))};const F=(n=false)=>{const e=$(document);const t=e.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");if(!t){return}if(n){t.setAttribute("aria-hidden","true")}else{t.removeAttribute("aria-hidden")}};const G=async(n,e,t,o,i)=>{var s,r;if(n.presented){return}F(true);document.body.classList.add(l);rn(n.el);n.presented=true;n.willPresent.emit();(s=n.willPresentShorthand)===null||s===void 0?void 0:s.emit();const d=c(n);const u=n.enterAnimation?n.enterAnimation:a.get(e,d==="ios"?t:o);const f=await q(n,u,n.el,i);if(f){n.didPresent.emit();(r=n.didPresentShorthand)===null||r===void 0?void 0:r.emit()}if(n.el.tagName!=="ION-TOAST"){H(n.el)}if(n.keyboardClose&&(document.activeElement===null||!n.el.contains(document.activeElement))){n.el.focus()}n.el.removeAttribute("aria-hidden")};const H=async n=>{let e=document.activeElement;if(!e){return}const t=e===null||e===void 0?void 0:e.shadowRoot;if(t){e=t.querySelector(w)||e}await n.onDidDismiss();if(document.activeElement===null||document.activeElement===document.body){e.focus()}};const K=async(n,t,o,i,s,r,d)=>{var u,f;if(!n.presented){return false}const m=e!==undefined&&V(e).length===1;if(m){F(false);document.body.classList.remove(l)}n.presented=false;try{n.el.style.setProperty("pointer-events","none");n.willDismiss.emit({data:t,role:o});(u=n.willDismissShorthand)===null||u===void 0?void 0:u.emit({data:t,role:o});const e=c(n);const l=n.leaveAnimation?n.leaveAnimation:a.get(i,e==="ios"?s:r);if(o!==en){await q(n,l,n.el,d)}n.didDismiss.emit({data:t,role:o});(f=n.didDismissShorthand)===null||f===void 0?void 0:f.emit({data:t,role:o});const m=B.get(n)||[];m.forEach((n=>n.destroy()));B.delete(n);n.el.classList.add("overlay-hidden");n.el.style.removeProperty("pointer-events");if(n.el.lastFocus!==undefined){n.el.lastFocus=undefined}}catch(n){console.error(n)}n.el.remove();an();return true};const $=n=>n.querySelector("ion-app")||n.body;const q=async(n,e,t,o)=>{t.classList.remove("overlay-hidden");const i=n.el;const s=e(i,o);if(!n.animated||!a.getBoolean("animated",true)){s.duration(0)}if(n.keyboardClose){s.beforeAddWrite((()=>{const n=t.ownerDocument.activeElement;if(n===null||n===void 0?void 0:n.matches("input,ion-input, ion-textarea")){n.blur()}}))}const r=B.get(n)||[];B.set(n,[...r,s]);await s.play();return true};const z=(n,e)=>{let t;const o=new Promise((n=>t=n));J(n,e,(n=>{t(n.detail)}));return o};const J=(n,e,t)=>{const o=i=>{s(n,e,o);t(i)};i(n,e,o)};const Q=n=>n==="cancel"||n===nn;const X=n=>n();const Z=(n,e)=>{if(typeof n==="function"){const t=a.get("_zoneGate",X);return t((()=>{try{return n(e)}catch(n){throw n}}))}return undefined};const nn="backdrop";const en="gesture";const tn=39;const on=n=>{let e=false;let t;const o=d();const i=(i=false)=>{if(t&&!i){return{delegate:t,inline:e}}const{el:s,hasController:r,delegate:a}=n;const c=s.parentNode;e=c!==null&&!r;t=e?a||o:a;return{inline:e,delegate:t}};const s=async e=>{const{delegate:t}=i(true);if(t){return await t.attachViewToDom(n.el,e)}const{hasController:o}=n;if(o&&e!==undefined){throw new Error("framework delegate is missing")}return null};const r=()=>{const{delegate:e}=i();if(e&&n.el!==undefined){e.removeViewFromDom(n.el.parentElement,n.el)}};return{attachViewToDom:s,removeViewFromDom:r}};const sn=()=>{let n;const e=()=>{if(n){n();n=undefined}};const t=(t,o)=>{e();const i=o!==undefined?document.getElementById(o):null;if(!i){u(`A trigger element with the ID "${o}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,t);return}const s=(n,e)=>{const t=()=>{e.present()};n.addEventListener("click",t);return()=>{n.removeEventListener("click",t)}};n=s(i,t)};return{addClickListener:t,removeClickListener:e}};const rn=n=>{var t;if(e===undefined)return;const o=V(e);for(let e=o.length-1;e>=0;e--){const i=o[e];const s=(t=o[e+1])!==null&&t!==void 0?t:n;if(s.hasAttribute("aria-hidden")||s.tagName!=="ION-TOAST"){i.setAttribute("aria-hidden","true")}}};const an=()=>{if(e===undefined)return;const n=V(e);for(let e=n.length-1;e>=0;e--){const t=n[e];t.removeAttribute("aria-hidden");if(t.tagName!=="ION-TOAST"){break}}};const cn="ion-disable-focus-trap";export{nn as B,cn as F,en as G,h as M,tn as O,C as a,x as b,on as c,sn as d,K as e,z as f,P as g,D as h,Q as i,f as j,Y as k,y as l,g as m,I as n,_ as o,G as p,A as q,b as r,Z as s,N as t};