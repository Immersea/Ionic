{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","module","exports","self","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","value","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","find","query","register","Container","default","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","ParchmentError","_super","message","_this","Error","attributes","classes","tags","types","DATA_KEY","input","match","BlotClass","node","Node","TEXT_NODE","bubble","blot","parentNode","scope","ANY","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","split","tagName","TYPE","Definitions","_i","arguments","length","map","Definition","blotName","attrName","keyName","className","isArray","toUpperCase","tagNames","forEach","tag","diff","equal","extend","op","NULL_CHARACTER","String","fromCharCode","Delta","ops","insert","text","newOp","keys","push","delete","retain","index","lastOp","unshift","splice","chop","pop","filter","predicate","partition","passed","failed","target","reduce","initial","changeLength","elem","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","other","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","delta","Math","min","thisOp","otherOp","rest","concat","strings","prep","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","transform","priority","transformPosition","offset","nextType","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","setProperty","options","newValue","writable","getProperty","src","copy","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","undefined","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","parent","getPrototypeOf","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","NEWLINE_LENGTH","_Parchment$Embed","apply","attach","domNode","formats","values","format","attribute","BLOCK_ATTRIBUTE","formatAt","insertAt","def","endsWith","block","insertBefore","BLOCK_BLOT","_Parchment$Block","_this2","cache","descendants","leaf","deleteAt","lines","shift","children","tail","ref","head","remove","moveChildren","optimize","context","path","removeChild","child","force","defaultChild","allowedChildren","statics","overload","expandConfig","_typeof","Symbol","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","done","err","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","_defineProperty","debug","Quill","limit","level","__quill","_import","imports","error","overwrite","warn","startsWith","container","html","innerHTML","trim","classList","add","addContainer","setAttribute","scrollingContainer","emitter","scroll","whitelist","editor","selection","theme","keyboard","addModule","clipboard","history","init","on","events","EDITOR_CHANGE","type","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","source","mutations","range","lastRange","modify","update","contents","convert","setContents","clear","placeholder","readOnly","disable","refNode","document","createElement","blur","setRange","deleteText","_this3","_overload","_overload2","enable","enabled","focus","scrollTop","scrollIntoView","_this4","sources","API","getSelection","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","getBounds","bounds","containerBounds","getBoundingClientRect","bottom","top","height","left","right","width","getContents","getLength","_overload7","_overload8","getFormat","getIndex","getLeaf","getLine","getLines","Number","MAX_VALUE","getModule","getRange","getText","_overload9","_overload10","hasFocus","insertEmbed","embed","_this7","insertText","_this8","_overload11","_overload12","isEnabled","contains","off","once","pasteHTML","dangerouslyPasteHTML","removeFormat","_this9","_overload13","_overload14","_this10","deleted","applied","applyDelta","ret","_overload15","_overload16","Range","setText","USER","updateContents","_this11","DEFAULTS","strict","version","parchment","userConfig","import","themeConfig","config","moduleNames","moduleConfig","moduleClass","toolbar","querySelector","modifier","oldDelta","shiftRange","_emitter","args","emit","_emitter2","_map","pos","_map2","_map3","max","_map4","_Parchment$Inline","compare","BLOT","isolate","wrap","selfIndex","order","otherIndex","TextBlot","_Parchment$Text","_eventemitter","_eventemitter2","EVENTS","eventName","addEventListener","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","event","_len2","_key2","_ref","handler","listenDOM","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","bind","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","opts","Date","getTime","objEquiv","isUndefinedOrNull","isBuffer","x","a","ka","kb","e","sort","attributeBit","ATTRIBUTE","item","canAdd","replace","removeAttribute","Code","_block","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","_descendant2","nextNewline","newlineIndex","prevNewline","isolateLength","_descendant3","_descendant4","searchIndex","reverse","lastIndexOf","appendChild","prev","unwrap","TAB","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","data","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","image","list","bullet","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","body","_format","nativeRange","collapsed","after","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rect","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","rangeToNative","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","oldRange","_getRange","_getRange2","Break","insertInto","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","some","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","Map","_","nativeSet","Set","nativePromise","Promise","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","allocUnsafe","keyChild","valueChild","set","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","__objToStr","re","flags","global","ignoreCase","multiline","_container","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_line4","_newlineIndex","observer","takeRecords","SHORTKEY","_quill","_quill2","test","navigator","platform","Keyboard","_Module","evt","binding","normalize","which","keyCode","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","defaultPrevented","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","prevented","every","preventDefault","ESCAPE","LEFT","UP","RIGHT","DOWN","bold","makeFormatHandler","italic","underline","indent","outdent","makeCodeBlockHandler","tab","cutoff","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","makeEmbedArrowHandler","_ref3","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","charCodeAt","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","sanitize","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","toggleAriaAttribute","element","Picker","select","buildPicker","style","display","label","togglePicker","escape","buildItem","option","tabIndex","hasAttribute","selectItem","buildLabel","buildOptions","id","selected","close","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","styles","attr","ClassAttributor","matches","result","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","align","center","justify","background","blockquote","clean","code","color","direction","rtl","float","full","formula","link","ordered","check","script","sub","super","strike","video","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","endsWithNewlineChange","deleteLength","changeIndex","BaseTooltip","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","removeEventListener","tooltip","textbox","hide","pickers","picker","extendToolbar","buildButtons","buttons","icons","button","buildPickers","selects","fillSelect","handlers","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","_Tooltip","boundsContainer","save","cancel","mode","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","LinkedList","append","nodes","cur","curNode","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","isEqual","obj1","obj2","prop","InlineBlot","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","token","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_halfMatchI_","seed","j","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","hm1","hm2","pointer","count_delete","count_insert","text_delete","text_insert","changes","cursor_normalize_diff","current_pos","next_pos","split_pos","d_left","d_right","norm","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","fn","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchBreak","ELEMENT_NODE","matchStyles","matchIndent","matchAlias","matchIgnore","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","pair","_pair","applyFormat","computeStyle","nodeType","window","getComputedStyle","endText","childrenDelta","nextElementSibling","nodeHeight","offsetHeight","parseFloat","marginTop","marginBottom","offsetTop","fontStyle","fontWeight","textIndent","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","addButton","groups","group","control","addSelect","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","show","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","SnowTooltip","_BaseTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","Italic","_Bold","Script","Strike","Underline","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","render","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","highlight","_highlight","cachedText","Syntax","timer","clearTimeout","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft","t","require$$0","r","u","onClick","arrayMerge","currentSpec","actions","overlay","assign","specs","setUserSelect","repositionOverlay","createActions","onHide","destroyActions","onUpdate","getActions","onCreate","onDestroy","getOverlayElement","scrollLeft","documentElement","formatter","f","getTargetElement","boxSizing","border","aligner","applyStyle","allowDeselect","mainClassName","mainStyle","minWidth","font","textAlign","zIndex","buttonClassName","addButtonSelectStyle","buttonStyle","verticalAlign","svgStyle","resize","handleClassName","handleStyle","opacity","h","getElement","destroy","alignAttribute","alignments","icon","setAlignment","setStyle","addToolbarStyle","addButtons","borderLeftWidth","getAlignments","onButtonClick","preselectButton","addButtonStyle","isAligned","selectButton","clickButton","deselectButton","removeProperty","onMouseDown","dragHandle","setCursor","dragStartX","clientX","preDragWidth","targetRatio","onDrag","onMouseUp","topLeftHandle","bottomLeftHandle","round","createHandle","topRightHandle","bottomRightHandle","repositionHandles","onKeyUp","img","onTextChange","onMouseEnter","nextUnclickable","repositionProxyImage","onProxyImageClick","unclickable","hideProxyImage","createProxyImage","proxyImage","getContext","globalAlpha","fillRect","toDataURL","margin","pageXOffset","pageYOffset","$$typeof","for","all","LoadingImage","custom","dataset","ImageUploader","placeholderDelta","upload","selectLocalImage","handleDrop","handlePaste","fileHolder","onchange","fileChanged","requestAnimationFrame","dataTransfer","stopPropagation","caretRangeFromPoint","clientY","setBaseAndExtent","caretPositionFromPoint","offsetNode","file","readAndUploadFile","clipboardData","items","IMAGE_MIME_REGEX","getAsFile","isUploadReject","fileReader","base64ImageSrc","insertBase64Image","imageUrl","insertToEditor","removeBase64Image","lengthToDelete","calculatePlaceholderInsertLength","accumulator","deltaOperation","QuillEditorComponent","defaultModules","size","setEditorContent","quillEditor","JSON","parse","getEditorContent","content","editorElement","stringify","componentDidLoad","immerseaLocation","preserveWhitespace","toolbarElem","wrapperElement","customToolbarPosition","prepend","BlotFormatter","async","popover","RouterService","openPopover","onDidDismiss","ev","media","itemId","collectionId","IMMERSEALOCATIONSCOLLECTION","urls","editorChangeEvent","current","old","editorChange","selectionChangeEvent","editorBlur","editorFocus","editorSelectionChange","textChangeEvent","editorContentChange","editorInit","disconnectedCallback","updateContent","editorContents","changed","newContentString","updateReadOnly","updatePlaceholder","updateStyle","Host","quillViewCss","QuillViewStyle0","QuillViewComponent","el"],"sources":["node_modules/Quill/dist/quill.js","node_modules/quill-blot-formatter/dist/quill-blot-formatter.min.js","node_modules/quill-image-uploader/src/blots/image.js","node_modules/quill-image-uploader/src/quill.imageUploader.js","src/components/common/app/common/quill-editor/quill-editor.tsx","src/components/common/app/common/quill-view/quill-view.css?tag=quill-view&encapsulation=scoped","src/components/common/app/common/quill-view/quill-view.tsx"],"sourcesContent":["/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var ops = [];\n  var firstOther = otherIter.peek();\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n    var firstLeft = firstOther.retain;\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n      firstLeft -= thisIter.peekLength();\n      ops.push(thisIter.next());\n    }\n    if (firstOther.retain - firstLeft > 0) {\n      otherIter.next(firstOther.retain - firstLeft);\n    }\n  }\n  var delta = new Delta(ops);\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n\n        // Optimization if rest of other is just retain\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n          var rest = new Delta(thisIter.rest());\n          return delta.concat(rest).chop();\n        }\n\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.7\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        var _a;\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('rel', 'noopener noreferrer');\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"Quill\")):\"function\"==typeof define&&define.amd?define([\"Quill\"],t):\"object\"==typeof exports?exports.QuillBlotFormatter=t(require(\"Quill\")):e.QuillBlotFormatter=t(e.Quill)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=14)}([function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(15),l=r(a),u=n(4),s=r(u),c=n(1),f=(r(c),n(2)),p=(r(f),function(e,t){return t}),d=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.onClick=function(){n.hide()},this.quill=t,this.options=(0,l.default)(s.default,r,{arrayMerge:p}),this.currentSpec=null,this.actions=[],this.overlay=document.createElement(\"div\"),this.overlay.classList.add(this.options.overlay.className),this.options.overlay.style&&Object.assign(this.overlay.style,this.options.overlay.style),document.execCommand(\"enableObjectResizing\",!1,\"false\"),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||\"relative\",this.quill.root.addEventListener(\"click\",this.onClick),this.specs=this.options.specs.map(function(e){return new e(n)}),this.specs.forEach(function(e){return e.init()})}return i(e,[{key:\"show\",value:function(e){this.currentSpec=e,this.currentSpec.setSelection(),this.setUserSelect(\"none\"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createActions(e)}},{key:\"hide\",value:function(){this.currentSpec&&(this.currentSpec.onHide(),this.currentSpec=null,this.quill.root.parentNode.removeChild(this.overlay),this.overlay.style.setProperty(\"display\",\"none\"),this.setUserSelect(\"\"),this.destroyActions())}},{key:\"update\",value:function(){this.repositionOverlay(),this.actions.forEach(function(e){return e.onUpdate()})}},{key:\"createActions\",value:function(e){var t=this;this.actions=e.getActions().map(function(e){var n=new e(t);return n.onCreate(),n})}},{key:\"destroyActions\",value:function(){this.actions.forEach(function(e){return e.onDestroy()}),this.actions=[]}},{key:\"repositionOverlay\",value:function(){if(this.currentSpec){var e=this.currentSpec.getOverlayElement();if(e){var t=this.quill.root.parentNode,n=e.getBoundingClientRect(),r=t.getBoundingClientRect();Object.assign(this.overlay.style,{display:\"block\",left:n.left-r.left-1+t.scrollLeft+\"px\",top:n.top-r.top+t.scrollTop+\"px\",width:n.width+\"px\",height:n.height+\"px\"})}}}},{key:\"setUserSelect\",value:function(e){var t=this;[\"userSelect\",\"mozUserSelect\",\"webkitUserSelect\",\"msUserSelect\"].forEach(function(n){t.quill.root.style.setProperty(n,e),document.documentElement&&document.documentElement.style.setProperty(n,e)})}}]),e}();t.default=d},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(function(e){e&&e.__esModule}(i),function(){function e(t){r(this,e),this.formatter=t}return o(e,[{key:\"onCreate\",value:function(){}},{key:\"onDestroy\",value:function(){}},{key:\"onUpdate\",value:function(){}}]),e}());t.default=a},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=(r(a),n(1)),u=(r(l),n(5)),s=r(u),c=n(9),f=r(c),p=n(10),d=r(p),y=function(){function e(t){o(this,e),this.formatter=t}return i(e,[{key:\"init\",value:function(){}},{key:\"getActions\",value:function(){return[s.default,f.default,d.default]}},{key:\"getTargetElement\",value:function(){return null}},{key:\"getOverlayElement\",value:function(){return this.getTargetElement()}},{key:\"setSelection\",value:function(){this.formatter.quill.setSelection(null)}},{key:\"onHide\",value:function(){}}]),e}();t.default=y},function(e,t,n){\"use strict\"},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(2),i=(r(o),n(11)),a=r(i),l=n(12),u=r(l),s={specs:[a.default,u.default],overlay:{className:\"blot-formatter__overlay\",style:{position:\"absolute\",boxSizing:\"border-box\",border:\"1px dashed #444\"}},align:{attribute:\"data-align\",aligner:{applyStyle:!0},icons:{left:'\\n        <svg viewbox=\"0 0 18 18\">\\n          <line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"9\" y2=\"9\"></line>\\n          <line class=\"ql-stroke\" x1=\"3\" x2=\"13\" y1=\"14\" y2=\"14\"></line>\\n          <line class=\"ql-stroke\" x1=\"3\" x2=\"9\" y1=\"4\" y2=\"4\"></line>\\n        </svg>\\n      ',center:'\\n        <svg viewbox=\"0 0 18 18\">\\n           <line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"></line>\\n          <line class=\"ql-stroke\" x1=\"14\" x2=\"4\" y1=\"14\" y2=\"14\"></line>\\n          <line class=\"ql-stroke\" x1=\"12\" x2=\"6\" y1=\"4\" y2=\"4\"></line>\\n        </svg>\\n      ',right:'\\n        <svg viewbox=\"0 0 18 18\">\\n          <line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"></line>\\n          <line class=\"ql-stroke\" x1=\"15\" x2=\"5\" y1=\"14\" y2=\"14\"></line>\\n          <line class=\"ql-stroke\" x1=\"15\" x2=\"9\" y1=\"4\" y2=\"4\"></line>\\n        </svg>\\n      '},toolbar:{allowDeselect:!0,mainClassName:\"blot-formatter__toolbar\",mainStyle:{position:\"absolute\",top:\"-12px\",right:\"0\",left:\"0\",height:\"0\",minWidth:\"100px\",font:\"12px/1.0 Arial, Helvetica, sans-serif\",textAlign:\"center\",color:\"#333\",boxSizing:\"border-box\",cursor:\"default\",zIndex:\"1\"},buttonClassName:\"blot-formatter__toolbar-button\",addButtonSelectStyle:!0,buttonStyle:{display:\"inline-block\",width:\"24px\",height:\"24px\",background:\"white\",border:\"1px solid #999\",verticalAlign:\"middle\"},svgStyle:{display:\"inline-block\",width:\"24px\",height:\"24px\",background:\"white\",border:\"1px solid #999\",verticalAlign:\"middle\"}}},resize:{handleClassName:\"blot-formatter__resize-handle\",handleStyle:{position:\"absolute\",height:\"12px\",width:\"12px\",backgroundColor:\"white\",border:\"1px solid #777\",boxSizing:\"border-box\",opacity:\"0.80\"}}};t.default=s},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),c=n(0),f=(r(c),n(6)),p=r(f),d=(n(3),n(7),n(8)),y=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.aligner=new p.default(e.options.align),n.toolbar=new y.default,n}return a(t,e),l(t,[{key:\"onCreate\",value:function(){var e=this.toolbar.create(this.formatter,this.aligner);this.formatter.overlay.appendChild(e)}},{key:\"onDestroy\",value:function(){var e=this.toolbar.getElement();e&&(this.formatter.overlay.removeChild(e),this.toolbar.destroy())}}]),t}(s.default);t.default=h},function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(3),\"left\"),l=\"center\",u=\"right\",s=function(){function e(t){var n,i=this;o(this,e),this.applyStyle=t.aligner.applyStyle,this.alignAttribute=t.attribute,this.alignments=(n={},r(n,a,{name:a,icon:t.icons.left,apply:function(e){i.setAlignment(e,a),i.setStyle(e,\"inline\",\"left\",\"0 1em 1em 0\")}}),r(n,l,{name:l,icon:t.icons.center,apply:function(e){i.setAlignment(e,l),i.setStyle(e,\"block\",null,\"auto\")}}),r(n,u,{name:u,icon:t.icons.right,apply:function(e){i.setAlignment(e,u),i.setStyle(e,\"inline\",\"right\",\"0 0 1em 1em\")}}),n)}return i(e,[{key:\"getAlignments\",value:function(){var e=this;return Object.keys(this.alignments).map(function(t){return e.alignments[t]})}},{key:\"clear\",value:function(e){e.removeAttribute(this.alignAttribute),this.setStyle(e,null,null,null)}},{key:\"isAligned\",value:function(e,t){return e.getAttribute(this.alignAttribute)===t.name}},{key:\"setAlignment\",value:function(e,t){e.setAttribute(this.alignAttribute,t)}},{key:\"setStyle\",value:function(e,t,n,r){this.applyStyle&&(e.style.setProperty(\"display\",t),e.style.setProperty(\"float\",n),e.style.setProperty(\"margin\",r))}}]),e}();t.default=s},function(e,t,n){\"use strict\";var r=(n(3),n(0));!function(e){e&&e.__esModule}(r)},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(7),n(3),n(0)),a=(function(e){e&&e.__esModule}(i),function(){function e(){r(this,e),this.toolbar=null,this.buttons=[]}return o(e,[{key:\"create\",value:function(e,t){var n=document.createElement(\"div\");return n.classList.add(e.options.align.toolbar.mainClassName),this.addToolbarStyle(e,n),this.addButtons(e,n,t),this.toolbar=n,this.toolbar}},{key:\"destroy\",value:function(){this.toolbar=null,this.buttons=[]}},{key:\"getElement\",value:function(){return this.toolbar}},{key:\"addToolbarStyle\",value:function(e,t){e.options.align.toolbar.mainStyle&&Object.assign(t.style,e.options.align.toolbar.mainStyle)}},{key:\"addButtonStyle\",value:function(e,t,n){n.options.align.toolbar.buttonStyle&&(Object.assign(e.style,n.options.align.toolbar.buttonStyle),t>0&&(e.style.borderLeftWidth=\"0\")),n.options.align.toolbar.svgStyle&&Object.assign(e.children[0].style,n.options.align.toolbar.svgStyle)}},{key:\"addButtons\",value:function(e,t,n){var r=this;n.getAlignments().forEach(function(o,i){var a=document.createElement(\"span\");a.classList.add(e.options.align.toolbar.buttonClassName),a.innerHTML=o.icon,a.addEventListener(\"click\",function(){r.onButtonClick(a,e,o,n)}),r.preselectButton(a,o,e,n),r.addButtonStyle(a,i,e),r.buttons.push(a),t.appendChild(a)})}},{key:\"preselectButton\",value:function(e,t,n,r){if(n.currentSpec){var o=n.currentSpec.getTargetElement();o&&r.isAligned(o,t)&&this.selectButton(n,e)}}},{key:\"onButtonClick\",value:function(e,t,n,r){if(t.currentSpec){var o=t.currentSpec.getTargetElement();o&&this.clickButton(e,o,t,n,r)}}},{key:\"clickButton\",value:function(e,t,n,r,o){var i=this;this.buttons.forEach(function(e){i.deselectButton(n,e)}),o.isAligned(t,r)?n.options.align.toolbar.allowDeselect?o.clear(t):this.selectButton(n,e):(this.selectButton(n,e),r.apply(t)),n.update()}},{key:\"selectButton\",value:function(e,t){t.classList.add(\"is-selected\"),e.options.align.toolbar.addButtonSelectStyle&&t.style.setProperty(\"filter\",\"invert(20%)\")}},{key:\"deselectButton\",value:function(e,t){t.classList.remove(\"is-selected\"),e.options.align.toolbar.addButtonSelectStyle&&t.style.removeProperty(\"filter\")}}]),e}());t.default=a},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),c=n(0),f=(r(c),function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=function(e){if(e.target instanceof HTMLElement&&(n.dragHandle=e.target,n.setCursor(n.dragHandle.style.cursor),n.formatter.currentSpec)){var t=n.formatter.currentSpec.getTargetElement();if(t){var r=t.getBoundingClientRect();n.dragStartX=e.clientX,n.preDragWidth=r.width,n.targetRatio=r.height/r.width,document.addEventListener(\"mousemove\",n.onDrag),document.addEventListener(\"mouseup\",n.onMouseUp)}}},n.onDrag=function(e){if(n.formatter.currentSpec){var t=n.formatter.currentSpec.getTargetElement();if(t){var r=e.clientX-n.dragStartX,o=0;o=n.dragHandle===n.topLeftHandle||n.dragHandle===n.bottomLeftHandle?Math.round(n.preDragWidth-r):Math.round(n.preDragWidth+r);var i=n.targetRatio*o;t.setAttribute(\"width\",\"\"+o),t.setAttribute(\"height\",\"\"+i),n.formatter.update()}}},n.onMouseUp=function(){n.setCursor(\"\"),document.removeEventListener(\"mousemove\",n.onDrag),document.removeEventListener(\"mouseup\",n.onMouseUp)},n.topLeftHandle=n.createHandle(\"top-left\",\"nwse-resize\"),n.topRightHandle=n.createHandle(\"top-right\",\"nesw-resize\"),n.bottomRightHandle=n.createHandle(\"bottom-right\",\"nwse-resize\"),n.bottomLeftHandle=n.createHandle(\"bottom-left\",\"nesw-resize\"),n.dragHandle=null,n.dragStartX=0,n.preDragWidth=0,n.targetRatio=0,n}return a(t,e),l(t,[{key:\"onCreate\",value:function(){this.formatter.overlay.appendChild(this.topLeftHandle),this.formatter.overlay.appendChild(this.topRightHandle),this.formatter.overlay.appendChild(this.bottomRightHandle),this.formatter.overlay.appendChild(this.bottomLeftHandle),this.repositionHandles(this.formatter.options.resize.handleStyle)}},{key:\"onDestroy\",value:function(){this.setCursor(\"\"),this.formatter.overlay.removeChild(this.topLeftHandle),this.formatter.overlay.removeChild(this.topRightHandle),this.formatter.overlay.removeChild(this.bottomRightHandle),this.formatter.overlay.removeChild(this.bottomLeftHandle)}},{key:\"createHandle\",value:function(e,t){var n=document.createElement(\"div\");return n.classList.add(this.formatter.options.resize.handleClassName),n.setAttribute(\"data-position\",e),n.style.cursor=t,this.formatter.options.resize.handleStyle&&Object.assign(n.style,this.formatter.options.resize.handleStyle),n.addEventListener(\"mousedown\",this.onMouseDown),n}},{key:\"repositionHandles\",value:function(e){var t=\"0px\",n=\"0px\";e&&(e.width&&(t=-parseFloat(e.width)/2+\"px\"),e.height&&(n=-parseFloat(e.height)/2+\"px\")),Object.assign(this.topLeftHandle.style,{left:t,top:n}),Object.assign(this.topRightHandle.style,{right:t,top:n}),Object.assign(this.bottomRightHandle.style,{right:t,bottom:n}),Object.assign(this.bottomLeftHandle.style,{left:t,bottom:n})}},{key:\"setCursor\",value:function(e){if(document.body&&(document.body.style.cursor=e),this.formatter.currentSpec){var t=this.formatter.currentSpec.getOverlayElement();t&&(t.style.cursor=e)}}}]),t}(s.default));t.default=f},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),s=r(u),c=n(1),f=r(c),p=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onKeyUp=function(e){if(r.formatter.currentSpec&&(46===e.keyCode||8===e.keyCode)){var t=s.default.find(r.formatter.currentSpec.getTargetElement());t&&t.deleteAt(0),r.formatter.hide()}},a=n,i(r,a)}return a(t,e),l(t,[{key:\"onCreate\",value:function(){document.addEventListener(\"keyup\",this.onKeyUp,!0),this.formatter.quill.root.addEventListener(\"input\",this.onKeyUp,!0)}},{key:\"onDestroy\",value:function(){document.removeEventListener(\"keyup\",this.onKeyUp),this.formatter.quill.root.removeEventListener(\"input\",this.onKeyUp)}}]),t}(f.default);t.default=p},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),s=r(u),c=n(0),f=(r(c),function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e){var t=e.target;t instanceof HTMLElement&&\"IMG\"===t.tagName&&(n.img=t,n.formatter.show(n))},n.img=null,n}return a(t,e),l(t,[{key:\"init\",value:function(){this.formatter.quill.root.addEventListener(\"click\",this.onClick)}},{key:\"getTargetElement\",value:function(){return this.img}},{key:\"onHide\",value:function(){this.img=null}}]),t}(s.default));t.default=f},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=n(13),u=r(l),s=n(0),c=(r(s),function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,\"iframe.ql-video\"))}return a(t,e),t}(u.default));t.default=c},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),s=r(u),c=n(0),f=(r(c),\"data-blot-formatter-unclickable-bound\"),p=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onTextChange=function(){Array.from(document.querySelectorAll(r.selector+\":not([\"+f+\"])\")).forEach(function(e){e.setAttribute(f,\"true\"),e.addEventListener(\"mouseenter\",r.onMouseEnter)})},r.onMouseEnter=function(e){var t=e.target;t instanceof HTMLElement&&(r.nextUnclickable=t,r.repositionProxyImage(r.nextUnclickable))},r.onProxyImageClick=function(){r.unclickable=r.nextUnclickable,r.nextUnclickable=null,r.formatter.show(r),r.hideProxyImage()},r.selector=n,r.unclickable=null,r.nextUnclickable=null,r}return a(t,e),l(t,[{key:\"init\",value:function(){document.body&&document.body.appendChild(this.createProxyImage()),this.hideProxyImage(),this.proxyImage.addEventListener(\"click\",this.onProxyImageClick),this.formatter.quill.on(\"text-change\",this.onTextChange)}},{key:\"getTargetElement\",value:function(){return this.unclickable}},{key:\"getOverlayElement\",value:function(){return this.unclickable}},{key:\"onHide\",value:function(){this.hideProxyImage(),this.nextUnclickable=null,this.unclickable=null}},{key:\"createProxyImage\",value:function(){var e=document.createElement(\"canvas\"),t=e.getContext(\"2d\");return t.globalAlpha=0,t.fillRect(0,0,1,1),this.proxyImage=document.createElement(\"img\"),this.proxyImage.src=e.toDataURL(\"image/png\"),this.proxyImage.classList.add(\"blot-formatter__proxy-image\"),Object.assign(this.proxyImage.style,{position:\"absolute\",margin:\"0\"}),this.proxyImage}},{key:\"hideProxyImage\",value:function(){Object.assign(this.proxyImage.style,{display:\"none\"})}},{key:\"repositionProxyImage\",value:function(e){var t=e.getBoundingClientRect();Object.assign(this.proxyImage.style,{display:\"block\",left:t.left+window.pageXOffset+\"px\",top:t.top+window.pageYOffset+\"px\",width:t.width+\"px\",height:t.height+\"px\"})}}]),t}(s.default);t.default=p},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(4);Object.defineProperty(t,\"DefaultOptions\",{enumerable:!0,get:function(){return r(o).default}});var i=n(0);Object.defineProperty(t,\"default\",{enumerable:!0,get:function(){return r(i).default}});var a=n(1);Object.defineProperty(t,\"Action\",{enumerable:!0,get:function(){return r(a).default}});var l=n(5);Object.defineProperty(t,\"AlignAction\",{enumerable:!0,get:function(){return r(l).default}});var u=n(6);Object.defineProperty(t,\"DefaultAligner\",{enumerable:!0,get:function(){return r(u).default}});var s=n(8);Object.defineProperty(t,\"DefaultToolbar\",{enumerable:!0,get:function(){return r(s).default}});var c=n(10);Object.defineProperty(t,\"DeleteAction\",{enumerable:!0,get:function(){return r(c).default}});var f=n(9);Object.defineProperty(t,\"ResizeAction\",{enumerable:!0,get:function(){return r(f).default}});var p=n(2);Object.defineProperty(t,\"BlotSpec\",{enumerable:!0,get:function(){return r(p).default}});var d=n(11);Object.defineProperty(t,\"ImageSpec\",{enumerable:!0,get:function(){return r(d).default}});var y=n(13);Object.defineProperty(t,\"UnclickableBlotSpec\",{enumerable:!0,get:function(){return r(y).default}});var h=n(12);Object.defineProperty(t,\"IframeVideoSpec\",{enumerable:!0,get:function(){return r(h).default}})},function(e,t,n){\"use strict\";function r(e){return!!e&&\"object\"==typeof e}function o(e){var t=Object.prototype.toString.call(e);return\"[object RegExp]\"===t||\"[object Date]\"===t||i(e)}function i(e){return e.$$typeof===d}function a(e){return Array.isArray(e)?[]:{}}function l(e,t){return t&&!1===t.clone||!f(e)?e:c(a(e),e,t)}function u(e,t,n){return e.concat(t).map(function(e){return l(e,n)})}function s(e,t,n){var r={};return f(e)&&Object.keys(e).forEach(function(t){r[t]=l(e[t],n)}),Object.keys(t).forEach(function(o){f(t[o])&&e[o]?r[o]=c(e[o],t[o],n):r[o]=l(t[o],n)}),r}function c(e,t,n){var r=Array.isArray(t),o=Array.isArray(e),i=n||{arrayMerge:u};if(r===o)return r?(i.arrayMerge||u)(e,t,n):s(e,t,n);return l(t,n)}Object.defineProperty(t,\"__esModule\",{value:!0});var f=function(e){return r(e)&&!o(e)},p=\"function\"==typeof Symbol&&Symbol.for,d=p?Symbol.for(\"react.element\"):60103;c.all=function(e,t){if(!Array.isArray(e))throw new Error(\"first argument should be an array\");return e.reduce(function(e,n){return c(e,n,t)},{})};var y=c;t.default=y},function(t,n){t.exports=e}])});","import Quill from \"quill\";\r\n\r\nconst InlineBlot = Quill.import(\"blots/block\");\r\n\r\nclass LoadingImage extends InlineBlot {\r\n    static create(src) {\r\n        const node = super.create(src);\r\n        if (src === true) return node;\r\n\r\n        const image = document.createElement(\"img\");\r\n        image.setAttribute(\"src\", src);\r\n        node.appendChild(image);\r\n        return node;\r\n    }\r\n    deleteAt(index, length) {\r\n        super.deleteAt(index, length);\r\n        this.cache = {};\r\n    }\r\n    static value(domNode) {\r\n        const { src, custom } = domNode.dataset;\r\n        return { src, custom };\r\n    }\r\n}\r\n\r\nLoadingImage.blotName = \"imageBlot\";\r\nLoadingImage.className = \"image-uploading\";\r\nLoadingImage.tagName = \"span\";\r\nQuill.register({ \"formats/imageBlot\": LoadingImage });\r\n\r\nexport default LoadingImage;","import LoadingImage from \"./blots/image.js\";\r\n\r\nclass ImageUploader {\r\n    constructor(quill, options) {\r\n        this.quill = quill;\r\n        this.options = options;\r\n        this.range = null;             \r\n        this.placeholderDelta = null; \r\n\r\n        if (typeof this.options.upload !== \"function\")\r\n            console.warn(\r\n                \"[Missing config] upload function that returns a promise is required\"\r\n            );\r\n\r\n        var toolbar = this.quill.getModule(\"toolbar\");\r\n        if (toolbar) {\r\n            toolbar.addHandler(\"image\", this.selectLocalImage.bind(this));\r\n        }\r\n\r\n        this.handleDrop = this.handleDrop.bind(this);\r\n        this.handlePaste = this.handlePaste.bind(this);\r\n\r\n        this.quill.root.addEventListener(\"drop\", this.handleDrop, false);\r\n        this.quill.root.addEventListener(\"paste\", this.handlePaste, false);\r\n    }\r\n\r\n    selectLocalImage() {\r\n        this.quill.focus();\r\n        this.range = this.quill.getSelection();\r\n        this.fileHolder = document.createElement(\"input\");\r\n        this.fileHolder.setAttribute(\"type\", \"file\");\r\n        this.fileHolder.setAttribute(\"accept\", \"image/*\");\r\n        this.fileHolder.setAttribute(\"style\", \"visibility:hidden\");\r\n\r\n        this.fileHolder.onchange = this.fileChanged.bind(this);\r\n\r\n        document.body.appendChild(this.fileHolder);\r\n\r\n        this.fileHolder.click();\r\n\r\n        window.requestAnimationFrame(() => {\r\n            document.body.removeChild(this.fileHolder);\r\n        });\r\n    }\r\n\r\n    handleDrop(evt) {\r\n        if (\r\n            evt.dataTransfer &&\r\n            evt.dataTransfer.files &&\r\n            evt.dataTransfer.files.length\r\n        ) {\r\n            evt.stopPropagation();\r\n            evt.preventDefault();\r\n            if (document.caretRangeFromPoint) {\r\n                const selection = document.getSelection();\r\n                const range = document.caretRangeFromPoint(evt.clientX, evt.clientY);\r\n                if (selection && range) {\r\n                    selection.setBaseAndExtent(\r\n                        range.startContainer,\r\n                        range.startOffset,\r\n                        range.startContainer,\r\n                        range.startOffset\r\n                    );\r\n                }\r\n            } else {\r\n                const selection = document.getSelection();\r\n                const range = document.caretPositionFromPoint(evt.clientX, evt.clientY);\r\n                if (selection && range) {\r\n                    selection.setBaseAndExtent(\r\n                        range.offsetNode,\r\n                        range.offset,\r\n                        range.offsetNode,\r\n                        range.offset\r\n                    );\r\n                }\r\n            }\r\n\r\n            this.quill.focus();\r\n            this.range = this.quill.getSelection();\r\n            let file = evt.dataTransfer.files[0];\r\n\r\n            setTimeout(() => {\r\n                this.quill.focus();\r\n                this.range = this.quill.getSelection();\r\n                this.readAndUploadFile(file);\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n    handlePaste(evt) {\r\n        let clipboard = evt.clipboardData || window.clipboardData;\r\n\r\n        // IE 11 is .files other browsers are .items\r\n        if (clipboard && (clipboard.items || clipboard.files)) {\r\n            let items = clipboard.items || clipboard.files;\r\n            const IMAGE_MIME_REGEX = /^image\\/(jpe?g|gif|png|svg|webp)$/i;\r\n\r\n            for (let i = 0; i < items.length; i++) {\r\n                if (IMAGE_MIME_REGEX.test(items[i].type)) {\r\n                    let file = items[i].getAsFile ? items[i].getAsFile() : items[i];\r\n\r\n                    if (file) {\r\n                        this.quill.focus();\r\n                        this.range = this.quill.getSelection();\r\n                        evt.preventDefault();\r\n                        setTimeout(() => {\r\n                            this.quill.focus();\r\n                            this.range = this.quill.getSelection();\r\n                            this.readAndUploadFile(file);\r\n                        }, 0);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    readAndUploadFile(file) {\r\n        let isUploadReject = false;\r\n\r\n        const fileReader = new FileReader();\r\n\r\n        fileReader.addEventListener(\r\n            \"load\",\r\n            () => {\r\n                if (!isUploadReject) {\r\n                    let base64ImageSrc = fileReader.result;\r\n                    this.insertBase64Image(base64ImageSrc);\r\n                }\r\n            },\r\n            false\r\n        );\r\n\r\n        if (file) {\r\n            fileReader.readAsDataURL(file);\r\n        }\r\n\r\n        this.options.upload(file).then(\r\n            (imageUrl) => {\r\n                this.insertToEditor(imageUrl);\r\n            },\r\n            (error) => {\r\n                isUploadReject = true;\r\n                this.removeBase64Image();\r\n                console.warn(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    fileChanged() {\r\n        const file = this.fileHolder.files[0];\r\n        this.readAndUploadFile(file);\r\n    }\r\n\r\n    insertBase64Image(url) {\r\n        const range = this.range;\r\n                \r\n        this.placeholderDelta = this.quill.insertEmbed(\r\n            range.index,\r\n            LoadingImage.blotName,\r\n            `${url}`,\r\n            \"user\"\r\n        );\r\n    }\r\n\r\n    insertToEditor(url) {\r\n        const range = this.range;        \r\n\r\n        const lengthToDelete = this.calculatePlaceholderInsertLength();        \r\n        \r\n        // Delete the placeholder image\r\n        this.quill.deleteText(range.index, lengthToDelete, \"user\");\r\n        // Insert the server saved image\r\n        this.quill.insertEmbed(range.index, \"image\", `${url}`, \"user\");\r\n\r\n        range.index++;\r\n        this.quill.setSelection(range, \"user\");\r\n    }\r\n\r\n    // The length of the insert delta from insertBase64Image can vary depending on what part of the line the insert occurs\r\n    calculatePlaceholderInsertLength() {\r\n        return this.placeholderDelta.ops.reduce((accumulator, deltaOperation) => {            \r\n            if (deltaOperation.hasOwnProperty('insert'))\r\n                accumulator++;\r\n\r\n            return accumulator;\r\n        }, 0);\r\n    }\r\n\r\n    removeBase64Image() {        \r\n        const range = this.range;\r\n        const lengthToDelete = this.calculatePlaceholderInsertLength();\r\n\r\n        this.quill.deleteText(range.index, lengthToDelete, \"user\");\r\n    }\r\n}\r\n\r\nwindow.ImageUploader = ImageUploader;\r\nexport default ImageUploader;","import {\n  h,\n  Component,\n  ComponentDidLoad,\n  Element,\n  Event,\n  EventEmitter,\n  Prop,\n  Watch,\n  Host,\n} from \"@stencil/core\";\nimport Quill from \"quill/dist/quill.js\";\nimport BlotFormatter from \"quill-blot-formatter/dist/quill-blot-formatter.min.js\";\nimport ImageUploader from \"quill-image-uploader/src/quill.imageUploader.js\";\nimport { RouterService } from \"../../../../../services/common/router\";\nimport { IMMERSEALOCATIONSCOLLECTION } from \"../../../../../services/immersea/immerseaLocations\";\nimport { ImmerseaLocation } from \"../../../../../interfaces/immersea/immerseaLocation\";\n\n@Component({\n  tag: \"quill-editor\",\n  scoped: true,\n  shadow: false,\n})\nexport class QuillEditorComponent implements ComponentDidLoad {\n  @Event() editorInit: EventEmitter<any>;\n  @Event() editorChange: EventEmitter<\n    | {\n        editor: any;\n        event: \"text-change\";\n        content: any;\n        text: string;\n        html: string;\n        delta: any;\n        oldDelta: any;\n        source: string;\n      }\n    | {\n        editor: any;\n        event: \"selection-change\";\n        range: any;\n        oldRange: any;\n        source: string;\n      }\n  >;\n  @Event() editorContentChange: EventEmitter<{\n    editor: any;\n    content: any;\n    text: string;\n    html: string;\n    delta: any;\n    oldDelta: any;\n    source: string;\n  }>;\n  @Event() editorSelectionChange: EventEmitter<{\n    editor: any;\n    range: any;\n    oldRange: any;\n    source: string;\n  }>;\n  @Event() editorFocus: EventEmitter<{\n    editor: any;\n    source: string;\n  }>;\n  @Event() editorBlur: EventEmitter<{\n    editor: any;\n    source: string;\n  }>;\n\n  @Element() wrapperElement: HTMLElement;\n\n  @Prop() format: \"html\" | \"text\" | \"json\" = \"html\";\n  @Prop() bounds: HTMLElement | string;\n  @Prop() content: string;\n  @Prop() debug: string = \"warn\";\n  @Prop() formats: string[];\n  @Prop() modules?: string;\n  @Prop() placeholder: string = \"Insert text here ...\";\n  @Prop() readOnly: boolean;\n  @Prop() scrollingContainer: HTMLElement | string;\n  @Prop() strict: boolean = true;\n  @Prop() styles: string = \"{}\";\n  @Prop() theme: string = \"snow\";\n  @Prop() customToolbarPosition: \"top\" | \"bottom\" = \"top\";\n  @Prop() preserveWhitespace: boolean = false;\n\n  @Prop() immerseaLocation: ImmerseaLocation;\n\n  quillEditor: any;\n  editorElement: HTMLDivElement | HTMLPreElement;\n  private defaultModules = {\n    toolbar: {\n      container: [\n        [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\n        [\"emoji\"],\n        [\"blockquote\", \"code-block\"],\n\n        [{ header: 1 }, { header: 2 }], // custom button values\n        [{ list: \"ordered\" }, { list: \"bullet\" }],\n        [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n        [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n        [{ direction: \"rtl\" }], // text direction\n\n        [{ size: [\"small\", false, \"large\", \"huge\"] }], // custom dropdown\n        [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n        [{ color: [].slice() }, { background: [].slice() }], // dropdown with defaults from theme\n        [{ font: [].slice() }],\n        [{ align: [].slice() }],\n\n        [\"clean\"], // remove formatting button\n      ],\n    },\n  };\n\n  selectionChangeEvent: any;\n  textChangeEvent: any;\n  editorChangeEvent: any;\n\n  setEditorContent(value: any) {\n    if (this.format === \"html\") {\n      const contents = this.quillEditor.clipboard.convert(value);\n      this.quillEditor.setContents(contents, \"api\");\n    } else if (this.format === \"text\") {\n      this.quillEditor.setText(value, \"api\");\n    } else if (this.format === \"json\") {\n      try {\n        this.quillEditor.setContents(JSON.parse(value), \"api\");\n      } catch (e) {\n        this.quillEditor.setText(value, \"api\");\n      }\n    } else {\n      this.quillEditor.setText(value, \"api\");\n    }\n  }\n\n  getEditorContent() {\n    const text = this.quillEditor.getText();\n    const content = this.quillEditor.getContents();\n\n    let html: string | null = this.editorElement.children[0].innerHTML;\n    if (html === \"<p><br></p>\" || html === \"<div><br></div>\") {\n      html = \"\";\n    }\n\n    if (this.format === \"html\") {\n      return html;\n    } else if (this.format === \"text\") {\n      return text;\n    } else if (this.format === \"json\") {\n      try {\n        return JSON.stringify(content);\n      } catch (e) {\n        return text;\n      }\n    } else {\n      return text;\n    }\n  }\n\n  componentDidLoad() {\n    if (this.immerseaLocation.id) {\n      this.defaultModules.toolbar.container.push([\"link\", \"image\", \"video\"]); // link and image, video\n    } else {\n      //remove image upload button\n      this.defaultModules.toolbar.container.push([\"link\", \"video\"]); // link and video\n    }\n\n    this.editorElement = this.preserveWhitespace\n      ? document.createElement(\"pre\")\n      : document.createElement(\"div\");\n    this.editorElement.setAttribute(\"quill-editor\", \"\");\n\n    let modules: any = this.modules\n      ? JSON.parse(this.modules)\n      : this.defaultModules;\n\n    const toolbarElem = this.wrapperElement.querySelector(\n      '[slot=\"quill-toolbar\"]'\n    );\n    if (toolbarElem) {\n      modules[\"toolbar\"] = toolbarElem;\n      if (this.customToolbarPosition === \"bottom\") {\n        this.wrapperElement.prepend(this.editorElement);\n      } else {\n        this.wrapperElement.append(this.editorElement);\n      }\n    } else {\n      this.wrapperElement.append(this.editorElement);\n    }\n\n    Quill.register(\"modules/blotFormatter\", BlotFormatter);\n    modules[\"blotFormatter\"] = {};\n    modules[\"imageUploader\"] = {\n      upload: (file) => {\n        return new Promise(async (resolve, reject) => {\n          const popover = await RouterService.openPopover(\n            \"popover-media-loading\",\n            { file: file }\n          );\n          popover.onDidDismiss().then(async (ev) => {\n            if (ev && ev.data) {\n              console.log(\"ev.data\", ev.data);\n              const media = ev.data;\n\n              //save image to server\n              const popover = await RouterService.openPopover(\n                \"popover-media-uploader\",\n                {\n                  files: { [media.id]: media },\n                  itemId: this.immerseaLocation.id,\n                  collectionId: IMMERSEALOCATIONSCOLLECTION,\n                }\n              );\n              popover.onDidDismiss().then((ev) => {\n                if (ev && ev.data) {\n                  const urls = ev.data;\n                  //update urls into media\n                  Object.keys(urls).forEach((id) => {\n                    media.media.url = urls[id];\n                    this.immerseaLocation.media[media.media.id] = media.media;\n                    resolve(urls[id]);\n                  });\n                }\n              });\n            } else {\n              reject();\n            }\n          });\n        });\n      },\n    };\n    Quill.register(\"modules/imageUploader\", ImageUploader);\n\n    this.quillEditor = new Quill(this.editorElement, {\n      debug: this.debug,\n      modules: modules,\n      placeholder: this.placeholder,\n      readOnly: this.readOnly || false,\n      theme: this.theme || \"snow\",\n      formats: this.formats,\n      bounds: this.bounds\n        ? this.bounds === \"self\"\n          ? this.editorElement\n          : this.bounds\n        : document.body,\n      strict: this.strict,\n      scrollingContainer: this.scrollingContainer,\n    });\n\n    if (this.styles) {\n      const styles = JSON.parse(this.styles);\n      Object.keys(styles).forEach((key: string) => {\n        this.editorElement.style.setProperty(key, styles[key]);\n      });\n    }\n\n    if (this.content) {\n      this.setEditorContent(this.content);\n\n      this.quillEditor[\"history\"].clear();\n    }\n\n    this.editorChangeEvent = this.quillEditor.on(\n      \"editor-change\",\n      (\n        event: \"text-change\" | \"selection-change\",\n        current: any | Range | null,\n        old: any | Range | null,\n        source: string\n      ): void => {\n        // only emit changes emitted by user interactions\n\n        if (event === \"text-change\") {\n          const text = this.quillEditor.getText();\n          const content = this.quillEditor.getContents();\n\n          let html: string | null =\n            this.editorElement.querySelector(\".ql-editor\")!.innerHTML;\n          if (html === \"<p><br></p>\" || html === \"<div><br></div>\") {\n            html = null;\n          }\n\n          this.editorChange.emit({\n            content,\n            delta: current,\n            editor: this.quillEditor,\n            event,\n            html,\n            oldDelta: old,\n            source,\n            text,\n          });\n        } else {\n          this.editorChange.emit({\n            editor: this.quillEditor,\n            event,\n            oldRange: old,\n            range: current,\n            source,\n          });\n        }\n      }\n    );\n\n    this.selectionChangeEvent = this.quillEditor.on(\n      \"selection-change\",\n      (range: any, oldRange: any, source: string) => {\n        if (range === null) {\n          this.editorBlur.emit({\n            editor: this.quillEditor,\n            source,\n          });\n        } else if (oldRange === null) {\n          this.editorFocus.emit({\n            editor: this.quillEditor,\n            source,\n          });\n        }\n\n        this.editorSelectionChange.emit({\n          editor: this.quillEditor,\n          range,\n          oldRange,\n          source,\n        });\n      }\n    );\n\n    this.textChangeEvent = this.quillEditor.on(\n      \"text-change\",\n      (delta: any, oldDelta: any, source: string) => {\n        const text = this.quillEditor.getText();\n        const content = this.quillEditor.getContents();\n\n        let html: string | null =\n          this.editorElement.querySelector(\".ql-editor\").innerHTML;\n        if (html === \"<p><br></p>\" || html === \"<div><br></div>\") {\n          html = null;\n        }\n\n        this.editorContentChange.emit({\n          editor: this.quillEditor,\n          content,\n          delta,\n          html,\n          oldDelta,\n          source,\n          text,\n        });\n      }\n    );\n\n    setTimeout(() => {\n      this.editorInit.emit(this.quillEditor);\n    });\n  }\n\n  disconnectedCallback() {\n    if (this.selectionChangeEvent) {\n      this.selectionChangeEvent.removeListener(\"selection-change\");\n    }\n    if (this.textChangeEvent) {\n      this.textChangeEvent.removeListener(\"text-change\");\n    }\n    if (this.editorChangeEvent) {\n      this.editorChangeEvent.removeListener(\"editor-change\");\n    }\n  }\n\n  @Watch(\"content\")\n  updateContent(newValue: any): void {\n    if (!this.quillEditor) {\n      return;\n    }\n    const editorContents = this.getEditorContent();\n\n    if (\n      [\"text\", \"html\", \"json\"].indexOf(this.format) > -1 &&\n      newValue === editorContents\n    ) {\n      return null;\n    } else {\n      let changed = false;\n      try {\n        const newContentString = JSON.stringify(newValue);\n        changed = JSON.stringify(editorContents) !== newContentString;\n      } catch {\n        return null;\n      }\n\n      if (!changed) {\n        return null;\n      }\n    }\n    this.setEditorContent(newValue);\n  }\n\n  @Watch(\"readOnly\")\n  updateReadOnly(newValue: boolean, oldValue: boolean): void {\n    if (!this.quillEditor) {\n      return;\n    }\n    if (newValue !== oldValue) {\n      this.quillEditor.enable(!newValue);\n    }\n  }\n\n  @Watch(\"placeholder\")\n  updatePlaceholder(newValue: string, oldValue: string): void {\n    if (!this.quillEditor) {\n      return;\n    }\n    if (newValue !== oldValue) {\n      this.quillEditor.root.dataset.placeholder = newValue;\n    }\n  }\n\n  @Watch(\"styles\")\n  updateStyle(newValue: string, oldValue: string): void {\n    if (!this.editorElement) {\n      return;\n    }\n\n    if (oldValue) {\n      const old = JSON.parse(oldValue);\n      Object.keys(old).forEach((key: string) => {\n        this.editorElement.style.setProperty(key, \"\");\n      });\n    }\n    if (newValue) {\n      const value = JSON.parse(newValue);\n      Object.keys(value).forEach((key: string) => {\n        this.editorElement.style.setProperty(key, value[key]);\n      });\n    }\n  }\n\n  render() {\n    <Host>\n      <slot name='quill-toolbar' quill-toolbar='' />\n    </Host>;\n  }\n}\n",".ql-container.quill-view {\n  border: 0;\n}\n","import {\n  h,\n  Component,\n  ComponentDidLoad,\n  Element,\n  Prop,\n  Watch,\n} from \"@stencil/core\";\nimport Quill from \"quill/dist/quill.js\";\n\n@Component({\n  tag: \"quill-view\",\n  scoped: true,\n  shadow: false,\n  styleUrl: \"./quill-view.css\",\n})\nexport class QuillViewComponent implements ComponentDidLoad {\n  @Element() wrapperElement: HTMLElement;\n\n  @Prop() format: \"html\" | \"text\" | \"json\" = \"html\";\n  @Prop() content: string;\n  @Prop() debug: string = \"warn\";\n  @Prop() formats: string[];\n  @Prop() modules?: string;\n  @Prop() strict: boolean = true;\n  @Prop() styles: string = \"{}\";\n  @Prop() theme: string = \"snow\";\n  @Prop() preserveWhitespace: boolean = false;\n\n  quillEditor: any;\n  editorElement: HTMLDivElement | HTMLPreElement;\n\n  setEditorContent(value: any) {\n    if (this.format === \"html\") {\n      const contents = this.quillEditor.clipboard.convert(value);\n      this.quillEditor.setContents(contents, \"api\");\n    } else if (this.format === \"text\") {\n      this.quillEditor.setText(value, \"api\");\n    } else if (this.format === \"json\") {\n      try {\n        this.quillEditor.setContents(JSON.parse(value), \"api\");\n      } catch (e) {\n        this.quillEditor.setText(value, \"api\");\n      }\n    } else {\n      this.quillEditor.setText(value, \"api\");\n    }\n  }\n\n  getEditorContent() {\n    const text = this.quillEditor.getText();\n    const content = this.quillEditor.getContents();\n\n    let html: string | null = this.editorElement.children[0].innerHTML;\n    if (html === \"<p><br></p>\" || html === \"<div><br></div>\") {\n      html = \"\";\n    }\n\n    if (this.format === \"html\") {\n      return html;\n    } else if (this.format === \"text\") {\n      return text;\n    } else if (this.format === \"json\") {\n      try {\n        return JSON.stringify(content);\n      } catch (e) {\n        return text;\n      }\n    } else {\n      return text;\n    }\n  }\n\n  componentDidLoad() {\n    let modules: any = this.modules\n      ? JSON.parse(this.modules)\n      : {\n          toolbar: false,\n        };\n\n    if (modules.toolbar) {\n      modules.toolbar = false;\n    }\n\n    this.quillEditor = new Quill(this.editorElement, {\n      debug: this.debug,\n      modules: modules,\n      readOnly: true,\n      theme: this.theme || \"snow\",\n      formats: this.formats,\n      strict: this.strict,\n    });\n\n    if (this.styles) {\n      const styles = JSON.parse(this.styles);\n      Object.keys(styles).forEach((key: string) => {\n        this.editorElement.style.setProperty(key, styles[key]);\n      });\n    }\n\n    this.editorElement.classList.add(\"quill-view\");\n\n    if (this.content) {\n      this.setEditorContent(this.content);\n\n      this.quillEditor[\"history\"].clear();\n    }\n  }\n\n  @Watch(\"styles\")\n  updateStyle(newValue: string, oldValue: string): void {\n    if (!this.editorElement) {\n      return;\n    }\n\n    if (oldValue) {\n      const old = JSON.parse(oldValue);\n      Object.keys(old).forEach((key: string) => {\n        this.editorElement.style.setProperty(key, \"\");\n      });\n    }\n    if (newValue) {\n      const value = JSON.parse(newValue);\n      Object.keys(value).forEach((key: string) => {\n        this.editorElement.style.setProperty(key, value[key]);\n      });\n    }\n  }\n\n  @Watch(\"content\")\n  updateContent(newValue: any): void {\n    const editorContents = this.getEditorContent();\n\n    if (\n      [\"text\", \"html\", \"json\"].indexOf(this.format) > -1 &&\n      newValue === editorContents\n    ) {\n      return null;\n    } else {\n      let changed = false;\n      try {\n        const newContentString = JSON.stringify(newValue);\n        changed = JSON.stringify(editorContents) !== newContentString;\n      } catch {\n        return null;\n      }\n\n      if (!changed) {\n        return null;\n      }\n    }\n\n    this.setEditorContent(newValue);\n  }\n\n  render() {\n    return this.preserveWhitespace ? (\n      <pre\n        quill-element\n        ref={(el: HTMLPreElement) => (this.editorElement = el)}\n      ></pre>\n    ) : (\n      <div\n        quill-element\n        ref={(el: HTMLDivElement) => (this.editorElement = el)}\n      ></div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}