import{r as e,h as a,H as s,f as t}from"./p-cbe60c68.js";import{o as i,X as c}from"./p-c24c8a77.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const o="popover-search-user{}popover-search-user ion-list{min-height:300px}";const r=o;const n=class{constructor(a){e(this,a);this.showList=[];this.searching=false;this.noResult=false}componentWillLoad(){this.popover=this.el.closest("ion-popover")}async searchUsers(e){this.noResult=false;this.showList=[];this.searching=true;const a=e.target.value.toLowerCase();const s=await i.queryCollection(c,["email"],["="],[a]);s.forEach((e=>{this.showList.push(e.data())}));if(this.showList.length==0){this.noResult=true}else{this.noResult=false}this.searching=false}addUser(e){this.popover.dismiss(e.uid)}render(){return a(s,{key:"4b173e3d904dfd34b25cbb59926666877ca7ea7b"},a("ion-header",{key:"5482930bee621a3ceda4dfbea7cc9abc7944590c",translucent:true},a("ion-toolbar",{key:"65bb9ae8da85ad52da968cebef1baafb1421cc59"},a("ion-title",{key:"e3e988f98fc5b790c1d8a1b505da4703f63939af"},a("my-transl",{key:"d46e87ba804056bc8267fbec2b22baf4cf7932d3",tag:"search",text:"Search"}))),a("ion-toolbar",{key:"ea7007006aaa66c9cf20df024cbd403b6be39c4d"},a("ion-searchbar",{key:"0af8a745e8fc2ce29d6717615025c2b2d923eb1a",onIonBlur:e=>this.searchUsers(e),inputmode:"email",type:"email",placeholder:"email"}))),a("ion-content",{key:"eca6c36ec12b6ac7783905634b1274b0c0c1041c"},a("ion-list",{key:"566d5a0254a3a48070141f6653d9960ad4c47b55"},this.showList.map((e=>a("ion-item",{button:true,onClick:()=>this.addUser(e)},e.photoURL?a("ion-avatar",{slot:"start"},a("ion-img",{src:e.photoURL})):undefined,a("ion-label",null,e.displayName)))),this.searching?a("app-skeletons",{skeleton:"chat"}):undefined,this.noResult?a("ion-item",null,a("ion-label",null,"No Users found!")):undefined)))}get el(){return t(this)}};n.style=r;export{n as popover_search_user};