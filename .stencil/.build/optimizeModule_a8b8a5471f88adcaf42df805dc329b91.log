import{r as e,h as a,f as t}from"./p-cbe60c68.js";import{S as i}from"./p-a75993af.js";import{T as o,S as c,J as s,F as n,ay as f,R as d}from"./p-30358c9d.js";import{T as l}from"./p-87afedc7.js";import{E as r}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const b="page-contact-details{}";const p=b;const m=class{constructor(a){e(this,a);this.itemId=undefined;this.contact=undefined;this.segment="information";this.slider=undefined}async componentWillLoad(){await this.loadContact();this.segmentTitles={information:o.getTransl("information","Information")}}async loadContact(){await c.presentLoading("loading");try{this.contact=await s.getContact(this.itemId)}catch(e){}c.dismissLoading()}async componentDidLoad(){this.slider=new i(".slider-contact",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}async editContact(){const e=await s.presentContactUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadContact()))}segmentChanged(e){if(e.detail.value){this.segment=e.detail.value;this.slider.update();switch(this.segment){case"information":this.slider.slideTo(0);break}}}updateSlider(){setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}render(){return[this.contact.coverURL||this.contact.photoURL?a("ion-header",null,a("app-item-cover",{item:this.contact})):undefined,a("ion-header",{key:"9bc44f9e8274d98041f8f8f0163ab500160c3df4"},a("app-navbar",{key:"067e4a52d03f7cf700c40c560f455ba1c74350c0",text:this.contact.lastName+" "+this.contact.firstName,color:"trasteel",backButton:this.contact&&!this.contact.coverURL&&!this.contact.photoURL,rightButtonText:l.isCustomerDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editContact()})),a("ion-header",{key:"aadbc780dd3f5710b1db73c47624eb627e0ab8b5"},a("ion-toolbar",{key:"dfeda9357082f834afae3cbafefd7d7c46123698"},a("ion-segment",{key:"95753b4b04daeab072f5223ab27b5adb266fb5d1",mode:"md",color:r.getAppColor(),scrollable:true,onIonChange:e=>this.segmentChanged(e),value:this.segment},a("ion-segment-button",{key:"43cb8ec19c4d22494c6575b2af2a4ea9a2c68ccc",value:"information",layout:"icon-start"},a("ion-label",{key:"14b31bf0007bcc9cb01673aaff06ddf49c5b6882"},this.segmentTitles.information))))),a("ion-content",{key:"610949586b36f0061972aa3dc3374399d9772f98",class:"slides"},a("ion-fab",{key:"e453ec9f935f54f547eec695168ccab304d9af89",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:f(2)}},a("ion-fab-button",{key:"f01273ef20779277c0de25d470f355bbf9144f73",onClick:()=>d.goBack(),class:"fab-icon"},a("ion-icon",{key:"7a526dc1f83894270c5a13e1e0c150f41d5112d2",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"ee01fb324200f09c0637e5a41a3b5923c68084f3",class:"slider-contact swiper"},a("swiper-wrapper",{key:"f7ad0ec4922d6e12cec9ceb06e8a8dd5803fc2ea",class:"swiper-wrapper"},a("swiper-slide",{key:"974ffb40e7cbf3cda4acc3b076f6603344bdea5d",class:"swiper-slide"},a("ion-list",{key:"599c377cd6d217ba4fa5c07524c822f1e158cbdd",class:"ion-no-padding"},a("ion-list-header",{key:"628c84049cded04c4d8f58dab88ca217088dc12c"},a("my-transl",{key:"6e4df6b939ccb89823ceada38a7949963cc92fe3",tag:"general-information",text:"General Information",isLabel:true})),a("app-item-detail",{key:"ae968740361235c785db1feb25cca785fad4254d",lines:"none",labelTag:"customer",labelText:"Customer",detailText:this.contact.customerId&&n.getCustomersDetails(this.contact.customerId)?n.getCustomersDetails(this.contact.customerId).fullName:null}),a("app-item-detail",{key:"9add716df91230f92910eb908426cbefaf612806",lines:"none",labelTag:"location",labelText:"Location",detailText:this.contact.customerLocationId&&n.getLocationsTypes(this.contact.customerLocationId)?n.getLocationsTypes(this.contact.customerLocationId)[0].locationName:null}),a("app-form-item",{key:"af238e930591fabcef20dc1d3cf421c23b205dc0","label-tag":"name","label-text":"Name",value:this.contact.firstName,"read-only":true}),a("app-form-item",{key:"d4d6f9eeff42b4f13243f6feefe99b07f4a754ec","label-tag":"surname","label-text":"Surname",value:this.contact.lastName,"read-only":true}),a("app-form-item",{key:"89b1533e35ffb3d68798d6086888b1e540ade122","label-tag":"work-position","label-text":"Work Position",value:this.contact.workPosition,"read-only":true}),a("app-form-item",{key:"00bd1e62659fb30c006c2abd0033887457a4d79b","label-tag":"office-phone","label-text":"Office Phone",value:this.contact.officePhone,"read-only":true}),a("app-form-item",{key:"85e53364cd783c7fc7bf47573293472a49e20bda","label-tag":"mobile-phone","label-text":"Mobile Phone",value:this.contact.mobilePhone,"read-only":true}),a("app-form-item",{key:"e6e6fea9fa476084e09db4168df32f2a1e1fca17","label-tag":"email","label-text":"Email",value:this.contact.email,"read-only":true}))))))]}get el(){return t(this)}};m.style=p;export{m as page_contact_details};