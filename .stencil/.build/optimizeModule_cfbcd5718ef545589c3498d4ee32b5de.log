import{r as t,h as e}from"./p-cbe60c68.js";import{aB as i,aC as a,T as o,aa as s,R as n}from"./p-736235c6.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const d="page-chat{}";const c=d;const f=class{constructor(e){t(this,e);this.chatId=undefined;this.participants=undefined;this.chat=undefined;this.title=undefined;this.subtitle=undefined;this.additionalDataItem=undefined}componentWillLoad(){this.chatSub=i.loadedChat$.subscribe((t=>{if(t&&t.participants){this.chat=t;this.participants=Object.keys(t.participants).length;Object.keys(this.chat.participants).map((t=>{}));if(this.chat.name&&this.chat.name.length>0){this.title=this.chat.name;this.subtitle=i.getOtherChatParticipants("names",this.chat)}else{this.title=i.getOtherChatParticipants("names",this.chat);this.subtitle=null}if(this.chat.additionalData){this.loadAdditionalDataItem()}}}))}componentDidLoad(){this.chatApp=document.getElementsByTagName("app-chat")[0]}disconnectedCallback(){this.chatSub.unsubscribe()}async loadAdditionalDataItem(){if(this.chat.additionalData.collectionId===a){this.additionalDataItem={title:o.getTransl("dive-trip","Dive Trip"),onclick:s.pushDiveTrip}}}showAdditionalDataItem(){}addParticipant(t){this.chatApp.addParticipants(t)}render(){return[e("ion-header",{key:"bca3f2034135ae14261feabf01a55e4b8824c679"},e("ion-toolbar",{key:"15bec33b0bab78cd50743a32767f83fd319a123b",color:"chat"},e("ion-buttons",{key:"4bec3e1f418b325bc9393b2a3e4b4ade5a0ba13f",slot:"start"},e("ion-button",{key:"8fbf57f423c4c181da7c21a510308d6f2a11a9d3",onClick:()=>n.goBack(),"icon-only":true},e("ion-icon",{key:"cd79cd0de9b5553ae2611e24e620a9a3911d6525",name:"arrow-back"}))),e("ion-title",{key:"c9a40fd33f5a79825814624ca22aeaedf8437980"},this.title),this.subtitle?e("ion-title",{size:"small"},this.subtitle):undefined,e("ion-buttons",{key:"bba3ce0c6b5168da5938d884613fa5a29b587d91",slot:"end"},this.additionalDataItem?e("ion-button",{fill:"outline",onClick:()=>this.additionalDataItem.onclick(this.chat.additionalData.id)},this.additionalDataItem.title,e("ion-icon",{name:"open-outline",slot:"start"})):undefined,e("ion-button",{key:"e8dd8beb1484d8519024e2d70de14ee49edea771","icon-only":true,slot:"end",onClick:t=>this.addParticipant(t)},e("ion-icon",{key:"418004536cd3cdd2f1524189cf55d6bac809d5cf",name:"people-outline"}),this.participants?e("ion-badge",{color:"secondary"},this.participants):undefined)))),e("ion-content",{key:"341f6745e221c6aa858e2bf00dbd4db36dad7f91"},e("app-chat",{key:"37c19851d750a32e761c1ceb1b7901395c8bf4a9",chatId:this.chatId}))]}};f.style=c;export{f as page_chat};