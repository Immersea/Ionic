import{r as t,h as i}from"./p-cbe60c68.js";import{aB as e,aC as a,T as o,aa as s,R as n}from"./p-30358c9d.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-a9f4af61.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const d="page-chat{}";const c=d;const f=class{constructor(i){t(this,i);this.chatId=undefined;this.participants=undefined;this.chat=undefined;this.title=undefined;this.subtitle=undefined;this.additionalDataItem=undefined}componentWillLoad(){this.chatSub=e.loadedChat$.subscribe((t=>{if(t&&t.participants){this.chat=t;this.participants=Object.keys(t.participants).length;Object.keys(this.chat.participants).map((t=>{}));if(this.chat.name&&this.chat.name.length>0){this.title=this.chat.name;this.subtitle=e.getOtherChatParticipants("names",this.chat)}else{this.title=e.getOtherChatParticipants("names",this.chat);this.subtitle=null}if(this.chat.additionalData){this.loadAdditionalDataItem()}}}))}componentDidLoad(){this.chatApp=document.getElementsByTagName("app-chat")[0]}disconnectedCallback(){this.chatSub.unsubscribe()}async loadAdditionalDataItem(){if(this.chat.additionalData.collectionId===a){this.additionalDataItem={title:o.getTransl("dive-trip","Dive Trip"),onclick:s.pushDiveTrip}}}showAdditionalDataItem(){}addParticipant(t){this.chatApp.addParticipants(t)}render(){return[i("ion-header",{key:"df9aab4f26224fe725dc83d30c96d5f34788d719"},i("ion-toolbar",{key:"46f7d6aa1a98409a2fe9280661c84e6ad4250012",color:"chat"},i("ion-buttons",{key:"29ec4edd90a3882420093cc7722b6da0e7e84651",slot:"start"},i("ion-button",{key:"7caafce5b47b62ed194c4df3a4aab10ff3c653db",onClick:()=>n.goBack(),"icon-only":true},i("ion-icon",{key:"fc236cd7adbbc5d121f2f0da7088193eb52db66b",name:"arrow-back"}))),i("ion-title",{key:"10affc3b659c3830620c11a850d4eabc0424a696"},this.title),this.subtitle?i("ion-title",{size:"small"},this.subtitle):undefined,i("ion-buttons",{key:"accbb72066fa3e8a7d8975cb7e48aea36494209a",slot:"end"},this.additionalDataItem?i("ion-button",{fill:"outline",onClick:()=>this.additionalDataItem.onclick(this.chat.additionalData.id)},this.additionalDataItem.title,i("ion-icon",{name:"open-outline",slot:"start"})):undefined,i("ion-button",{key:"ed12f3b6ef47e958621527031bef9f8bc67d0292","icon-only":true,slot:"end",onClick:t=>this.addParticipant(t)},i("ion-icon",{key:"631f7e8aa5e6166cb36f7b1bff0dd0a0e397d6cc",name:"people-outline"}),this.participants?i("ion-badge",{color:"secondary"},this.participants):undefined)))),i("ion-content",{key:"8d4e1ddca6d391065a81029f5689daab5e076d81"},i("app-chat",{key:"29cfb609c7ed2b231bd5fa2eaf7b0327caf73392",chatId:this.chatId}))]}};f.style=c;export{f as page_chat};