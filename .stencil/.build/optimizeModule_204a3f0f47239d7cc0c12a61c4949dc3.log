import{r as e,e as t,h as i}from"./p-cbe60c68.js";import{z as a,aE as n,T as s}from"./p-736235c6.js";import"./p-c7ee7cfe.js";import{b as o}from"./p-5d4a8e1f.js";import{E as c}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-7ee16e8d.js";import"./p-694b8ade.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const d="app-dive-plan-card{width:100%;height:100%}";const r=d;const l=class{constructor(i){e(this,i);this.viewEmit=t(this,"viewEmit",7);this.removeEmit=t(this,"removeEmit",7);this.divePlan=undefined;this.edit=false}componentWillLoad(){this.diveSite=a.diveSitesList.find((e=>e.id===this.divePlan.dives[0].diveSiteId))}async viewDivePlan(e){e.stopPropagation();const t=await n.presentDiveTemplateUpdate(this.divePlan);if(t){this.viewEmit.emit(t)}}async removeDivePlan(e){e.stopPropagation();const t=await o.create({header:s.getTransl("delete-dive-header","Delete dive?"),message:s.getTransl("delete-dive-message","This dive plan will be deleted! Are you sure?"),buttons:[{text:s.getTransl("cancel","Cancel"),role:"cancel",handler:()=>{}},{text:s.getTransl("ok","OK"),handler:()=>{this.removeEmit.emit()}}]});t.present()}render(){return i("ion-card",{key:"7a4efa7f7fb1013cfcb7778f543f4901f1176908",onClick:e=>this.edit?this.viewDivePlan(e):undefined},this.diveSite?i("app-item-cover",{item:this.diveSite}):undefined,i("ion-card-header",{key:"e575db14613bacd376ac415c7793d9ae70850c31"},i("ion-item",{key:"c8c508ce54da9da0bc567b829d7bba4f6b09b446",class:"ion-no-padding",lines:"none"},this.edit?i("ion-button",{"icon-only":true,slot:"end",color:"danger",fill:"clear",onClick:e=>this.removeDivePlan(e)},i("ion-icon",{name:"trash-bin-outline"})):undefined,i("ion-card-title",{key:"c21bb47731675335df6acae9e90fefb0632c3a12"},this.divePlan.configuration.stdName)),i("ion-card-subtitle",{key:"94200bdcdc33d6690af11473a13e14dccf162a76"},this.divePlan.dives[0].getProfilePointsDetails().map((e=>i("p",{class:"ion-text-start"},e))))),i("ion-card-content",{key:"afee5ce82a3d1acab7abd887beeb0f3d8df7ba47"},this.divePlan.configuration.configuration.bottom.length>0?i("p",null,i("my-transl",{tag:"bottom-tanks",text:"Bottom Tanks"}),":"):undefined,this.divePlan.configuration.configuration.bottom.map((e=>i("p",null,e.name+"->"+e.gas.toString()))),this.divePlan.configuration.configuration.deco.length>0?i("p",null,i("my-transl",{tag:"deco-tanks",text:"Deco Tanks"}),":"):undefined,this.divePlan.configuration.configuration.deco.map((e=>i("p",null,e.name+"->"+e.gas.toString())))),!this.edit?i("ion-button",{expand:"full",color:c.isDecoplanner()?"gue-blue":"planner",onClick:()=>n.createNewDivePlan(this.divePlan)},i("my-transl",{tag:"plan-dive",text:"Plan a Dive"})):undefined)}};l.style=r;export{l as app_dive_plan_card};