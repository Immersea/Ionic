import{r as e,h as a,f as d}from"./p-cbe60c68.js";import{z as c,aa as i,B as t,h as b,b as f,U as s,a3 as o,R as n,ay as r}from"./p-736235c6.js";import{S as l}from"./p-a75993af.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const y="page-dive-site-details{}";const p=y;const k=class{constructor(a){e(this,a);this.markers=[];this.siteid=undefined;this.diveSite=undefined;this.diveTrips=undefined;this.divingCenters=undefined;this.titles=[{tag:"map"},{tag:"information"},{tag:"dive-profiles"},{tag:"diving-centers"},{tag:"next-trips",text:"Next Dive Trips"}];this.segment=0;this.slider=undefined}async componentWillLoad(){this.diveSite=await c.getDiveSite(this.siteid);this.diveTrips=await i.getTripsSummary(t,this.siteid);this.divingCenters=c.loadSiteDivingCenters(this.diveSite);let e=b.getMapDocs()[t].icon;e.size="large";let a=b.getMapDocs()[f].icon;a.size="small";this.markers.push({icon:e,latitude:this.diveSite.position.geopoint.latitude,longitude:this.diveSite.position.geopoint.longitude});this.divingCenters.siteDivingCenters.forEach((e=>{this.markers.push({name:e.displayName,icon:a,latitude:e.position.geopoint.latitude,longitude:e.position.geopoint.longitude})}));this.userRoles=s.userRoles}async componentDidLoad(){this.slider=new l(".slider-dive-site",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});await customElements.whenDefined("app-map");this.mapElement=this.el.querySelector("#map");const e=this.el.querySelector("#map-container");e.setAttribute("style","height: "+o(this.diveSite)+"px");this.mapElement["mapLoaded"]().then((()=>{this.mapElement.triggerMapResize();this.setLinesForDiveSite()}));this.setLinesForDiveSite();this.mapElement.triggerMapResize();if(c.showNewDivePlans){this.segment=2}else{this.segment=0}}setLinesForDiveSite(){this.mapElement.triggerMapResize();const e=[this.diveSite];this.divingCenters.siteDivingCenters.forEach((async a=>{e.push(a);this.mapElement["createLine"](a.id,this.diveSite,a)}));this.mapElement["fitToBounds"](e)}render(){return[a("ion-header",{key:"fc5076d8afc7eab19626d7fad2613fd743d406a9"},a("app-item-cover",{key:"657eabfde006bdce179a217fc8bb6641d7b047ea",item:this.diveSite})),a("ion-header",{key:"90caed2c5d2e93c37c5a11af8761438b96711984"},a("ion-toolbar",{key:"ae51fb64525ef078237ad50ac63117b4ae1916a9",color:"divesite",class:"no-safe-padding"},this.diveSite&&!this.diveSite.coverURL?a("ion-buttons",{slot:"start"},a("ion-button",{onClick:()=>n.goBack(),"icon-only":true},a("ion-icon",{name:"arrow-back"}))):undefined,a("ion-title",{key:"19645d4f75bcdc362836040acdfc806d71b40ca2"},this.diveSite.displayName))),a("app-header-segment-toolbar",{key:"bef2f713e3c31d7772feb3c4d1fb23d6b3611fe4",color:"divesite",swiper:this.slider,titles:this.titles}),a("ion-content",{key:"66a538662e8afec5c833291d828f7a6dbce4f723",class:"slides"},a("ion-fab",{key:"3b69684ebdca24ec6cd1f6017de196733d5ab334",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:r(2)}},a("ion-fab-button",{key:"d6cfbec09f6384deb6c21ef311c1b08faf204336",onClick:()=>n.goBack(),class:"fab-icon"},a("ion-icon",{key:"3886253550f2c88975a5a9a420efc2b5d1517f82",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"e27696f1f7c9b4648bf395d3636802d2c0232eec",class:"slider-dive-site swiper"},a("swiper-wrapper",{key:"a589dd367029824a7dbfcc82c7436820886d973a",class:"swiper-wrapper"},a("swiper-slide",{key:"28339173c6183e5962ff58b730d58980791145c8",class:"swiper-slide"},a("ion-list",{key:"b66f23a3dce19ca0063387d1a529dd9da925a5d2",class:"ion-no-padding"},a("ion-list-header",{key:"101a203b1be6854708d630c5317008e176b75ed8"},a("ion-label",{key:"84b974fce0fd6a8a8ce27e35e67c223d5753b8ec",color:"divesite"},a("my-transl",{key:"26186965a44a0779acb4885d5f9534c05be195df",tag:"general-information",text:"General Information"}))),a("ion-item",{key:"85a12f42d237e46275da48dbfe4a91dea32dae04"},a("ion-label",{key:"37acc4eaafc8060f88ecdb60f2c11dacb09e3f5a",class:"ion-text-wrap"},a("ion-text",{key:"2adae9e5a8812155d697bb0aabf4273465bdbd6c",color:"divesite"},a("h3",{key:"e680cb7879caac1db23d6dccb9162a0b0f4ee420"},a("my-transl",{key:"739189b524d1b70c719ebe9c7870754951566992",tag:"site-type",text:"Site Type"}))),a("ion-text",{key:"7d21d0e5144bb8a916efaa59f25f9c61227537cd",color:"dark"},a("p",{key:"460994cb2c7c84e9beeea7d8cb54964232a271bf"},c.getSiteTypeName(this.diveSite.type))))),a("ion-item",{key:"35430f237a8cd3dfa3d04b0719789b413d7c7841"},a("ion-label",{key:"091dc06e80756d28fddd2d8df686695e8d37e3d5",class:"ion-text-wrap"},a("ion-text",{key:"bc8e4355b3c25cb7ce7fb6409fb6b0f7cb59edba",color:"dark"},a("p",{key:"47d55937c008136877a5408ca74af05570223685"},this.diveSite.description)))),a("ion-list-header",{key:"bbcb2943262ecf1c95be5670b52b05e3c8daa9d6"},a("ion-label",{key:"8e1d1adde73f07f01bddc42546d0b127441208e4",color:"divesite"},a("my-transl",{key:"87b7edb56d8308b792be632dc72df113c3a7f6d7",tag:"site-details",text:"Site Details"}))),a("ion-item",{key:"99873a4d25adca236a305753c4551848ca45c546"},a("ion-label",{key:"c89ae3859a2ebe6998c33318222e41b23c388fcc",class:"ion-text-wrap"},a("ion-text",{key:"374f9c2d078acac8224de83c40e2c528259f71b3",color:"divesite"},a("h3",{key:"03a144d14b40b447f70d9e1a3781d6573329c433"},a("my-transl",{key:"891d13d220bd54510c3b9ad260449b677d96dcbb",tag:"entry-type",text:"Entry Type"}))),a("ion-text",{key:"13417edda7759df154d613b9b4e64202b9c4ea70",color:"dark"},a("p",{key:"8e655930e46a3105bbe926b993e58fcccf9bebf3"},c.getEntryTypeName(this.diveSite.information.entryType))))),a("ion-grid",{key:"b09227bf001878b0998a304061f33d0f9a6f3a10",class:"ion-no-padding"},a("ion-row",{key:"032ca7e90d1e85961009add05715463e74b11269"},a("ion-col",{key:"fd9f4bd904ada092d22aa1a16878714bff60c5a6"},a("ion-item",{key:"7f58eedad775e41ff8af9b3ee2a78477e0997d79"},a("ion-label",{key:"7d2a84373e6caddd95594a2c5e167916adb0b77d",class:"ion-text-wrap"},a("ion-text",{key:"140122fffd0044bff22136d2c8b2c1b37ffb951a",color:"divesite"},a("h3",{key:"41533f73567addf7c34ede3724349b02770af904"},a("my-transl",{key:"accd7264eb34565af06e099b830d4026742218ad",tag:"min-depth",text:"Min. Depth"}))),a("ion-text",{key:"a9f5d89d33fae2220e5d89a1394ccd5638e1540e",color:"dark"},a("p",{key:"271e30a71def05746c1015f6d30e306a607159dc"},this.diveSite.information.minDepth," m"))))),a("ion-col",{key:"da22f9ea4ea03b5129b3db30abccb59bed8569ee"},a("ion-item",{key:"941d524b212a324eb12a0407dd439a4aa2b6c9a3"},a("ion-label",{key:"83a051388a732957e802da0f5f431494ed5916b4",class:"ion-text-wrap"},a("ion-text",{key:"7dc551a13122ff57643b247ac7d75c0225841cbe",color:"dark"},a("ion-text",{key:"8feb134f2fd4151bd3766c3abff063a07cfc2bc4",color:"divesite"},a("h3",{key:"02fc547f1ec92e6fd3831fe50a43e27e507ec47f"},a("my-transl",{key:"b6da4dc4619b864ef260b23591dc4563c9768ad6",tag:"max-depth",text:"Max. Depth"}))),a("p",{key:"a7a98e1760953bff808d40f28cf82422c1c4f1a7"},this.diveSite.information.maxDepth," m"))))))),a("ion-item",{key:"d09139cdffa6456792695addd306c831d69cb9a5"},a("ion-label",{key:"552e1f4bfff692fb0aa9e72a0e44604297813989",class:"ion-text-wrap"},a("ion-text",{key:"ba7dc4b09dfa5ae32325ff34f81225cf03263cef",color:"divesite"},a("h3",{key:"526a920fe22edb48034c0aa8fe8df6224f1cbb3e"},a("my-transl",{key:"24859ee6d3e5f323197214221d0e724ced873684",tag:"avg-vis",text:"Average Visibility"}))),a("ion-text",{key:"5c407ae2d9c43d932497be9288604c21e04994b1",color:"dark"},a("p",{key:"62629fada87454530f81aaceff828d229c5cf803"},this.diveSite.information.avgViz," m")))),a("ion-list-header",{key:"8c0bb2e37c2d22dafbd96acb3d1a4c86b35907ed"},a("ion-label",{key:"d99b82c3c5203080b5194442f7f4047cb1fd606e",color:"divesite"},a("my-transl",{key:"7fd4a0509814771016d9fdf43a8e3ba7f11a724c",tag:"water-temp",text:"Water Temperature"}))),a("ion-grid",{key:"66447531bb9924aca2a0fffad9d1703653c7349a",class:"ion-no-padding"},a("ion-row",{key:"a556e4c95dafb1ef51d95944e048b80b2140db73"},a("ion-col",{key:"8f874dec58237e4619c6f9224fbe648c4446503f"},a("ion-item",{key:"3180ab677610799204976e1814b466eae0e20337"},a("ion-label",{key:"7d85936c88a90214b5a2fdbc79c3d4b99e4ddad9",class:"ion-text-wrap"},a("ion-text",{key:"565798eecee5a50603bb10ccfb28c4c7940e26ac",color:"divesite"},a("h3",{key:"c8c4743646c1a1fa94a6299a32dc95ed29b4c3f2"},a("my-transl",{key:"77bc85d301c41979db855407becb8681fb0076fa",tag:"spring",text:"Spring"}))),a("ion-text",{key:"ba8867d28ebab1d5911060ca947abaf895dcad8c",color:"dark"},a("p",{key:"96a2d5664a1fb3c1ef07533158cc6b17817e35f8"},this.diveSite.information.waterTemp.spring," °C"))))),a("ion-col",{key:"02a73ccf1ce30946dbc0b408f9a8d03f1d3096c4"},a("ion-item",{key:"1c3f0de5ff7a56283cfb9f70c952784eafac7350"},a("ion-label",{key:"f0327f7bee110167a5335fb9bb2aeed0178c5e2f",class:"ion-text-wrap"},a("ion-text",{key:"33e4fb3f097ed2a29ee5030e60f1d2c9bc8f8bc5",color:"divesite"},a("h3",{key:"1b4510f4942bafa2737d28a16f1f581f9bf6f214"},a("my-transl",{key:"072ca4be39b51e0ae289d8208b6849464e5d40f0",tag:"summer",text:"Summer"}))),a("ion-text",{key:"373a0f24e00421fab8100a246ab085906afe4542",color:"dark"},a("p",{key:"1b598ffaf18b0ffddbe10d3194637ad2b7f481e3"},this.diveSite.information.waterTemp.summer," °C")))))),a("ion-row",{key:"8d512b91cca679b7c1948a2fa69cb98659362072"},a("ion-col",{key:"53d5f9aae61c2a62578cab5973afbec0aaf7be5e"},a("ion-item",{key:"d0d4d5ef94d96bde9a9fb458a466dca01b193cf2"},a("ion-label",{key:"c7416d673d499e91462351defa5172af492db11b",class:"ion-text-wrap"},a("ion-text",{key:"c131981cf5046fe1fa669887b5c6a4cb898ea776",color:"divesite"},a("h3",{key:"d7130eda2379b1eb685a74b489c46c4695c336d2"},a("my-transl",{key:"e7ef47c6bbfadd6081610a08711a7d25d0c525da",tag:"autumn",text:"Autumn"}))),a("ion-text",{key:"33bba99e85e3cd4204874c426b0d109ee40b2b4f",color:"dark"},a("p",{key:"039449b16516062ad6d5df163356b8be26d6eeb3"},this.diveSite.information.waterTemp.autumn," °C"))))),a("ion-col",{key:"64f68d0eec89dd1bc3c243d870fafb02a4f4ca61"},a("ion-item",{key:"fd7f0d8d73924ff7cd6919346f91f8c13f20e477"},a("ion-label",{key:"7efc6a2e8ade0a69c41bf19a02c8f4e78881f843",class:"ion-text-wrap"},a("ion-text",{key:"4a271549c5629e42c87ec064b7451db69ab52e77",color:"divesite"},a("h3",{key:"0947e2d48a27d0676f2ccdc5a903c15dee59d01a"},a("my-transl",{key:"041712be4dec35317fb0ed7f8fac5649baa51677",tag:"winter",text:"Winter"}))),a("ion-text",{key:"3a47fef8dd6a06c2fc2df93ebb021cc6bd2843c1",color:"dark"},a("p",{key:"778fb13acd80607d163cf563e5ad4f6f9258566b"},this.diveSite.information.waterTemp.winter," °C"))))))),this.diveSite.information.seabedComposition?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-comp",text:"Seabed Composition"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedComposition.map((e=>a("p",null,c.getSeabedCompositionName(e))))))):undefined,this.diveSite.information.seabedCover?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-cover",text:"Seabed Cover"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedCover.map((e=>a("p",null,c.getSeabedCoverName(e))))))):undefined)),a("swiper-slide",{key:"debbc56ef38e0b64fd1a40a1b199466de76f3cae",class:"swiper-slide"},a("div",{key:"02962a21736c0eade7b9468640f8392334f2b110",id:"map-container"},a("app-map",{key:"390b1218ca9563210b2773e5c22196450925fd77",id:"map",pageId:"dive-site-details",center:this.diveSite,markers:this.markers}))),a("swiper-slide",{key:"4da68199384eeafb6948023d107373fb13d7646d",class:"swiper-slide"},a("ion-grid",{key:"416a78b35d21050a16a3cafce5a02685cda09eaa"},a("ion-row",{key:"f8775c3c38f5fb51e27c96f6da5670cee5310c98",class:"ion-text-start"},this.diveSite.divePlans.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-dive-plan-card",{divePlan:e,edit:false}))))))),a("swiper-slide",{key:"b5779ab31ffe8d7be4ac27ea8814c33b21d9642c",class:"swiper-slide"},a("ion-grid",{key:"2ccd34f8e6ced8d06c7e971d966fa639bc1bd200"},a("ion-row",{key:"bb6597b61a867ce9fb60eaa10ed3d1690b4e33b3",class:"ion-text-start"},this.diveSite.divingCenters.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-diving-center-card",{divingCenterId:e,startlocation:this.diveSite}))))))),a("swiper-slide",{key:"e4e6aec372a19b2acb6212ff14b2ab8f119b311a",class:"swiper-slide"},a("app-calendar",{key:"aec7c940d25cb3b68af75aa36d8682bc8ed52433",calendarId:"dive-site-calendar",addEvents:{trips:this.diveTrips}})))))]}get el(){return d(this)}};k.style=p;export{k as page_dive_site_details};