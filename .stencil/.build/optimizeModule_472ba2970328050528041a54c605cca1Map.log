{"version":3,"names":["modalTankConfigurationCss","ModalTankConfigurationStyle0","ModalTankConfiguration","this","validForm","name","depth","time","bottom","componentWillLoad","componentDidLoad","validateAll","save","el","closest","dismiss","tank","close","inputHandler","event","detail","value","showSave","isString","volume","no_of_tanks","pressure","updateView","render","h","key","tag","text","color","Environment","getAppColor","modal","lines","onFormItemChanged","ev","validator","appendText","options","min","labelTag","labelText","alignRight","detailText","DiveToolsService","ltToCuFt","label","TranslationService","getTransl","interface","onIonChange","barToPsi","forDeco","disableSave","onCancelEmit","onSaveEmit"],"sources":["src/components/udive/modals/dive-plan/modal-tank-configuration/modal-tank-configuration.scss?tag=modal-tank-configuration","src/components/udive/modals/dive-plan/modal-tank-configuration/modal-tank-configuration.tsx"],"sourcesContent":["modal-tank-configuration {\n  .scrollx {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-x: auto;\n\n    .item {\n      flex: 0 0 0 0;\n    }\n\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  }\n\n  input {\n    text-align: right;\n  }\n  .fixedLabel {\n    min-width: 80% !important;\n    max-width: 80% !important;\n  }\n  ion-item .item-inner {\n    box-shadow: none !important;\n    border-bottom: 1px solid #dedede !important;\n  }\n\n  .item-input .label-md,\n  .item-select .label-md,\n  .item-datetime .label-md {\n    color: rgb(0, 0, 0);\n  }\n}\n","import {Component, h, Prop, Element, State} from \"@stencil/core\";\nimport {isString} from \"lodash\";\nimport {Environment} from \"../../../../../global/env\";\nimport {DiveToolsService} from \"../../../../../services/udive/planner/dive-tools\";\nimport {TranslationService} from \"../../../../../services/common/translations\";\nimport {TankModel} from \"../../../../../interfaces/udive/planner/tank-model\";\n\n@Component({\n  tag: \"modal-tank-configuration\",\n  styleUrl: \"modal-tank-configuration.scss\",\n})\nexport class ModalTankConfiguration {\n  @Element() el: HTMLElement;\n  @Prop() tank: TankModel;\n  @State() updateView = true;\n  validForm = {\n    name: false,\n    depth: false,\n    time: false,\n    bottom: false,\n  };\n  @State() showSave = false;\n\n  componentWillLoad() {}\n  componentDidLoad() {\n    this.validateAll();\n  }\n\n  save() {\n    this.el.closest(\"ion-modal\").dismiss(this.tank);\n  }\n\n  close() {\n    this.el.closest(\"ion-modal\").dismiss();\n  }\n\n  inputHandler(event: any) {\n    this.tank[event.detail.name] = event.detail.value;\n    this.validateAll();\n  }\n\n  validateAll() {\n    this.showSave =\n      isString(this.tank.name) &&\n      this.tank.volume > 0.1 &&\n      this.tank.no_of_tanks > 0 &&\n      this.tank.pressure > 1;\n    this.updateView = !this.updateView;\n  }\n\n  render() {\n    return [\n      <app-navbar\n        tag=\"tank-configuration\"\n        text=\"Tank Configuration\"\n        color={Environment.getAppColor()}\n        modal={true}\n      ></app-navbar>,\n      <ion-content>\n        <ion-list>\n          <app-form-item\n            label-tag=\"name\"\n            label-text=\"Name\"\n            value={this.tank.name}\n            name=\"name\"\n            input-type=\"text\"\n            lines=\"inset\"\n            onFormItemChanged={(ev) => this.inputHandler(ev)}\n            validator={[\"required\"]}\n          ></app-form-item>\n          <app-form-item\n            label-tag=\"volume\"\n            label-text=\"Volume\"\n            appendText={\" (lt)\"}\n            value={this.tank.volume}\n            name=\"volume\"\n            input-type=\"number\"\n            lines=\"inset\"\n            onFormItemChanged={(ev) => this.inputHandler(ev)}\n            validator={[\n              \"required\",\n              {\n                name: \"minvalue\",\n                options: {min: 0.1},\n              },\n            ]}\n          ></app-form-item>\n          <app-item-detail\n            labelTag=\"volume\"\n            labelText=\"Volume\"\n            appendText={\" (cuft)\"}\n            lines=\"inset\"\n            alignRight\n            detailText={DiveToolsService.ltToCuFt(this.tank.volume)}\n          ></app-item-detail>\n          <ion-item>\n            <ion-select\n              label={TranslationService.getTransl(\n                \"no_of_tanks\",\n                \"Number Of Tanks\"\n              )}\n              interface=\"action-sheet\"\n              onIonChange={(ev) =>\n                this.inputHandler({\n                  detail: {name: \"no_of_tanks\", value: ev.detail.value},\n                })\n              }\n              value={this.tank.no_of_tanks}\n            >\n              <ion-select-option value={1}>1</ion-select-option>\n              <ion-select-option value={2}>2</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <app-form-item\n            label-tag=\"pressure\"\n            label-text=\"Pressure\"\n            appendText={\" (bar)\"}\n            value={this.tank.pressure}\n            name=\"pressure\"\n            input-type=\"number\"\n            lines=\"inset\"\n            onFormItemChanged={(ev) => this.inputHandler(ev)}\n            validator={[\n              \"required\",\n              {\n                name: \"minvalue\",\n                options: {min: 1},\n              },\n            ]}\n          ></app-form-item>\n          <app-item-detail\n            label-tag=\"pressure\"\n            label-text=\"Pressure\"\n            appendText={\" (psi)\"}\n            lines=\"inset\"\n            alignRight\n            detailText={DiveToolsService.barToPsi(this.tank.pressure)}\n          ></app-item-detail>\n          <app-form-item\n            label-tag=\"for-deco\"\n            label-text=\"For Decompression\"\n            value={this.tank.forDeco}\n            name=\"forDeco\"\n            input-type=\"boolean\"\n            lines=\"inset\"\n            onFormItemChanged={(ev) => this.inputHandler(ev)}\n          ></app-form-item>\n        </ion-list>\n      </ion-content>,\n      <app-modal-footer\n        disableSave={!this.showSave}\n        onCancelEmit={() => this.close()}\n        onSaveEmit={() => this.save()}\n      />,\n    ];\n  }\n}\n"],"mappings":"yXAAA,MAAMA,EAA4B,0mBAClC,MAAAC,EAAeD,E,MCUFE,EAAsB,M,yBAIjCC,KAAAC,UAAY,CACVC,KAAM,MACNC,MAAO,MACPC,KAAM,MACNC,OAAQ,O,oCALY,K,cAOF,K,CAEpB,iBAAAC,GAAiB,CACjB,gBAAAC,GACEP,KAAKQ,a,CAGP,IAAAC,GACET,KAAKU,GAAGC,QAAQ,aAAaC,QAAQZ,KAAKa,K,CAG5C,KAAAC,GACEd,KAAKU,GAAGC,QAAQ,aAAaC,S,CAG/B,YAAAG,CAAaC,GACXhB,KAAKa,KAAKG,EAAMC,OAAOf,MAAQc,EAAMC,OAAOC,MAC5ClB,KAAKQ,a,CAGP,WAAAA,GACER,KAAKmB,SACHC,mBAASpB,KAAKa,KAAKX,OACnBF,KAAKa,KAAKQ,OAAS,IACnBrB,KAAKa,KAAKS,YAAc,GACxBtB,KAAKa,KAAKU,SAAW,EACvBvB,KAAKwB,YAAcxB,KAAKwB,U,CAG1B,MAAAC,GACE,MAAO,CACLC,EAAA,cAAAC,IAAA,2CACEC,IAAI,qBACJC,KAAK,qBACLC,MAAOC,EAAYC,cACnBC,MAAO,OAETP,EAAA,eAAAC,IAAA,4CACED,EAAA,YAAAC,IAAA,4CACED,EAAA,iBAAAC,IAAA,uDACY,OAAM,aACL,OACXT,MAAOlB,KAAKa,KAAKX,KACjBA,KAAK,OAAM,aACA,OACXgC,MAAM,QACNC,kBAAoBC,GAAOpC,KAAKe,aAAaqB,GAC7CC,UAAW,CAAC,cAEdX,EAAA,iBAAAC,IAAA,uDACY,SAAQ,aACP,SACXW,WAAY,QACZpB,MAAOlB,KAAKa,KAAKQ,OACjBnB,KAAK,SAAQ,aACF,SACXgC,MAAM,QACNC,kBAAoBC,GAAOpC,KAAKe,aAAaqB,GAC7CC,UAAW,CACT,WACA,CACEnC,KAAM,WACNqC,QAAS,CAACC,IAAK,QAIrBd,EAAA,mBAAAC,IAAA,2CACEc,SAAS,SACTC,UAAU,SACVJ,WAAY,UACZJ,MAAM,QACNS,WAAU,KACVC,WAAYC,EAAiBC,SAAS9C,KAAKa,KAAKQ,UAElDK,EAAA,YAAAC,IAAA,4CACED,EAAA,cAAAC,IAAA,2CACEoB,MAAOC,EAAmBC,UACxB,cACA,mBAEFC,UAAU,eACVC,YAAcf,GACZpC,KAAKe,aAAa,CAChBE,OAAQ,CAACf,KAAM,cAAegB,MAAOkB,EAAGnB,OAAOC,SAGnDA,MAAOlB,KAAKa,KAAKS,aAEjBI,EAAA,qBAAAC,IAAA,2CAAmBT,MAAO,GAAC,KAC3BQ,EAAA,qBAAAC,IAAA,2CAAmBT,MAAO,GAAC,OAG/BQ,EAAA,iBAAAC,IAAA,uDACY,WAAU,aACT,WACXW,WAAY,SACZpB,MAAOlB,KAAKa,KAAKU,SACjBrB,KAAK,WAAU,aACJ,SACXgC,MAAM,QACNC,kBAAoBC,GAAOpC,KAAKe,aAAaqB,GAC7CC,UAAW,CACT,WACA,CACEnC,KAAM,WACNqC,QAAS,CAACC,IAAK,OAIrBd,EAAA,mBAAAC,IAAA,uDACY,WAAU,aACT,WACXW,WAAY,SACZJ,MAAM,QACNS,WAAU,KACVC,WAAYC,EAAiBO,SAASpD,KAAKa,KAAKU,YAElDG,EAAA,iBAAAC,IAAA,uDACY,WAAU,aACT,oBACXT,MAAOlB,KAAKa,KAAKwC,QACjBnD,KAAK,UAAS,aACH,UACXgC,MAAM,QACNC,kBAAoBC,GAAOpC,KAAKe,aAAaqB,OAInDV,EAAA,oBAAAC,IAAA,2CACE2B,aAActD,KAAKmB,SACnBoC,aAAc,IAAMvD,KAAKc,QACzB0C,WAAY,IAAMxD,KAAKS,S","ignoreList":[]}