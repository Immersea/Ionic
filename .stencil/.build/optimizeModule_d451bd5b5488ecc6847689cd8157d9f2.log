import{r as e,h as t}from"./p-cbe60c68.js";import{S as a,R as i,am as l,T as s}from"./p-736235c6.js";import{T as d}from"./p-9a446c6a.js";import{S as n}from"./p-a75993af.js";import{E as c}from"./p-46038295.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const p="page-shape-details{}";const b=p;const o=class{constructor(t){e(this,t);this.titles=[{tag:"information",text:"Information"},{tag:"drawing",text:"Drawing",disabled:false}];this.itemId=undefined;this.shape=undefined;this.shapeTypes=undefined;this.updateView=true;this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadShape()}else{a.dismissLoading();a.presentAlertError("No Item Id");i.goBack()}}async componentDidLoad(){this.slider=new n(".slider-detail-shapes",{speed:400,spaceBetween:0,allowTouchMove:false,autoHeight:true,slidesPerView:1,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:2}}})}async loadShape(){try{this.shape=await l.getShape(this.itemId);this.shapeTypes=await l.getShapeTypes();this.checkDwg()}catch(e){a.dismissLoading();a.presentAlertError(e);i.goBack()}a.dismissLoading()}async checkDwg(){if(!this.shape.dwg){const e=this.shapeTypes.find((e=>e.typeId==this.shape.shapeTypeId));if(e){this.shape.dwg=e.dwg}if(!this.shape.dwg){this.titles[1].disabled=true;this.updateView=!this.updateView}}}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editShape(){const e=await l.presentShapeUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadShape()))}deleteShape(){l.deleteShape(this.itemId);i.goBack()}duplicateShape(){l.duplicateShape(this.itemId);i.goBack()}render(){return[t("ion-header",{key:"a6a5f98f50dae398cab4e46ee591c3cd0383dcc3"},t("app-navbar",{key:"3368688121e05a8f61b48635599e5db747646030",text:this.shape.shapeName,color:"trasteel",backButton:true,rightButtonText:d.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editShape()})),t("app-header-segment-toolbar",{key:"c2c71b38388a4d0a3eb0cd04b83fe0947b905052",color:c.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),t("ion-content",{key:"fb859559110c2c67650ef291e4f17db17c5ca453",class:"slides"},t("swiper-container",{key:"1ddf8ae8cbc6234d317cc7b0c64034aeebf83521",class:"slider-detail-shapes swiper"},t("swiper-wrapper",{key:"9ae38df84a98eef36d596f0a179154e1a6b27821",class:"swiper-wrapper"},t("swiper-slide",{key:"e2d7cb5365f90e96629096699f047e35c88dc981",class:"swiper-slide"},t("ion-list",{key:"1dc7f808fd9bd23e852cceb98ad26280f0651ad8",class:"ion-no-padding"},t("app-item-detail",{key:"5d58399dd2bd7d2765d3065c782065bc20f39004",lines:"none",labelTag:"shape_type",labelText:"Shape Type",detailText:l.getShapeTypeName(this.shape.shapeTypeId)["en"]}),t("app-item-detail",{key:"82f89f05813dc08daa654b79992d3d7570f26472",lines:"none",labelTag:"name",labelText:"Name",detailText:this.shape.shapeName}),t("app-item-detail",{key:"d69c9f5bf8dc3ae2bf641cfd0e23ec1a335779c3",lines:"none",labelTag:"shortName",labelText:"Short Name",detailText:this.shape.shapeShortName}),t("app-item-detail",{key:"6a7e6f42576b78ea5baa58af5112881a03ec552c",lines:"none",labelText:"H",detailText:this.shape.H}),t("app-item-detail",{key:"953f3e3da214b76e325e62679b3a846f03dea512",lines:"none",labelText:"H1",detailText:this.shape.H1}),t("app-item-detail",{key:"9fa9f691f6ec37e75743ad851511085ed0e18bc7",lines:"none",labelText:"H2",detailText:this.shape.H2}),t("app-item-detail",{key:"bdb9a0d73b30a35415e1c95775b61c9ff27d76c5",lines:"none",labelText:"L",detailText:this.shape.L}),t("app-item-detail",{key:"d67324b78c13992161754e99d6140209f04f203a",lines:"none",labelText:"L1",detailText:this.shape.L1}),t("app-item-detail",{key:"7941f3e4834fb9f9bac363152919b88b6b8fa9e9",lines:"none",labelText:"La",detailText:this.shape.La}),t("app-item-detail",{key:"e31250831d51e30ae1b9008224e48ed32e1fbc3a",lines:"none",labelText:"Lb",detailText:this.shape.Lb}),t("app-item-detail",{key:"64a7708b9e4e004b92eaf4e625950feb5c859266",lines:"none",labelText:"A",detailText:this.shape.A}),t("app-item-detail",{key:"4ebcd997dfda101651941971de4771dbc3bab771",lines:"none",labelText:"A1",detailText:this.shape.A1}),t("app-item-detail",{key:"3817289eeab57119300ebcb61f97e0088d452080",lines:"none",labelText:"B",detailText:this.shape.B}),t("app-item-detail",{key:"84a65614e43bc30eb30f4f1180a4666d42d38c9b",lines:"none",labelText:"B1",detailText:this.shape.B1}),t("app-item-detail",{key:"ae5cf9bba4f70b7703fe8a5886f23132f0aa3ed6",lines:"none",labelText:"ANG",detailText:this.shape.ANG}),t("app-item-detail",{key:"34c057fa8b9479a5c574d13b7119a9c02cb0d48f",lines:"none",labelText:"ANG1",detailText:this.shape.ANG1}),t("app-item-detail",{key:"1152a856769b566e496ce3ef9fa943b44cb4f3d5",lines:"none",labelText:"D",detailText:this.shape.D}),t("app-item-detail",{key:"2698729fdddfcaf39cffdfb33c447f014c36b055",lines:"none",labelText:"D1",detailText:this.shape.D1}),t("app-item-detail",{key:"58dd63e8b4fcefc2c3542f3abad7c12b40c6cd7a",lines:"none",labelText:"D2",detailText:this.shape.D2}),t("app-item-detail",{key:"792037f62ab53d0731d4e56fb3c879357b789e4c",lines:"none",labelText:"D3",detailText:this.shape.D3}),t("app-item-detail",{key:"2c38f669277ec77ec14f0644c8519da51b153ecc",lines:"none",labelText:"D4",detailText:this.shape.D4}),t("app-item-detail",{key:"333783d6e98f266c2e10bc9a8b2fb76794524354",lines:"none",labelText:"De",detailText:this.shape.De}),t("app-item-detail",{key:"3ef19c6ca97ca967587857be8b32fe4def4c5d85",lines:"none",labelText:"Di",detailText:this.shape.Di}),t("app-item-detail",{key:"6c2915fce2fd52ba1cbe9f3ecc8f7b740b47b203",lines:"none",labelText:"N",detailText:this.shape.N}),t("app-item-detail",{key:"47cf20eefa67ae59ec76ff696c926553150ea3d0",lines:"none",labelText:"Radius",appendText:this.shape.radius_max>0?" MIN":null,detailText:this.shape.radius}),t("app-item-detail",{key:"1b684434dd730c0c144e7bc77820d8bf695d3e30",lines:"none",labelText:"Radius",appendText:" MAX",detailText:this.shape.radius_max}),t("app-item-detail",{key:"cbfc2a753f4c48e5525f001eb5f861b48887f87d",lines:"none",labelText:"Volume",detailText:this.shape.volume})),d.isRefraDBAdmin()?t("ion-grid",null,t("ion-row",null,t("ion-col",null,t("ion-button",{color:"danger",fill:"outline",expand:"block",onClick:()=>this.deleteShape()},t("ion-icon",{name:"trash",slot:"start"}),t("ion-label",null,s.getTransl("delete","Delete")))),t("ion-col",null,t("ion-button",{color:"tertiary",fill:"outline",expand:"block",onClick:()=>this.duplicateShape()},t("ion-icon",{name:"duplicate",slot:"start"}),t("ion-label",null,s.getTransl("copy","Copy")))))):undefined),this.shape.dwg?t("swiper-slide",{class:"swiper-slide"},t("app-banner",{heightPx:500,backgroundCoverFill:false,link:this.shape.dwg?this.shape.dwg.url:null})):undefined)))]}};o.style=b;export{o as page_shape_details};