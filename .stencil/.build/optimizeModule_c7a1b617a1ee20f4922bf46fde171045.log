import{r as e,h as t,H as a,f as o}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{m as i}from"./p-c2915cc5.js";import{aD as c,aG as n}from"./p-944b5726.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-1af05547.js";import"./p-e9c4f463.js";const s="popover-shapes-filter{min-width:var(--popover-width)}";const l=s;const d=class{constructor(t){e(this,t);this.filter=undefined;this.shapeTypes=undefined;this.dwg=undefined}async componentWillLoad(){this.popover=this.el.closest("ion-popover");this.shapeTypes=await c.getShapeTypes();this.adjustPopoverWidth("900px")}handleFilter(e){this.filter[e.detail.name]=e.detail.value}async handleSelect(e){this.filter.shapeTypeId=e.detail.value;const t=new n(this.filter);await c.setDwgForShape(t);this.dwg=t.dwg}adjustPopoverWidth(e){this.popover.style.setProperty("--popover-width",e)}close(){i.dismiss()}save(){i.dismiss(this.filter)}render(){return t(a,{key:"9f1b68526258e547d8e93d1a7122651afe1d780a"},t("ion-header",{key:"2cca4bd1c29189d0358ca29148ccb8fde524835a",translucent:true},t("ion-toolbar",{key:"3f56eb0d0eaf8fe3b254c50ab9857e4f6fda66ea"},t("ion-title",{key:"dde83d0c6cdef6d97fea65fe7afc36a79299e0ce"},"Filter Shapes"))),t("ion-content",{key:"b9ce2b38040f5754fe55494e7d303b60c99e2bd8"},t("ion-grid",{key:"d721276ffe344471d4a1feaf48d3012c01f665d8"},t("ion-row",{key:"44c8edffe1db91be10079f7b02aab4650df0bec7"},t("ion-col",{key:"78e7a75515ee6eb65091b7442280d56202e242b3"},t("ion-list",{key:"faab37331a20f0e66945fb8465bbb46972f888cf"},t("ion-grid",{key:"11f5ed51c056b91a3d12a9a7186b15e6ce88d5c2"},t("ion-row",{key:"eefbece50829482b2cc072f4be18a6a119c325cb"},t("ion-col",{key:"cd9ef24ea441c1614cd74842a12f6a6fca1a085d"},t("app-select-search",{key:"011114283f4fb91b2e755254522bc934835f5c74",label:{tag:"shape_type",text:"Shape Type"},value:this.filter.shapeTypeId,lines:"inset",selectFn:e=>this.handleSelect(e),selectOptions:this.shapeTypes,selectValueId:"typeId",selectValueText:["typeName","en"]})))),Object.keys(this.filter).map((e=>!e.includes("operator")&&e!=="shapeTypeId"?t("ion-row",null,t("ion-col",null,t("app-form-item",{"label-text":e,value:this.filter[e],name:e,"input-type":"number",onFormItemChanged:e=>this.handleFilter(e)})),t("ion-col",{size:"1"},t("ion-select",{color:"trasteel",interface:"action-sheet",onIonChange:t=>this.filter[e+"_operator"]=t.detail.value,value:this.filter[e+"_operator"]},t("ion-select-option",{value:">="},t("ion-label",null,">=")),t("ion-select-option",{value:">"},t("ion-label",null,">")),t("ion-select-option",{value:"="},t("ion-label",null,"=")),t("ion-select-option",{value:"<"},t("ion-label",null,"<")),t("ion-select-option",{value:"<="},t("ion-label",null,"<="))))):undefined)))),t("ion-col",{key:"7ebc3311a7085dc20d4a23d7d1f79d5237677d4b"},t("app-banner",{key:"69afa8d7d3bdabeb27e77e1d6b9f44ec5448efd5",scrollTopValue:0,heightPx:300,backgroundCover:false,link:this.dwg?this.dwg.url:null}))))),t("ion-footer",{key:"975c2fabc9fec96fe5e0a25a8c782ee748ecadd2"},t("app-modal-footer",{key:"d542429a3c96c3c21fb838d9e5180cbf5b5005d2",saveTag:{tag:"filter",text:"Filter"},onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})))}get el(){return o(this)}};d.style=l;export{d as popover_shapes_filter};