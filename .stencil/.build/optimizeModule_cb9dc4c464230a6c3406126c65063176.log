import{r as s,h as t}from"./p-cbe60c68.js";import{f as e,g as i,b as a,c as o,d as c,e as r,U as n,T as p,A as h}from"./p-736235c6.js";import{l as d}from"./p-1af05547.js";import"./p-1819cfda.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const f="app-admin-clients-list{}";const l=f;const m=class{constructor(t){s(this,t);this.admin=undefined;this.clientsFilteredList=undefined}async filterClients(s){this.filter=s?s.target?s.target.value:s:null;if(this.filter){this.clientsFilteredList=this.clientsList.filter((s=>s.displayName.toLowerCase().includes(this.filter.toLowerCase())))}else{this.clientsFilteredList=this.clientsList}}async componentWillLoad(){let s=null;switch(this.admin.collectionId){case c:s=r.selectedDivingSchoolClients$;this.type=c.toLowerCase();this.id=r.selectedDivingSchoolId;this.customersUrl="members";break;case a:s=o.selectedDivingCenterClients$;this.type=a.toLowerCase();this.id=o.selectedDivingCenterId;this.customersUrl="customers";break;case e:s=i.selectedServiceCenterClients$;this.type=e.toLowerCase();this.id=i.selectedServiceCenterId;this.customersUrl="customers";break}this.clientsSub=s.subscribe((async s=>{this.clients=s;const t=[];if(s){for(let s of Object.keys(this.clients)){t.push(await n.getMapDataUserDetails(s))}}this.clientsList=d.exports.orderBy(t,"displayName");this.filterClients(this.filter)}))}disconnectedCallback(){this.clientsSub.unsubscribe()}render(){return[t("ion-header",{key:"8ebb232674e8240d5f1a8760f15029d2de496edf"},t("ion-toolbar",{key:"949a6d361f7832256b52a72164d66d958432c6cd",color:"clients"},t("ion-searchbar",{key:"844e381d7ffc326218a03168ed09edbb822c6b0a",animated:true,placeholder:p.getTransl("search","Search"),onIonInput:s=>this.filterClients(s)}))),t("ion-content",{key:"fc0e3034067ff3f352aef62e61b73cd2099e9550"},t("ion-list",{key:"55304201f28d3ebd622988bc87d12f9739c2feae"},this.clientsFilteredList.map((s=>t("ion-item",{button:true,detail:true,href:"/"+h+"/"+this.type+"/"+this.id+"/"+this.customersUrl+"/"+s.id},s.photoURL?t("ion-avatar",{slot:"start"},t("img",{src:s.photoURL})):t("ion-icon",{slot:"start",name:"person"}),t("ion-label",null,s.displayName))))))]}};m.style=l;export{m as app_admin_clients_list};