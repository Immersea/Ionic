import{r as t,h as i,f as e}from"./p-cbe60c68.js";import{U as o,p as n,an as s,aD as a,ay as l,a6 as r,E as c,n as p,i as u,k as d,j as h,P as m,aP as b}from"./p-6934ed3c.js";import{S as f}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const g="page-trs-user-settings .cover{height:var(--coverHeight)}page-trs-user-settings .nopaddingtop{padding-top:0px !important}";const k=g;const C=class{constructor(i){t(this,i);this.titles=[{tag:"user-info",text:"My Info"},{tag:"admin",text:"Administration"}];this.userProfile=undefined;this.userRoles=undefined;this.slider=undefined;this.updateView=false}componentWillLoad(){this.userSub$=o.userProfile$.subscribe((t=>{this.userProfile=new n(t);this.userRoles=o.userRoles}))}async componentDidLoad(){this.setSliderHeight();if(!this.userProfile){o.initLocalUser()}this.updateSlider()}setSliderHeight(){this.slider=new f(".slider-user-settings",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});if(this.userProfile.photoURL||this.userProfile.coverURL){const t=Array.from(this.el.getElementsByClassName("slide-container"));t.map((t=>{t.setAttribute("style","height: "+(s(this.userProfile)-190)+"px")}))}}disconnectedCallback(){this.userSub$.unsubscribe()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100);this.scrollToTop()}scrollToTop(){this.content?this.content.scrollToTop():undefined}logScrollStart(t){this.content=t.srcElement}checkShapesMapData(){a.checkMapData()}checkProjectsMapData(){l.checkMapData()}checkDatasheetsMapData(){r.checkMapData()}render(){return[this.userProfile?[this.userProfile.coverURL||this.userProfile.photoURL?i("ion-header",{class:"cover"},i("app-user-cover",{showUserDetails:false})):i("app-navbar",{color:c.getAppColor(),tag:"settings",text:"Settings"}),i("app-header-segment-toolbar",{color:c.getAppColor(),swiper:this.slider,titles:this.titles,class:"nopaddingtop"}),i("ion-content",{class:"slides",scrollEvents:true,onIonScrollStart:t=>this.logScrollStart(t)},this.userProfile.coverURL||this.userProfile.photoURL?[i("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:"calc(env(safe-area-inset-top) + "+b(1)+")"}},i("ion-menu-toggle",null,i("ion-fab-button",{color:"light"},i("ion-icon",{name:"menu-outline"})))),i("ion-fab",{vertical:"top",horizontal:"end",slot:"fixed",style:{marginTop:"calc(env(safe-area-inset-top) + "+b(1)+")"}},i("ion-fab-button",{color:"light",onClick:()=>o.presentUserUpdate()},i("ion-icon",{name:"create-outline"})))]:undefined,i("swiper-container",{class:"slider-user-settings swiper"},i("swiper-wrapper",{class:"swiper-wrapper"},i("swiper-slide",{class:"swiper-slide"},i("app-user-cover",{showCover:false}),i("ion-footer",{class:"ion-no-border"},i("ion-toolbar",null,i("ion-button",{expand:"block",fill:"solid",color:"danger",onClick:()=>p.logout()},i("ion-icon",{slot:"start",name:"log-out"}),i("my-transl",{tag:"logout",text:"Logout",isLabel:true}))))),i("swiper-slide",{class:"swiper-slide"},i("ion-list",null,this.userRoles.isSuperAdmin()?[i("ion-item-divider",null,i("ion-label",null,"SuperAdmin")),i("ion-item",{button:true,onClick:()=>this.checkShapesMapData()},i("ion-label",null,"Check Shapes MapData")),i("ion-item",{button:true,onClick:()=>this.checkDatasheetsMapData()},i("ion-label",null,"Check Datasheets MapData")),i("ion-item",{button:true,onClick:()=>this.checkProjectsMapData()},i("ion-label",null,"Check Projects MapData"))]:undefined,i("ion-item-divider",null,i("ion-label",null,"Shapes")),i("ion-item",{button:true,onClick:()=>a.editShapeTypes()},i("ion-icon",{name:u.getMapDocs(d).icon.name,slot:"start"}),i("ion-label",null,"Edit Types")),i("ion-item-divider",null,i("ion-label",null,"Datasheets")),i("ion-item",{button:true,onClick:()=>r.editDatasheetSettings("majorfamily")},i("ion-icon",{name:u.getMapDocs(h).icon.name,slot:"start"}),i("ion-label",null,"Edit Major Families")),i("ion-item",{button:true,onClick:()=>r.editDatasheetSettings("family")},i("ion-icon",{name:u.getMapDocs(h).icon.name,slot:"start"}),i("ion-label",null,"Edit Families")),i("ion-item",{button:true,onClick:()=>r.editDatasheetSettings("category")},i("ion-icon",{name:u.getMapDocs(h).icon.name,slot:"start"}),i("ion-label",null,"Edit Categories")),i("ion-item",{button:true,onClick:()=>r.editDatasheetSettings("propertyType")},i("ion-icon",{name:u.getMapDocs(h).icon.name,slot:"start"}),i("ion-label",null,"Edit Property Types")),i("ion-item",{button:true,onClick:()=>r.editDatasheetSettings("propertyName")},i("ion-icon",{name:u.getMapDocs(h).icon.name,slot:"start"}),i("ion-label",null,"Edit Property Names")),i("ion-item",{button:true,onClick:()=>r.editDatasheetSettings("qualityColorCode")},i("ion-icon",{name:u.getMapDocs(h).icon.name,slot:"start"}),i("ion-label",null,"Edit Quality Color Codes")),i("ion-item-divider",null,i("ion-label",null,"Projects")),i("ion-item",{button:true,onClick:()=>l.editProjectSettings("bricksAllocationArea")},i("ion-icon",{name:u.getMapDocs(m).icon.name,slot:"start"}),i("ion-label",null,"Edit Bricks Allocation Areas")),i("ion-item",{button:true,onClick:()=>l.editProjectSettings("applicationUnit")},i("ion-icon",{name:u.getMapDocs(m).icon.name,slot:"start"}),i("ion-label",null,"Edit Application Units")),i("ion-item",{button:true,onClick:()=>l.editProjectSettings("quantityUnit")},i("ion-icon",{name:u.getMapDocs(m).icon.name,slot:"start"}),i("ion-label",null,"Edit Quantity Units")))))))]:undefined]}get el(){return e(this)}};C.style=k;export{C as page_trs_user_settings};