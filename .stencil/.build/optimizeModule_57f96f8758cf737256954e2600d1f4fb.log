import{r as e,h as t,H as i,f as o}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n as c}from"./p-5d4a8e1f.js";import{l as s}from"./p-1af05547.js";import{E as n}from"./p-a9f4af61.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const a="popover-select-search{}popover-select-search .boldText{font-weight:bold}";const f=a;const d=class{constructor(t){e(this,t);this.selectOptions=undefined;this.selectValueText=undefined;this.placeholder="Search";this.selectValueId=undefined;this.value=undefined;this.filteredOptions=undefined}componentWillLoad(){this.popover=this.el.closest("ion-popover");this.filteredOptions=s.exports.cloneDeep(this.selectOptions)}componentDidLoad(){const e=this.el.querySelector("ion-searchbar");if(e){e.componentOnReady().then((()=>{setTimeout((()=>{e.setFocus()}))}))}}handleSearch(e){let t="";const i=e.target;if(i)t=i.value.toLowerCase();this.filteredOptions=[];this.selectOptions.forEach((e=>{const i=this.getTextValue(e);if(s.exports.includes(s.exports.toLower(i),t)){this.filteredOptions.push(e)}}))}handleSelect(e){c.dismiss(e)}close(){c.dismiss()}getTextValue(e){let t=s.exports.cloneDeep(e);let i=null;for(let e=0;e<this.selectValueText.length;e++){const o=this.selectValueText[e];if(s.exports.isString(t[o])){i=(i?i+"-":"")+t[o]}else if(s.exports.isObject(t[o])){e++;i=(i?i+"-":"")+t[o][this.selectValueText[e]]}}return i}render(){return t(i,{key:"38ccef6acddeb17f6b568378df2c49eb8b0a3289"},t("ion-header",{key:"ed466ff95151985cbb1145d0f6422bfee661b9c2",translucent:true},t("ion-toolbar",{key:"b9c504cc43a58ff9f77a84d986fd798bb7478de5"},t("ion-grid",{key:"47f42573c158a08c40f46835882a047e93e25667",class:"ion-no-padding"},t("ion-row",{key:"e5369aee28d851fde083e86e341ca4d6d9b2ccb9"},t("ion-col",{key:"987115f66a04e1668f4ce8792d0ed734fb30640b",size:"10"},t("ion-searchbar",{key:"ab0fc3d43b0bfa3ce502731ff8401379e61e8e4f",animated:true,debounce:250,placeholder:this.placeholder,onIonInput:e=>this.handleSearch(e)})),t("ion-col",{key:"eeaa0f471af6d5cdc7e089a5abe1f1a986ed6ccb",size:"1"},t("ion-button",{key:"9d3c8b7863f2abbee08536d92459f6c5e9840742",color:n.getAppColor(),"icon-only":true,fill:"clear",onClick:this.close},t("ion-icon",{key:"e4b35ad3f371375c09684a0990ba30d41ea8eb58",name:"close"}))))))),t("ion-content",{key:"f00bf67d7374e8b95c7a9542ece2bd24f65445ec"},t("ion-list",{key:"9c4f8514b43e6d5441317a685e3f374def67fc82"},this.filteredOptions.map((e=>t("ion-item",{button:true,onClick:()=>this.handleSelect(e),class:e[this.selectValueId]==this.value?"boldText":""},e[this.selectValueId]==this.value?t("ion-icon",{name:"checkmark"}):undefined,t("ion-label",null,this.getTextValue(e))))))))}get el(){return o(this)}};d.style=f;export{d as popover_select_search};