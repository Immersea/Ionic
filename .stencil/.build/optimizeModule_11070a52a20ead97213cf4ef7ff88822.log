import{r as t,e,h as o,f as i,H as s}from"./p-cbe60c68.js";import{g as n}from"./p-f83a4566.js";import{g as r,s as a}from"./p-9c77ce6f.js";import{l as c,t as d,s as h,L as l,b as u,c as f}from"./p-0f51d178.js";import{b}from"./p-694b8ade.js";import{g as p}from"./p-ae1763fb.js";import{a as v}from"./p-c5936999.js";import{c as g}from"./p-bcccbbb8.js";import{c as m}from"./p-100c2286.js";import"./p-6879854f.js";import"./p-78bffe29.js";import"./p-3647f076.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w=1;const y=2;const k=3;class C{constructor(t,e){this.component=t;this.params=e;this.state=w}async init(t){this.state=y;if(!this.element){const e=this.component;this.element=await v(this.delegate,t,e,["ion-page","ion-page-invisible"],this.params)}}_destroy(){r(this.state!==k,"view state must be ATTACHED");const t=this.element;if(t){if(this.delegate){this.delegate.removeViewFromDom(t.parentElement,t)}else{t.remove()}}this.nav=undefined;this.state=k}}const x=(t,e,o)=>{if(!t){return false}if(t.component!==e){return false}return a(t.params,o)};const j=(t,e)=>{if(!t){return null}if(t instanceof C){return t}return new C(t,e)};const T=t=>t.map((t=>{if(t instanceof C){return t}if("component"in t){return j(t.component,t.componentProps===null?undefined:t.componentProps)}return j(t,undefined)})).filter((t=>t!==null));const V=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}";const P=V;const S=class{constructor(o){t(this,o);this.ionNavWillLoad=e(this,"ionNavWillLoad",7);this.ionNavWillChange=e(this,"ionNavWillChange",3);this.ionNavDidChange=e(this,"ionNavDidChange",3);this.transInstr=[];this.gestureOrAnimationInProgress=false;this.useRouter=false;this.isTransitioning=false;this.destroyed=false;this.views=[];this.didLoad=false;this.delegate=undefined;this.swipeGesture=undefined;this.animated=true;this.animation=undefined;this.rootParams=undefined;this.root=undefined}swipeGestureChanged(){if(this.gesture){this.gesture.enable(this.swipeGesture===true)}}rootChanged(){if(this.root===undefined){return}if(this.didLoad===false){return}if(!this.useRouter){if(this.root!==undefined){this.setRoot(this.root,this.rootParams)}}}componentWillLoad(){this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null;if(this.swipeGesture===undefined){const t=p(this);this.swipeGesture=b.getBoolean("swipeBackEnabled",t==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=true;this.rootChanged();this.gesture=(await import("./p-7bbfa305.js")).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this));this.swipeGestureChanged()}connectedCallback(){this.destroyed=false}disconnectedCallback(){for(const t of this.views){c(t.element,l);t._destroy()}if(this.gesture){this.gesture.destroy();this.gesture=undefined}this.transInstr.length=0;this.views.length=0;this.destroyed=true}push(t,e,o,i){return this.insert(-1,t,e,o,i)}insert(t,e,o,i,s){return this.insertPages(t,[{component:e,componentProps:o}],i,s)}insertPages(t,e,o,i){return this.queueTrns({insertStart:t,insertViews:e,opts:o},i)}pop(t,e){return this.removeIndex(-1,1,t,e)}popTo(t,e,o){const i={removeStart:-1,removeCount:-1,opts:e};if(typeof t==="object"&&t.component){i.removeView=t;i.removeStart=1}else if(typeof t==="number"){i.removeStart=t+1}return this.queueTrns(i,o)}popToRoot(t,e){return this.removeIndex(1,-1,t,e)}removeIndex(t,e=1,o,i){return this.queueTrns({removeStart:t,removeCount:e,opts:o},i)}setRoot(t,e,o,i){return this.setPages([{component:t,componentProps:e}],o,i)}setPages(t,e,o){e!==null&&e!==void 0?e:e={};if(e.animated!==true){e.animated=false}return this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},o)}setRouteId(t,e,o,i){const s=this.getActiveSync();if(x(s,t,e)){return Promise.resolve({changed:false,element:s.element})}let n;const r=new Promise((t=>n=t));let a;const c={updateURL:false,viewIsReady:t=>{let e;const o=new Promise((t=>e=t));n({changed:true,element:t,markVisible:async()=>{e();await a}});return o}};if(o==="root"){a=this.setRoot(t,e,c)}else{const s=this.views.find((o=>x(o,t,e)));if(s){a=this.popTo(s,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i}))}else if(o==="forward"){a=this.push(t,e,Object.assign(Object.assign({},c),{animationBuilder:i}))}else if(o==="back"){a=this.setRoot(t,e,Object.assign(Object.assign({},c),{direction:"back",animated:true,animationBuilder:i}))}}return r}async getRouteId(){const t=this.getActiveSync();if(t){return{id:t.element.tagName,params:t.params,element:t.element}}return undefined}async getActive(){return this.getActiveSync()}async getByIndex(t){return this.views[t]}async canGoBack(t){return this.canGoBackSync(t)}async getPrevious(t){return this.getPreviousSync(t)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!!(t&&this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t){return undefined}const e=this.views;const o=e.indexOf(t);return o>0?e[o-1]:undefined}async queueTrns(t,e){var o,i;if(this.isTransitioning&&((o=t.opts)===null||o===void 0?void 0:o.skipIfBusy)){return false}const s=new Promise(((e,o)=>{t.resolve=e;t.reject=o}));t.done=e;if(t.opts&&t.opts.updateURL!==false&&this.useRouter){const e=document.querySelector("ion-router");if(e){const o=await e.canTransition();if(o===false){return false}if(typeof o==="string"){e.push(o,t.opts.direction||"back");return false}}}if(((i=t.insertViews)===null||i===void 0?void 0:i.length)===0){t.insertViews=undefined}this.transInstr.push(t);this.nextTrns();return s}success(t,e){if(this.destroyed){this.fireError("nav controller was destroyed",e);return}if(e.done){e.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction)}e.resolve(t.hasCompleted);if(e.opts.updateURL!==false&&this.useRouter){const e=document.querySelector("ion-router");if(e){const o=t.direction==="back"?"back":"forward";e.navChanged(o)}}}failed(t,e){if(this.destroyed){this.fireError("nav controller was destroyed",e);return}this.transInstr.length=0;this.fireError(t,e)}fireError(t,e){if(e.done){e.done(false,false,t)}if(e.reject&&!this.destroyed){e.reject(t)}else{e.resolve(false)}}nextTrns(){if(this.isTransitioning){return false}const t=this.transInstr.shift();if(!t){return false}this.runTransition(t);return true}async runTransition(t){try{this.ionNavWillChange.emit();this.isTransitioning=true;this.prepareTI(t);const e=this.getActiveSync();const o=this.getEnteringView(t,e);if(!e&&!o){throw new Error("no views in the stack to be removed")}if(o&&o.state===w){await o.init(this.el)}this.postViewInit(o,e,t);const i=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&o!==e;if(i&&t.opts&&e){const i=t.opts.direction==="back";if(i){t.opts.animationBuilder=t.opts.animationBuilder||(o===null||o===void 0?void 0:o.animationBuilder)}e.animationBuilder=t.opts.animationBuilder}let s;if(i){s=await this.transition(o,e,t)}else{s={hasCompleted:true,requiresTransition:false}}this.success(s,t);this.ionNavDidChange.emit()}catch(e){this.failed(e,t)}this.isTransitioning=false;this.nextTrns()}prepareTI(t){var e,o;var i;const s=this.views.length;(e=t.opts)!==null&&e!==void 0?e:t.opts={};(o=(i=t.opts).delegate)!==null&&o!==void 0?o:i.delegate=this.delegate;if(t.removeView!==undefined){r(t.removeStart!==undefined,"removeView needs removeStart");r(t.removeCount!==undefined,"removeView needs removeCount");const e=this.views.indexOf(t.removeView);if(e<0){throw new Error("removeView was not found")}t.removeStart+=e}if(t.removeStart!==undefined){if(t.removeStart<0){t.removeStart=s-1}if(t.removeCount<0){t.removeCount=s-t.removeStart}t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===s}if(t.insertViews){if(t.insertStart<0||t.insertStart>s){t.insertStart=s}t.enteringRequiresTransition=t.insertStart===s}const n=t.insertViews;if(!n){return}r(n.length>0,"length can not be zero");const a=T(n);if(a.length===0){throw new Error("invalid views to insert")}for(const e of a){e.delegate=t.opts.delegate;const o=e.nav;if(o&&o!==this){throw new Error("inserted view was already inserted")}if(e.state===k){throw new Error("inserted view was already destroyed")}}t.insertViews=a}getEnteringView(t,e){const o=t.insertViews;if(o!==undefined){return o[o.length-1]}const i=t.removeStart;if(i!==undefined){const o=this.views;const s=i+t.removeCount;for(let t=o.length-1;t>=0;t--){const n=o[t];if((t<i||t>=s)&&n!==e){return n}}}return undefined}postViewInit(t,e,o){var i,s,n;r(e||t,"Both leavingView and enteringView are null");r(o.resolve,"resolve must be valid");r(o.reject,"reject must be valid");const a=o.opts;const{insertViews:d,removeStart:h,removeCount:b}=o;let p;if(h!==undefined&&b!==undefined){r(h>=0,"removeStart can not be negative");r(b>=0,"removeCount can not be negative");p=[];for(let o=h;o<h+b;o++){const i=this.views[o];if(i!==undefined&&i!==t&&i!==e){p.push(i)}}(i=a.direction)!==null&&i!==void 0?i:a.direction="back"}const v=this.views.length+((s=d===null||d===void 0?void 0:d.length)!==null&&s!==void 0?s:0)-(b!==null&&b!==void 0?b:0);r(v>=0,"final balance can not be negative");if(v===0){console.warn(`You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.`,this,this.el);throw new Error("navigation stack needs at least one root page")}if(d){let t=o.insertStart;for(const e of d){this.insertViewAt(e,t);t++}if(o.enteringRequiresTransition){(n=a.direction)!==null&&n!==void 0?n:a.direction="forward"}}if(p&&p.length>0){for(const t of p){c(t.element,u);c(t.element,f);c(t.element,l)}for(const t of p){this.destroyView(t)}}}async transition(t,e,o){const i=o.opts;const s=i.progressAnimation?t=>{if(t!==undefined&&!this.gestureOrAnimationInProgress){this.gestureOrAnimationInProgress=true;t.onFinish((()=>{this.gestureOrAnimationInProgress=false}),{oneTimeCallback:true});t.progressEnd(0,0,0)}else{this.sbAni=t}}:undefined;const n=p(this);const r=t.element;const a=e&&e.element;const c=Object.assign(Object.assign({mode:n,showGoBack:this.canGoBackSync(t),baseEl:this.el,progressCallback:s,animated:this.animated&&b.getBoolean("animated",true),enteringEl:r,leavingEl:a},i),{animationBuilder:i.animationBuilder||this.animation||b.get("navAnimation")});const{hasCompleted:h}=await d(c);return this.transitionFinish(h,t,e,i)}transitionFinish(t,e,o,i){const s=t?e:o;if(s){this.unmountInactiveViews(s)}return{hasCompleted:t,requiresTransition:true,enteringView:e,leavingView:o,direction:i.direction}}insertViewAt(t,e){const o=this.views;const i=o.indexOf(t);if(i>-1){r(t.nav===this,"view is not part of the nav");o.splice(i,1);o.splice(e,0,t)}else{r(!t.nav,"nav is used");t.nav=this;o.splice(e,0,t)}}removeView(t){r(t.state===y||t.state===k,"view state should be loaded or destroyed");const e=this.views;const o=e.indexOf(t);r(o>-1,"view must be part of the stack");if(o>=0){e.splice(o,1)}}destroyView(t){t._destroy();this.removeView(t)}unmountInactiveViews(t){if(this.destroyed){return}const e=this.views;const o=e.indexOf(t);for(let t=e.length-1;t>=0;t--){const i=e[t];const s=i.element;if(s){if(t>o){c(s,l);this.destroyView(i)}else if(t<o){h(s,true)}}}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=true;this.pop({direction:"back",progressAnimation:true})}onMove(t){if(this.sbAni){this.sbAni.progressStep(t)}}onEnd(t,e,o){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=false}),{oneTimeCallback:true});let i=t?-.001:.001;if(!t){this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)");i+=n([0,0],[1,0],[.68,.28],[1,1],e)[0]}else{i+=n([0,0],[.32,.72],[0,1],[1,1],e)[0]}this.sbAni.progressEnd(t?1:0,i,o)}else{this.gestureOrAnimationInProgress=false}}render(){return o("slot",{key:"e9d99a8a0b84f02f9964d8143cd5e647e43334f9"})}get el(){return i(this)}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}};S.style=P;const E=":host(.tab-hidden){display:none !important}";const L=E;const B=class{constructor(e){t(this,e);this.loaded=false;this.active=false;this.delegate=undefined;this.tab=undefined;this.component=undefined}async componentWillLoad(){if(this.active){await this.setActive()}}async setActive(){await this.prepareLazyLoaded();this.active=true}changeActive(t){if(t){this.prepareLazyLoaded()}}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=true;try{return v(this.delegate,this.el,this.component,["ion-page"])}catch(t){console.error(t)}}return Promise.resolve(undefined)}render(){const{tab:t,active:e,component:i}=this;return o(s,{key:"46d5498418f5379861c3d7465e8021dec45f1200",role:"tabpanel","aria-hidden":!e?"true":null,"aria-labelledby":`tab-button-${t}`,class:{"ion-page":i===undefined,"tab-hidden":!e}},o("slot",{key:"b45045dccb87dfe75e3f5a5a474bb48b6c98e922"}))}get el(){return i(this)}static get watchers(){return{active:["changeActive"]}}};B.style=L;const z=":host{display:flex;align-items:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;user-select:none;z-index:10;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports (backdrop-filter: blur(0)){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}";const A=z;const I=":host{display:flex;align-items:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;user-select:none;z-index:10;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}";const R=I;const W=class{constructor(o){t(this,o);this.ionTabBarChanged=e(this,"ionTabBarChanged",7);this.ionTabBarLoaded=e(this,"ionTabBarLoaded",7);this.keyboardCtrl=null;this.keyboardVisible=false;this.color=undefined;this.selectedTab=undefined;this.translucent=false}selectedTabChanged(){if(this.selectedTab!==undefined){this.ionTabBarChanged.emit({tab:this.selectedTab})}}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await g((async(t,e)=>{if(t===false&&e!==undefined){await e}this.keyboardVisible=t}))}disconnectedCallback(){if(this.keyboardCtrl){this.keyboardCtrl.destroy()}}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:t,translucent:e,keyboardVisible:i}=this;const n=p(this);const r=i&&this.el.getAttribute("slot")!=="top";return o(s,{key:"3a8595dd83f89e8319471a7a7f9f64b2565b384c",role:"tablist","aria-hidden":r?"true":null,class:m(t,{[n]:true,"tab-bar-translucent":e,"tab-bar-hidden":r})},o("slot",{key:"8b65eceb922f6abfa15f41046261586fb94b981f"}))}get el(){return i(this)}static get watchers(){return{selectedTab:["selectedTabChanged"]}}};W.style={ios:A,md:R};const O=":host{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;flex:1;contain:layout size style}";const G=O;const _=class{constructor(o){t(this,o);this.ionNavWillLoad=e(this,"ionNavWillLoad",7);this.ionTabsWillChange=e(this,"ionTabsWillChange",3);this.ionTabsDidChange=e(this,"ionTabsDidChange",3);this.transitioning=false;this.onTabClicked=t=>{const{href:e,tab:o}=t.detail;if(this.useRouter&&e!==undefined){const t=document.querySelector("ion-router");if(t){t.push(e)}}else{this.select(o)}};this.selectedTab=undefined;this.useRouter=false}async componentWillLoad(){if(!this.useRouter){this.useRouter=!!document.querySelector("ion-router")&&!this.el.closest("[no-router]")}if(!this.useRouter){const t=this.tabs;if(t.length>0){await this.select(t[0])}}this.ionNavWillLoad.emit()}componentWillRender(){const t=this.el.querySelector("ion-tab-bar");if(t){const e=this.selectedTab?this.selectedTab.tab:undefined;t.selectedTab=e}}async select(t){const e=D(this.tabs,t);if(!this.shouldSwitch(e)){return false}await this.setActive(e);await this.notifyRouter();this.tabSwitch();return true}async getTab(t){return D(this.tabs,t)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:undefined)}async setRouteId(t){const e=D(this.tabs,t);if(!this.shouldSwitch(e)){return{changed:false,element:this.selectedTab}}await this.setActive(e);return{changed:true,element:this.selectedTab,markVisible:()=>this.tabSwitch()}}async getRouteId(){var t;const e=(t=this.selectedTab)===null||t===void 0?void 0:t.tab;return e!==undefined?{id:e,element:this.selectedTab}:undefined}setActive(t){if(this.transitioning){return Promise.reject("transitioning already happening")}this.transitioning=true;this.leavingTab=this.selectedTab;this.selectedTab=t;this.ionTabsWillChange.emit({tab:t.tab});t.active=true;return Promise.resolve()}tabSwitch(){const t=this.selectedTab;const e=this.leavingTab;this.leavingTab=undefined;this.transitioning=false;if(!t){return}if(e!==t){if(e){e.active=false}this.ionTabsDidChange.emit({tab:t.tab})}}notifyRouter(){if(this.useRouter){const t=document.querySelector("ion-router");if(t){return t.navChanged("forward")}}return Promise.resolve(false)}shouldSwitch(t){const e=this.selectedTab;return t!==undefined&&t!==e&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return o(s,{key:"239bdb2ff2ec5cfcc74c51812cf6240f48acc617",onIonTabButtonClick:this.onTabClicked},o("slot",{key:"2b266d0f87c7c82e992fe0d9b5c8f25569b118e3",name:"top"}),o("div",{key:"4cbbd010f0b0b1cd82714db7d098d28fab6d5218",class:"tabs-inner"},o("slot",{key:"72b2a02cd29d5b30e47758f3d6daaa1021916256"})),o("slot",{key:"25494076dbbf7606d477b44f1b969719e7b4a805",name:"bottom"}))}get el(){return i(this)}};const D=(t,e)=>{const o=typeof e==="string"?t.find((t=>t.tab===e)):e;if(!o){console.error(`tab with id: "${o}" does not exist`)}return o};_.style=G;export{S as ion_nav,B as ion_tab,W as ion_tab_bar,_ as ion_tabs};