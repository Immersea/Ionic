import{r as t,h as e}from"./p-cbe60c68.js";import{J as a,F as o,i as s,l as c}from"./p-7ea622ea.js";import{l as i}from"./p-1af05547.js";import{T as r}from"./p-ba5b5ce2.js";import"./p-6c93b3f7.js";import"./p-e9c4f463.js";import"./p-5d8b2afa.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const p="page-contacts{}";const n=p;const d=class{constructor(e){t(this,e);this.contactsList=[];this.filteredContactsList=[];this.loading=true}componentWillLoad(){a.contactsList$.subscribe((async t=>{const e=[];t.map((t=>{const a=i.exports.cloneDeep(t);const s=o.getCustomersDetails(t.customerId);if(s){a.customerId=s.fullName;e.push(a)}}));this.contactsList=e;this.loading=false}))}componentDidLoad(){}addContact(){a.presentContactUpdate()}render(){return[e("ion-header",{key:"4f7272dc0b330951b2587c3cf0870c77d66bf9e3"},e("app-navbar",{key:"3a8ce3a7e403cdb3d3fc9e9e2a819833fa5b4bba",tag:"contacts",text:"Contacts",color:"trasteel"}),e("app-search-toolbar",{key:"961fc68045ada0936067a3e24ce40498c621c749",searchTitle:"contacts",list:this.contactsList,orderFields:["lastName","firstName"],color:"trasteel",placeholder:"Search by name",filterBy:["lastName","firstName","customerId"],onFilteredList:t=>this.filteredContactsList=t.detail})),e("ion-content",{key:"537b17c9ce9b65538c1293b3230015d99b969ee0"},r.isCustomerDBAdmin()?e("ion-fab",{vertical:"top",horizontal:"end",slot:"fixed",edge:true},e("ion-fab-button",{onClick:()=>this.addContact(),color:"trasteel"},e("ion-icon",{name:"add"}))):undefined,e("app-infinite-scroll",{key:"f8853f6694386c45c9e8180a2f388caa3739cd6f",list:this.filteredContactsList,loading:this.loading,showFields:["lastName","firstName"],returnField:"id",groupBy:["customerId"],icon:s.getMapDocs(c).icon.name,onItemClicked:t=>a.presentContactDetails(t.detail)}))]}};d.style=n;export{d as page_contacts};