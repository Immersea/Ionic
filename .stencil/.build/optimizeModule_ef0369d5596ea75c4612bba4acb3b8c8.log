import{r as e,h as t,H as a,f as i}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{a as s,n as d}from"./p-c2915cc5.js";import{E as o}from"./p-26083a07.js";import{T as c,U as n}from"./p-436f9b66.js";import{b as f}from"./p-d2a582b5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-1af05547.js";import"./p-e9c4f463.js";const l="modal-user-teams-update ion-list{width:100%}";const r=l;const b=class{constructor(t){e(this,t);this.user=undefined;this.usersTeams=undefined;this.userIndex=undefined;this.userTeams=undefined;this.updateView=false}async componentWillLoad(){this.usersTeams=await c.getUsersTeams();this.userIndex=this.usersTeams.usersTeams.length>0?this.usersTeams.usersTeams.findIndex((e=>e.uid===this.user.uid)):-1;if(this.userIndex<0){this.userTeams=new n(this.user)}else{this.userTeams=this.usersTeams.usersTeams[this.userIndex]}}async addTeam(){let e=[];let t=Object.keys(f);t.forEach((t=>{if(!this.userTeams.teams.includes(t)){e.push({text:t,handler:()=>{this.userTeams.teams.push(t);this.updateView=!this.updateView}})}}));e.push({text:"Close",icon:"close",role:"cancel",handler:()=>{}});const a=await s.create({header:"Add",buttons:e});await a.present()}async deleteTeam(e){this.userTeams.teams.splice(e);this.updateView=!this.updateView}async save(){if(this.userIndex>=0){this.usersTeams.usersTeams[this.userIndex]=this.userTeams}else{this.usersTeams.usersTeams.push(this.userTeams)}c.updateUsersTeams(this.usersTeams);d.dismiss()}async cancel(){return d.dismiss()}render(){return t(a,{key:"3bf1a1833ebc099b8cdbb0a5cf378baf6e5f3064"},t("ion-header",{key:"a125a2dcd4f39ed9a1b6b38c5577bb10a2f41982"},t("ion-toolbar",{key:"14fdbf43a7a8e25a7f9529ae52e00e06f52e4d19",color:"trasteel"},t("ion-title",{key:"60373c9c3e1869ef8fe73179197e9c313b9af431"},"USER TEAMS MANAGER"))),t("ion-content",{key:"3d7bc844a9446f0f944749b7b2f63d384e32f517"},t("ion-list",{key:"2f2a86f93f84bcf3bc81e6f5182da9cda726211d"},t("ion-item",{key:"d3c2ce32212f9b33effe4657d5506bf66850bad2"},this.user.email),t("ion-item-divider",{key:"e5918d7786e7ad6d104dfc3695183e643a6c72b6"},t("ion-label",{key:"088f1f1975cdeaca00376ea8132b04a6685f8bf1"},t("my-transl",{key:"544e5a40bed954d2b28b2039a7353a2d519410cb",tag:"teams",text:"Teams"}))),this.userTeams.teams.map(((e,a)=>t("ion-item",null,t("ion-label",null,e),t("ion-button",{slot:"end",fill:"clear",onClick:()=>this.deleteTeam(a)},t("ion-icon",{name:"trash",color:"danger"}))))),t("ion-button",{key:"7aae28ff22022da8dc0d98af005e8de1ba4ac22b",color:"trasteel",fill:"outline",expand:"full",onClick:()=>{this.addTeam()}},t("ion-icon",{key:"d3b8e8788d6cdb3d5b00a771978a31e87c81343e",name:"add",slot:"start"}),t("ion-label",{key:"d8936fda60c18869e3c8f04850d98e6ef86dcf1d"},t("my-transl",{key:"c5fd6a4e6d711ad05e443c9985b388850a07a2a3",tag:"add-team",text:"Add Team"}))))),t("app-modal-footer",{key:"7a8727e5cb80079cddae009bd0e9dd43f27a36b3",color:o.getAppColor(),onCancelEmit:()=>this.cancel(),onSaveEmit:()=>this.save()}))}get el(){return i(this)}};b.style=r;export{b as modal_user_teams_update};