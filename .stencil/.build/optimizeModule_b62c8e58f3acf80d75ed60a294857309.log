import{r as e,h as a,f as c}from"./p-cbe60c68.js";import{O as d,aq as i,Q as t,h as f,b,U as s,ai as o,R as n,aO as l}from"./p-9424d4f6.js";import{S as r}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const y="page-dive-site-details{}";const k=y;const p=class{constructor(a){e(this,a);this.markers=[];this.siteid=undefined;this.diveSite=undefined;this.diveTrips=undefined;this.divingCenters=undefined;this.titles=[{tag:"map"},{tag:"information"},{tag:"dive-profiles"},{tag:"diving-centers"},{tag:"next-trips",text:"Next Dive Trips"}];this.segment=0;this.slider=undefined}async componentWillLoad(){this.diveSite=await d.getDiveSite(this.siteid);this.diveTrips=await i.getTripsSummary(t,this.siteid);this.divingCenters=d.loadSiteDivingCenters(this.diveSite);let e=f.getMapDocs()[t].icon;e.size="large";let a=f.getMapDocs()[b].icon;a.size="small";this.markers.push({icon:e,latitude:this.diveSite.position.geopoint.latitude,longitude:this.diveSite.position.geopoint.longitude});this.divingCenters.siteDivingCenters.forEach((e=>{this.markers.push({name:e.displayName,icon:a,latitude:e.position.geopoint.latitude,longitude:e.position.geopoint.longitude})}));this.userRoles=s.userRoles}async componentDidLoad(){this.slider=new r(".slider-dive-site",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});await customElements.whenDefined("app-map");this.mapElement=this.el.querySelector("#map");const e=this.el.querySelector("#map-container");e.setAttribute("style","height: "+o(this.diveSite)+"px");this.mapElement["mapLoaded"]().then((()=>{this.mapElement.triggerMapResize();this.setLinesForDiveSite()}));this.setLinesForDiveSite();this.mapElement.triggerMapResize();if(d.showNewDivePlans){this.segment=2}else{this.segment=0}}setLinesForDiveSite(){this.mapElement.triggerMapResize();const e=[this.diveSite];this.divingCenters.siteDivingCenters.forEach((async a=>{e.push(a);this.mapElement["createLine"](a.id,this.diveSite,a)}));this.mapElement["fitToBounds"](e)}render(){return[a("ion-header",{key:"4c2ef46f32266ccb4bf2469319df8cf19ad196d0"},a("app-item-cover",{key:"e216aad3cecef150d4a6f64ef86b54cb7043ae2d",item:this.diveSite})),a("ion-header",{key:"530f0ecb7d0211fbd7f7d9ba3c48c483f161e69e"},a("ion-toolbar",{key:"18ee9a2e7ac6516b5332ff921738fbe7006c8533",color:"divesite",class:"no-safe-padding"},this.diveSite&&!this.diveSite.coverURL?a("ion-buttons",{slot:"start"},a("ion-button",{onClick:()=>n.goBack(),"icon-only":true},a("ion-icon",{name:"arrow-back"}))):undefined,a("ion-title",{key:"565e6233fef8ab2461220356a34d93760fd7d6d3"},this.diveSite.displayName))),a("app-header-segment-toolbar",{key:"cd84858741ce1a13cef6266082580f08e7a62d65",color:"divesite",swiper:this.slider,titles:this.titles}),a("ion-content",{key:"ca04c1dfcc555d2b97dc539d87963699718dff9b",class:"slides"},a("ion-fab",{key:"be63f0390c41bf97c5d27ee3c52f5099f980877c",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:l(2)}},a("ion-fab-button",{key:"a6a6d238ab009de6cc805bbb802e319f632104ba",onClick:()=>n.goBack(),class:"fab-icon"},a("ion-icon",{key:"83bb775dbb1224e9b49c7ee7d56d1e2b10969915",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"c87c2d5b91a66c297c97d272587490a1acb1ef85",class:"slider-dive-site swiper"},a("swiper-wrapper",{key:"fe824cefa588fadd878ecd7aaba8a81d7cc6687a",class:"swiper-wrapper"},a("swiper-slide",{key:"cd1f6bd2ca5f04a5a56d7be3a26156d271d62654",class:"swiper-slide"},a("ion-list",{key:"db87a3408722bf2ab083675686495632aaaa2e6e",class:"ion-no-padding"},a("ion-list-header",{key:"57f7f0d7f9d35d3ad44e1c47a1f89abb6be38d2b"},a("ion-label",{key:"3d73cafbb5436657345628509ea7b38d39acda1e",color:"divesite"},a("my-transl",{key:"13ec030f094494a026bd70a4374cb710f164c311",tag:"general-information",text:"General Information"}))),a("ion-item",{key:"70df024acd98111b5023a74d52b3e32454d869f0"},a("ion-label",{key:"070f68eb55c103fdb3c2683bb3a4058a1819a4d1",class:"ion-text-wrap"},a("ion-text",{key:"ee683a69b58e3b08326355f6a1116e1eb6ccfde7",color:"divesite"},a("h3",{key:"db50cc7b04180cb5dc97a4cd86fb7c069068323f"},a("my-transl",{key:"35c0baadfee27e9ac91851a48db2ee5d0bcbbda9",tag:"site-type",text:"Site Type"}))),a("ion-text",{key:"d339c48383f0d40853500d10363b5a2951d4a324",color:"dark"},a("p",{key:"672385c5fa138e1c3b70b39117dc92dc63079385"},d.getSiteTypeName(this.diveSite.type))))),a("ion-item",{key:"4e2eb5fd8855373ca399c745870b0d6c84a76da4"},a("ion-label",{key:"12e41f2c30568d8d0bb6bcf746fcac59cc17665d",class:"ion-text-wrap"},a("ion-text",{key:"e7a6ba6cd7c8ee27b1412f8d600c4dacf7115270",color:"dark"},a("p",{key:"bce06989f6886669782bd849275fa3c50cbad9e5"},this.diveSite.description)))),a("ion-list-header",{key:"1aa108d2b6e47cb102caa7647fbe726f470c5708"},a("ion-label",{key:"fe14706963d85ccc262c2f9c887afd9743b1a673",color:"divesite"},a("my-transl",{key:"617045cdd8ca4560847bfa097d0e81c2e6a516aa",tag:"site-details",text:"Site Details"}))),a("ion-item",{key:"a335be236d72d37ff898f5d6978fd15da670ec1e"},a("ion-label",{key:"141768c9d042043ada6e649e27aa0e808db1c6a8",class:"ion-text-wrap"},a("ion-text",{key:"62a482297a87a4d73f6c42482dc06d1f6f5bd96b",color:"divesite"},a("h3",{key:"d3de2e13010080cf5767358fb6c9aa2eb44c4015"},a("my-transl",{key:"e485c31970353778d9778f84f2c9fe2e5dc4ff09",tag:"entry-type",text:"Entry Type"}))),a("ion-text",{key:"0b4c4f54e860152489f4a79bf6ede8c5f84a7919",color:"dark"},a("p",{key:"544b4268ea30919a91f832cd7833f036f513ed69"},d.getEntryTypeName(this.diveSite.information.entryType))))),a("ion-grid",{key:"74621525e403a057f1ed71cdea8f1e989acd9cbd",class:"ion-no-padding"},a("ion-row",{key:"6699959a0658dce51a0d1f4c490b74899d9c88f0"},a("ion-col",{key:"6b811f2bc1ee877525dcb18bee0f2c531b5ffcaa"},a("ion-item",{key:"8d5c47a70eaef4e45396188a40757526596e3711"},a("ion-label",{key:"9b26166595aa099419ecb9e4bdca59ae87efde66",class:"ion-text-wrap"},a("ion-text",{key:"f4bb4ac2e7e151a74b262bb8688ccf9aded29a3f",color:"divesite"},a("h3",{key:"af54c17b1d50736098c193772952fd5df6d4e260"},a("my-transl",{key:"54e77aadcccfb15b2765a8984b8352c37f494c88",tag:"min-depth",text:"Min. Depth"}))),a("ion-text",{key:"5aa700ed85ae3dcb5183a7ad84c8e32a21b5a6e4",color:"dark"},a("p",{key:"cd770b57cb3a370e439547fdc6b3020a55132636"},this.diveSite.information.minDepth," m"))))),a("ion-col",{key:"4bab2acc10e84037a14b01f805be66386a511b91"},a("ion-item",{key:"1ace6645f8e1303c08d975aad82e6e2a29a42e1e"},a("ion-label",{key:"a2b890b19a901751308387122b1040d242535b12",class:"ion-text-wrap"},a("ion-text",{key:"77c84ca1b65f6d0d0f2755918096ab75d6f5d311",color:"dark"},a("ion-text",{key:"38e2113e7f2cd5e040216536459bc6c5b2133be2",color:"divesite"},a("h3",{key:"15b23986bdd9303e8291c3910fe3517b37404f53"},a("my-transl",{key:"e778a44580fd032943a704e8df42be2ad46a6925",tag:"max-depth",text:"Max. Depth"}))),a("p",{key:"32a289f94428d2109542a494fe7771a6e4ddae5f"},this.diveSite.information.maxDepth," m"))))))),a("ion-item",{key:"b97c3fccb06b813d0d017391c47fc209a5add832"},a("ion-label",{key:"93ef1b2204311f05443009e9f38f07f45f31c711",class:"ion-text-wrap"},a("ion-text",{key:"d33c4f498cfc9523f1a3eef2b954e567c6a07511",color:"divesite"},a("h3",{key:"a5aedf904dc75ae8c8f753b444138cde2963a0cc"},a("my-transl",{key:"e47ce46898ed1d03b4acc728639606090ec10229",tag:"avg-vis",text:"Average Visibility"}))),a("ion-text",{key:"2fdee34b17d97d24a892d7264ffcb3f82ffcd2df",color:"dark"},a("p",{key:"9425030524af1b9170d1ab33b1e1acb86061bf55"},this.diveSite.information.avgViz," m")))),a("ion-list-header",{key:"41b1dbe27ea0a8aaff508b740ea41476ce67437e"},a("ion-label",{key:"840eb1266b63c7eff406f4fe7249e240c4184d00",color:"divesite"},a("my-transl",{key:"ca6e4f8eebf2f5c57b609a0d9de727c1e56f1382",tag:"water-temp",text:"Water Temperature"}))),a("ion-grid",{key:"dde2c84e3d4e9006cd2941e4610bb08019aba016",class:"ion-no-padding"},a("ion-row",{key:"a0c9093dd9649b54e007ca73563bfe45d01c8d8d"},a("ion-col",{key:"dcd0d52308993b938650e7e6e70818d331fea1db"},a("ion-item",{key:"3f63405908dfa5e367bf16448317a5839ac53420"},a("ion-label",{key:"79c05b31ede5e96ae1a5e3a715fc323c4515226e",class:"ion-text-wrap"},a("ion-text",{key:"25588fbc90c1f100a484332dfa0f2b87b7e021c1",color:"divesite"},a("h3",{key:"446c57ee8db597ebcb8b59bad9bb010b869eeb7a"},a("my-transl",{key:"b8c47b88f13c0e85736f25292aca8bc9735f481b",tag:"spring",text:"Spring"}))),a("ion-text",{key:"c2963d5c3d3a49f7df9240d2c624cdecac8ddf37",color:"dark"},a("p",{key:"bb6d222289fffbda3776ae162768ec3c740709c4"},this.diveSite.information.waterTemp.spring," °C"))))),a("ion-col",{key:"3f4b316070f8fdbde07983a9be5dad50116488ac"},a("ion-item",{key:"6081fb165b772027bcd7657fb514d9433d448231"},a("ion-label",{key:"de260680b4ba3ce85c57cf5e15ee21e44524055d",class:"ion-text-wrap"},a("ion-text",{key:"827191a523514562fb49c4353968d95dec5b6228",color:"divesite"},a("h3",{key:"efe091780d2dab7155104eb3a8c37ba20aac9655"},a("my-transl",{key:"6edcbb3df4a8dd33dea470ea4575bd599c396c72",tag:"summer",text:"Summer"}))),a("ion-text",{key:"35f3de5fb5f5bba03608b65ba2de8ccfb4f823ee",color:"dark"},a("p",{key:"1e1fa97e1a2f6e8458e271be1880350f86faeb2a"},this.diveSite.information.waterTemp.summer," °C")))))),a("ion-row",{key:"03a8321acff3d2ace35fc6e7811e738799ba66be"},a("ion-col",{key:"210644a279c40c0df1e98e58ce6af2ac916ae59c"},a("ion-item",{key:"5d4ecba01cd21f6130f72ea68a4efb684de59f90"},a("ion-label",{key:"5b7560b29d0e473a3fc5d1c3e7e24fa47272df22",class:"ion-text-wrap"},a("ion-text",{key:"715060f12fa783c3ed78185e0cc47748feb3e50c",color:"divesite"},a("h3",{key:"97762e7f628be7c4aec89cfe9022fcc777ba8156"},a("my-transl",{key:"fe2f459204e078591624d811c17fde8cd3347820",tag:"autumn",text:"Autumn"}))),a("ion-text",{key:"ba48ca5497db35a66ef1b0b8f995955d08bdd1df",color:"dark"},a("p",{key:"1b060c5d930f6ce948c56c48d8c352d6f59882ec"},this.diveSite.information.waterTemp.autumn," °C"))))),a("ion-col",{key:"9a2766525aa1b5f6232238f68424ce16608624fc"},a("ion-item",{key:"3471c82d9931d9d78fdceeecd6e50ddb780f8f35"},a("ion-label",{key:"dea38bb032d186715bd697a128cacb70800b1aee",class:"ion-text-wrap"},a("ion-text",{key:"1af4bd8adfea334f75a62f4fbd07597ff931d4e7",color:"divesite"},a("h3",{key:"d4a7fcec4e4f6c2b42718b9d17f4ff24a75c1726"},a("my-transl",{key:"7d05c7fa1864a53e0d51e6d44f4eccbe545d2a48",tag:"winter",text:"Winter"}))),a("ion-text",{key:"3f8e8f74e331fb7579f281eceba4a74c407beb09",color:"dark"},a("p",{key:"4a4dc463c99f7896b3063c4bb782460c0df2a7c5"},this.diveSite.information.waterTemp.winter," °C"))))))),this.diveSite.information.seabedComposition?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-comp",text:"Seabed Composition"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedComposition.map((e=>a("p",null,d.getSeabedCompositionName(e))))))):undefined,this.diveSite.information.seabedCover?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-cover",text:"Seabed Cover"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedCover.map((e=>a("p",null,d.getSeabedCoverName(e))))))):undefined)),a("swiper-slide",{key:"31292fec29b6e188521ca42737cdd3caafaf5f6e",class:"swiper-slide"},a("div",{key:"c03371d6d7ff3fe4faa698ebce3a03bb17b74c46",id:"map-container"},a("app-map",{key:"edeac7b2eea8a07f7376a1f63cfc4cccb3fb9dbb",id:"map",pageId:"dive-site-details",center:this.diveSite,markers:this.markers}))),a("swiper-slide",{key:"45e965cd0a2d0c4878895a49d359aedd7d49688b",class:"swiper-slide"},a("ion-grid",{key:"dcd7a6d7faca898540afaac1c368a08f504df3af"},a("ion-row",{key:"f7f0043f2307ac5cf0ed34041fa9a900ec9695be",class:"ion-text-start"},this.diveSite.divePlans.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-dive-plan-card",{divePlan:e,edit:false}))))))),a("swiper-slide",{key:"953c4fbfe75adbbb4053a534078973233f9c7541",class:"swiper-slide"},a("ion-grid",{key:"10b9e94b92873dfc1368337febfbc81c4138f567"},a("ion-row",{key:"4611627c43c3b72fba31d7fe9c76d4ba5a4b2cef",class:"ion-text-start"},this.diveSite.divingCenters.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-diving-center-card",{divingCenterId:e,startlocation:this.diveSite}))))))),a("swiper-slide",{key:"dd1b8e02f47b6ad03f232992ab493e798a71c618",class:"swiper-slide"},a("app-calendar",{key:"8a21cb52389c557a53251eb7fb0487fd6ab6234a",calendarId:"dive-site-calendar",addEvents:{trips:this.diveTrips}})))))]}get el(){return c(this)}};p.style=k;export{p as page_dive_site_details};