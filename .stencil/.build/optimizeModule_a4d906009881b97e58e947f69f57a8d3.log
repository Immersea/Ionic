import{r as e,h as a,f as t}from"./p-cbe60c68.js";import{S as i}from"./p-a75993af.js";import{T as c,S as o,_ as s,E as n,W as d,aP as l,R as f}from"./p-c24c8a77.js";import{T as r}from"./p-169038af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const b="page-contact-details{}";const p=b;const h=class{constructor(a){e(this,a);this.itemId=undefined;this.contact=undefined;this.segment="information";this.slider=undefined}async componentWillLoad(){await this.loadContact();this.segmentTitles={information:c.getTransl("information","Information")}}async loadContact(){await o.presentLoading("loading");try{this.contact=await s.getContact(this.itemId)}catch(e){}o.dismissLoading()}async componentDidLoad(){this.slider=new i(".slider-contact",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}async editContact(){const e=await s.presentContactUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadContact()))}segmentChanged(e){if(e.detail.value){this.segment=e.detail.value;this.slider.update();switch(this.segment){case"information":this.slider.slideTo(0);break}}}updateSlider(){setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}render(){return[this.contact.coverURL||this.contact.photoURL?a("ion-header",null,a("app-item-cover",{item:this.contact})):undefined,a("ion-header",{key:"36553c080693130c6f068f3aff6c433b6fa271eb"},a("app-navbar",{key:"e08de27028407c728d964f9ebb045496c924fc52",text:this.contact.lastName+" "+this.contact.firstName,color:"trasteel",backButton:this.contact&&!this.contact.coverURL&&!this.contact.photoURL,rightButtonText:r.isCustomerDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editContact()})),a("ion-header",{key:"3dc6d0c5d7e874db2fd592fe6e9f758afc040e0a"},a("ion-toolbar",{key:"023fc98b22ad4aca9eb4068aebd04d699fe09809"},a("ion-segment",{key:"d9f1b8a074b278faa60dc07a6cca15cef41032c5",mode:"md",color:n.getAppColor(),scrollable:true,onIonChange:e=>this.segmentChanged(e),value:this.segment},a("ion-segment-button",{key:"4d01ce7522efceec2f29bd9feea20b1d5c970835",value:"information",layout:"icon-start"},a("ion-label",{key:"c7002f8b59763b0e0d890a4fb0d31d0eb6811828"},this.segmentTitles.information))))),a("ion-content",{key:"c803ad094405a4bdccf000af2fcd6d889b1533ab",class:"slides"},a("ion-fab",{key:"883bd2cdc75335d860a67c79127a1d424f5c2ab8",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:l(2)}},a("ion-fab-button",{key:"64655f272273c6ac285a6939b42da759d6910c25",onClick:()=>f.goBack(),class:"fab-icon"},a("ion-icon",{key:"c18beb9a582bac8f7b9f1b88c9198fab6fe2a9aa",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"d5771b3bc385cd66c8f388c73db04e8f243d7a4f",class:"slider-contact swiper"},a("swiper-wrapper",{key:"dffaf8621e38a98e1c97ee7993dcd38c5cd8839f",class:"swiper-wrapper"},a("swiper-slide",{key:"13801687eca412f52042ed77f31f199bfb8d6083",class:"swiper-slide"},a("ion-list",{key:"c8a77e175bb9c40bfc9efefb2cf01109493826b1",class:"ion-no-padding"},a("ion-list-header",{key:"c9ec95bcc137a5f7c206570d36c44e81fc9d0bbd"},a("my-transl",{key:"b3202665eaab3b09d7df7d6c89c1d697a64fad22",tag:"general-information",text:"General Information",isLabel:true})),a("app-item-detail",{key:"cc5ec1c492a3fdc03153d1d9a507b7d4e4e24fb6",lines:"none",labelTag:"customer",labelText:"Customer",detailText:this.contact.customerId&&d.getCustomersDetails(this.contact.customerId)?d.getCustomersDetails(this.contact.customerId).fullName:null}),a("app-item-detail",{key:"1596a492ab7073b7d1ebc7f3d1ce1c628ad6c192",lines:"none",labelTag:"location",labelText:"Location",detailText:this.contact.customerLocationId&&d.getLocationsTypes(this.contact.customerLocationId)?d.getLocationsTypes(this.contact.customerLocationId)[0].locationName:null}),a("app-form-item",{key:"0080590283e4310aa05495b2822751faacd62eae","label-tag":"name","label-text":"Name",value:this.contact.firstName,"read-only":true}),a("app-form-item",{key:"8810e9538fea4a5dcb376a3625543ffe1284a53c","label-tag":"surname","label-text":"Surname",value:this.contact.lastName,"read-only":true}),a("app-form-item",{key:"1c5bbf5613898991d88355ada11eea03fcfbf269","label-tag":"work-position","label-text":"Work Position",value:this.contact.workPosition,"read-only":true}),a("app-form-item",{key:"44710142803bd066a3bd1774292193cead38290b","label-tag":"office-phone","label-text":"Office Phone",value:this.contact.officePhone,"read-only":true}),a("app-form-item",{key:"8d3b73c4a2c65b6f832a68647528dbab22d59b1f","label-tag":"mobile-phone","label-text":"Mobile Phone",value:this.contact.mobilePhone,"read-only":true}),a("app-form-item",{key:"36f6911b2d364520913f52ddce0bc1dded12c764","label-tag":"email","label-text":"Email",value:this.contact.email,"read-only":true}))))))]}get el(){return t(this)}};h.style=p;export{h as page_contact_details};