import{r as e,h as i,H as s,f as t}from"./p-cbe60c68.js";import{U as a,b as c,c as n,d as o,e as d,f as r,g as l,a8 as p,ay as f,R as b}from"./p-364f0bff.js";import{S as h}from"./p-a75993af.js";import{E as m}from"./p-be6a132e.js";import"./p-66796388.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const g="page-client-details .cover{height:var(--coverHeight)}page-client-details ion-segment-button{--color-checked:var(--ion-color-clients-contrast)}page-client-details ion-badge{margin-top:-15px;margin-left:10px;font-size:10px}page-client-details app-admin-dive-trips,page-client-details app-admin-diving-classes{width:100%}page-client-details .card-message{width:90%;min-height:150px}page-client-details .card-message ion-title{padding-top:60px}";const y=g;const u=class{constructor(i){e(this,i);this.clientId=undefined;this.clientData=undefined;this.userProfile=undefined;this.counters={classes:0,trips:0,invoices:0};this.titles=[{tag:"details"},{tag:"dive-trips"},{tag:"diving-classes"},{tag:"invoices"}];this.slider=undefined}async componentWillLoad(){this.userProfile=await a.getPublicProfileUserDetails(this.clientId);const e=b.pageTo;if(e.includes(c.toLowerCase())){this.clientData=n.selectedDivingCenterClients[this.clientId];this.organiserId=n.selectedDivingCenterId}else if(e.includes(o.toLowerCase())){this.clientData=d.selectedDivingSchoolClients[this.clientId];this.organiserId=d.selectedDivingSchoolId}else if(e.includes(r.toLowerCase())){this.clientData=l.selectedServiceCenterClients[this.clientId];this.organiserId=l.selectedServiceCenterId}this.counters={classes:this.clientData.classes?Object.keys(this.clientData.classes).length:0,trips:this.clientData.trips?Object.keys(this.clientData.trips).length:0,invoices:this.clientData.invoices?Object.keys(this.clientData.invoices).length:0};this.titles[1]["badge"]=this.counters.trips;this.titles[2]["badge"]=this.counters.classes;this.titles[3]["badge"]=this.counters.invoices}async componentDidLoad(){this.setSliderHeight()}setSliderHeight(){this.slider=new h(".slider-client",{speed:400,spaceBetween:100,allowTouchMove:true,autoHeight:true});const e=Array.from(this.el.getElementsByClassName("slide-container"));e.map((e=>{e.setAttribute("style","height: "+p(this.userProfile)+"px")}))}render(){return i(s,{key:"713fc62117452c0e0f74ad962faa3e50b342e2f1"},i("ion-header",{key:"598a260fba44083502ada278163899bcb0388a51",class:"cover"},i("app-item-cover",{key:"3c5652e02fab67fdb8eaae82de1352b7ef8bf9be",item:this.userProfile})),i("ion-header",{key:"245810e7056d1fae2d8a397ea58987ec387db1ec"},i("ion-toolbar",{key:"3e53498fb8d507f1e4924e64fa63f9b61f9b631e",color:"clients"},this.userProfile&&!this.userProfile.coverURL?[i("ion-buttons",{slot:"start"},i("ion-button",{onClick:()=>b.goBack(),"icon-only":true},i("ion-icon",{name:"arrow-back"})))]:undefined,i("ion-title",{key:"6b3481130db73a4e021b0ea6d378b6c6f44da8fb"},this.userProfile.displayName))),i("app-header-segment-toolbar",{key:"309ae492fea6e209b8f27c99ab0f3d29b237ed66",color:m.getAppColor(),swiper:this.slider,titles:this.titles}),i("ion-content",{key:"8b6a6250573005e26e44121664c199424df8aeef",class:"slides"},this.userProfile&&this.userProfile.coverURL?i("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:f(2)}},i("ion-fab-button",{onClick:()=>b.goBack(),class:"fab-icon"},i("ion-icon",{name:"arrow-back-circle-outline"}))):undefined,i("swiper-container",{key:"d443d9c2b7d76705ccf4eafc4ba4be8ea9510404",class:"slider-client swiper"},i("swiper-wrapper",{key:"55fa393fd15a7df77714524fe4c60b00b47c8bbc",class:"swiper-wrapper"},i("swiper-slide",{key:"4af4a2be2608e67c9115fd57759bb4f7410044f2",class:"swiper-slide"},i("ion-content",{key:"afeb3586d2399e1a069ac5b7286b08422145a829",class:"slide-container"},i("app-public-user",{key:"6678f44c3fe202dac7c0af546c62da8212627f1d",userProfile:this.userProfile}))),i("swiper-slide",{key:"dd81c25e4af4d5d8ca55e87cd344ac39226ee83c",class:"swiper-slide"},i("ion-content",{key:"65b822dcc0af5b4eafef6cceb9359b06c9b0b36f",class:"slide-container"},this.clientData&&this.clientData.trips&&Object.keys(this.clientData.trips).length>0?i("app-admin-dive-trips",{filterByOrganisierId:this.organiserId,filterByTrips:this.clientData.trips}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-trips",text:"No Diving Trips"}))))),i("swiper-slide",{key:"da155e627e7737dc896ec6826f40b0bdcc6cf23f",class:"swiper-slide"},i("ion-content",{key:"0d442e285407b3b39ae450e5dd9c082d9acb561a",class:"slide-container"},this.clientData&&this.clientData.classes&&Object.keys(this.clientData.classes).length>0?i("app-admin-diving-classes",{filterByOrganisierId:this.organiserId,filterByClasses:this.clientData.classes}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-classes",text:"No Diving Classes"}))))),i("swiper-slide",{key:"56f91f2d15279010af6264bd05473d3ec24f600b",class:"swiper-slide"},i("ion-content",{key:"2a6e6569ead0b68ab80bb2cd4b094e8c555f2a58",class:"slide-container"},this.clientData&&this.clientData.invoices&&Object.keys(this.clientData.invoices).length>0?i("app-admin-client-invoices",null):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-invoices",text:"No Invoices"})))))))))}get el(){return t(this)}};u.style=y;export{u as page_client_details};