import{r as e,h as i}from"./p-cbe60c68.js";import{S as t,R as a,ay as l,E as o,W as s,T as n,a6 as r,aD as d}from"./p-773bd3de.js";import{S as c}from"./p-a75993af.js";import{T as p}from"./p-1d025719.js";import{l as g}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const b="page-project-details ion-grid{--ion-grid-column-padding:0px}page-project-details .separator{background-color:var(--ion-color-trasteel-tint);height:3px}page-project-details .separator ion-col{height:0px !important}page-project-details .positions-box{margin-top:10px;padding-top:5px;padding-right:5px;padding-bottom:5px;padding-left:10px;border:1px solid black}page-project-details #responsive-grid ion-grid{--ion-grid-padding:5px;--ion-grid-column-padding:0px}page-project-details #responsive-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-size:0.75rem;font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #responsive-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #responsive-grid ion-grid .noborder{border:0px}page-project-details #responsive-grid ion-grid ion-col{align-items:center;justify-content:center;text-align:center}page-project-details #responsive-grid ion-grid .ext-row{border:1px solid black}page-project-details #responsive-grid ion-grid .ext-col{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1{border-bottom:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:first-child{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1a{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:last-child{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row2{border-bottom:1px solid black;border-left:0px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row2{border-left:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row2:last-child{border-bottom:0px solid black}page-project-details #responsive-grid ion-grid .inner-col{border-right:1px solid black}page-project-details #responsive-grid ion-grid .button-no-margin{--padding-top:0px;--padding-bottom:0px;--padding-start:5px;--padding-end:5px}@media screen and (min-width: 1100px){page-project-details #responsive-grid ion-grid .button-no-margin{--padding-start:10px;--padding-end:10px}}page-project-details #courses-grid .centered{display:flex;align-items:center;justify-content:center;text-align:center}page-project-details #courses-grid ion-grid{border-collapse:collapse;border-style:hidden}page-project-details #courses-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #courses-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #courses-grid ion-grid ion-col{border:1px solid black;border-bottom:0;border-right:0}page-project-details #courses-grid ion-grid ion-col:last-child{border-right:1px solid black}page-project-details #courses-grid ion-grid ion-row:last-child{border-bottom:1px solid black}";const h=b;const f=class{constructor(i){e(this,i);this.titles=[{tag:"summary",text:"Summary"},{tag:"information",text:"Information"},{tag:"shaped",text:"Shaped",disabled:false},{tag:"unshaped",text:"Unshaped",disabled:false},{tag:"files",text:"Files",disabled:true}];this.itemId=undefined;this.project=undefined;this.updateView=true;this.updateSummary=true;this.allocationAreaSegment=0;this.areaShapes=[];this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadProject()}else{t.dismissLoading();t.presentAlertError("No Item Id");a.goBack()}}async loadProject(e){try{e?this.project=e:this.project=await l.getProject(this.itemId);this.areaShapes=await l.loadShapesForApplication(this.project);await l.checkBricksAllocationAreasForProject(this.project);this.updateSummary=!this.updateSummary;this.titles[2].disabled=this.project.projectAreaQuality.length==0;this.titles[3].disabled=this.project.projectMass.length==0;this.updateSlider()}catch(e){t.dismissLoading();a.goBack();t.presentAlertError(e)}}async componentDidLoad(){t.dismissLoading();this.slider=new c(".slider-detail-project",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}allocationAreaSegmentChanged(e){this.allocationAreaSegment=e.detail.value;this.updateSlider()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editProject(e){const i=await l.presentProjectUpdate(e?e:this.itemId);i.onDidDismiss().then((e=>this.loadProject(e.data)))}render(){return[i("ion-header",{key:"091a738ab210b31024beba60cf38a68cc4c988d6"},i("app-navbar",{key:"281cf3af0a9c90c1e3b0e034bfbc231bea672f6e",text:this.project.projectLocalId,color:"trasteel",backButton:true,rightButtonText:p.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editProject()})),i("app-header-segment-toolbar",{key:"101cccd8e4d772d96168c79fce7ecbb0aa2089df",color:o.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),i("ion-content",{key:"c83dce3704416aeadbd449f0563b2a4987259649",class:"slides"},i("swiper-container",{key:"4ff53a7df995e3b445999cb96dcfbebbf67c7b09",class:"slider-detail-project swiper"},i("swiper-wrapper",{key:"37632434ac47dd1b34e150854597b605baed6210",class:"swiper-wrapper"},i("swiper-slide",{key:"13a904dbe37a05597abeb31bde00daebef7b4512",class:"swiper-slide"},i("app-page-project-summary",{key:"aba310c4df42515517a8e4748436e81c16129223",project:this.project,areaShapes:this.areaShapes,updateSummary:this.updateSummary})),i("swiper-slide",{key:"daa68d13e5fa1f1fd86decc1dbc5d8dfa352c3a9",class:"swiper-slide"},i("ion-list",{key:"8e6941e1c3eeb67d8734aa8f23bf327050891d13",class:"ion-no-padding",id:"project-grid"},i("app-item-detail",{key:"a0a8c88fa7bebee0887a69a1df1504d37be7671f",lines:"none","label-tag":"customer","label-text":"Customer",detailText:this.project.customerId?s.getCustomersDetails(this.project.customerId)?s.getCustomersDetails(this.project.customerId).fullName:null:null}),i("app-item-detail",{key:"a176cc3efa68c02c01a6cb83f0a243da43b2fc73",lines:"none","label-tag":"project-name","label-text":"Project Name",detailText:this.project.projectLocalId}),i("app-item-detail",{key:"8bf071eb2ec2d26a8bc598c74cf217f9c2095d70",lines:"none","label-tag":"technical-docs-caption","label-text":"Technical Docs Caption",detailText:this.project.docsCaption}),i("app-item-detail",{key:"510a59953ec70a50d30ddd815604ccc6b33760e1",lines:"none","label-tag":"project-description","label-text":"Project Description",detailText:this.project.projectDescription}),i("app-item-detail",{key:"65b2f8e6146566fc549837f693c7f172bcd6b89a",lines:"none","label-tag":"drawing-no","label-text":"Drawing No.",detailText:this.project.drawing}),i("ion-grid",{key:"b820199b66c8d7962cd4a59c499858152b778e43"},i("ion-row",{key:"8dcbc5a8c70ddc322d668e1181c492473840840b"},i("ion-col",{key:"72a97a5a10c65ca759cef03086eafd8c9e8e8d64"},i("app-item-detail",{key:"0b62a6f6494c79023b3b7b4385425d66aea5e09f",lines:"none","label-tag":"drawing-date","label-text":"Drawing Date",detailText:this.project.drawingDate,isDate:true})),i("ion-col",{key:"214d2fee7302a4f162be0f13791bd7e342a8d4b0"},i("app-item-detail",{key:"b6ba4c6eda7dc1d955084498bde53a380ae33a22",lines:"none","label-tag":"project-finished-date","label-text":"Project Finished Date",detailText:this.project.finishedDate,isDate:true})))),i("ion-grid",{key:"9077a1016968bbba9818865f906035980765aad5"},i("ion-row",{key:"d10a597afd071fa65c462dd0bde81085bd8d2038"},i("ion-col",{key:"110ea45734a09b01c64e5f66cb30938bf2601180"},i("app-item-detail",{key:"ee74895ed5b26e97a994c8e9d245d923e51f5bbc",lines:"none","label-tag":"capacity","label-text":"Capacity",detailText:g.exports.toString(this.project.steelAmount)})),i("ion-col",{key:"07567d401b648d4b124d1a493d267808760e3ef9"},i("app-item-detail",{key:"77680115f53ceab6f918447cca24fea5e3c2abda",lines:"none","label-tag":"application-unit","label-text":"Application Unit",detailText:l.getApplicationUnits(this.project.applicationId)[0].applicationName.en})))),i("app-item-detail",{key:"e5ffcba6249c6664a8ca5c7530838d7ea570f3bc",lines:"none","label-tag":"steel-amount","label-text":"Steel Amount",detailText:g.exports.toString(this.project.steelAmount)}),i("app-item-detail",{key:"09a8e0fb5ca874216368d5110b8140e672f6d1dd",lines:"none","label-tag":"steel-density","label-text":"Steel Density",appendText:" (g/sm3)",detailText:g.exports.toString(this.project.liquidMetalDensity)}),i("app-item-detail",{key:"f8b44ce71d8f0b37adee8fd8ef905b900e758353",lines:"none","label-tag":"guaranteed-lifetime","label-text":"Guaranteed Lifetime",appendText:" (heats)",detailText:this.project.guaranteedLife}))),i("swiper-slide",{key:"2f013813c1a15647f8a10c84531758df4ee74be0",class:"swiper-slide"},i("div",{key:"855fb3450ef1209bc3b51715c3998c04090128ae"},i("ion-toolbar",{key:"b0e82adef65132e73f4fa1005ee336e870d68a3f"},i("ion-segment",{key:"6f8c7bc62fbc1bc76edbd601ba1e70c92d47e39c",mode:"ios",scrollable:true,onIonChange:e=>this.allocationAreaSegmentChanged(e),value:this.allocationAreaSegment},this.project.projectAreaQuality.map(((e,t)=>i("ion-segment-button",{value:t,layout:"icon-start"},i("ion-label",null,(e.bricksAllocationAreaId?l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en:"")+(e.onlyForRepair?" ("+n.getTransl("repair","Repair")+")":""))))))),this.project.projectAreaQuality.map(((e,t)=>i("div",null,this.allocationAreaSegment==t?i("div",null,i("ion-grid",null,i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"bricks-allocation-area","label-text":"Bricks Allocation Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:r.getDatasheetName(e.datasheetId)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:g.exports.toString(e.density)}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"include-safety","label-text":"Include Safety",appendText:" %",detailText:g.exports.toString(e.includeSafety)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"only-for-repair","label-text":"Only for repair",detailText:e.onlyForRepair}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"comments","label-text":"Comments",detailText:g.exports.toString(e.comments)}))),i("div",{class:"positions-box"},e.shapes?e.shapes.map(((a,l)=>i("ion-row",null,i("ion-col",{size:"3"},i("app-item-detail",{showItem:false,"label-tag":l==0?"position":null,"label-text":l==0?"Position":null,detailText:g.exports.toString(a.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,labelTag:l==0?"shape":null,labelText:l==0?"Shape":null,detailText:d.getShapeName(e.shapes[l].shapeId)})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"radius":null,labelText:l==0?"Radius":null,appendText:l==0?" (mm)":null,detailText:this.areaShapes&&this.areaShapes[t]&&this.areaShapes[t].shapes[l].radius>0?this.areaShapes[t].shapes[l].radius:"-"})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"weight":null,labelText:l==0?"Weight":null,appendText:l==0?" (Kg)":null,detailText:this.areaShapes&&this.areaShapes[t]?this.project.projectAreaQuality[t].shapes[l].specialShapeVolume>0?this.areaShapes[t].shapes[l].getWeightForVolume(this.project.projectAreaQuality[t].shapes[l].specialShapeVolume,e.density):this.areaShapes[t].shapes[l].getWeight(e.density):"-"}))))):undefined)),i("div",{id:"responsive-grid"},i("ion-grid",null,i("ion-row",{class:"header ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("course","Course")),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("start","Start")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("end","End")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("radius","Radius")+" (mm)"))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},"Pos. "+e.shapes.map((e=>e.position))),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("quantity","Quantity")),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("sum","Sum")),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("repair-sets","Repair Sets")),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("weight","Weight")+" (Kg)"),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("row-weight","Row Weight")+" (Kg)")))))),e.courses.map(((a,o)=>[i("ion-row",{class:"ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.courseNumber),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.startAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.endAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.innerRadius))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},e.shapes.map(((e,s)=>i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},d.getShapeName(e.shapeId)),i("ion-col",{size:"2",class:"inner-col"},a.quantityShapes.length>0&&a.quantityShapes[s]?a.quantityShapes[s].quantity:0),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.countTotalQuantity(a):undefined),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?a.repairSets:undefined),i("ion-col",{size:"2",class:"inner-col"},l.getAreaCourseWeightForShape(this.project,this.areaShapes,t,o,s)),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.getTotalWeightForCourse(this.project,this.areaShapes,t,o):undefined)))))))),i("ion-row",{class:"separator"},i("ion-col",null))]))))):undefined))))),i("swiper-slide",{key:"20a454fda3b742d3d6a3b8ef77875ea3a049f829",class:"swiper-slide"},i("div",{key:"255c10fc33ff76aa55f5758b182ba338aa166d4d"},i("ion-grid",{key:"9aec0b1da4847981e5e16d1fa74092cce771c8a0"},this.project.projectMass.map((e=>[i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"position","label-text":"Position",detailText:g.exports.toString(e.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"application-area","label-text":"Application Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:r.getDatasheetName(e.datasheetId)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:e.density}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quantity","label-text":"Quantity",detailText:g.exports.toString(e.quantity)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"unit","label-text":"Unit",detailText:e.quantityUnit?l.getQuantityUnits(e.quantityUnit)[0].quantityUnitName.en:""})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"x")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"weight-per-unit","label-text":"Weight per Unit",appendText:" (Kg)",detailText:e.weightPerUnitKg})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"=")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"total-weight","label-text":"Total Weight",appendText:" (MT)",detailText:e.totalWeightMT}))),i("ion-row",{class:"separator"},i("ion-col",null))]))))),i("swiper-slide",{key:"be6f06880682298ca8e544c91b7e44bcfc100afe",class:"swiper-slide"},"file - to do"))))]}};f.style=h;export{f as page_project_details};