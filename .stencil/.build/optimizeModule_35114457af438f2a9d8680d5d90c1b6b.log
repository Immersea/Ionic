import{r as e,h as a,f as d}from"./p-cbe60c68.js";import{z as c,aa as i,B as t,h as f,b,U as s,a3 as o,R as n,ay as r}from"./p-30358c9d.js";import{S as l}from"./p-a75993af.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-a9f4af61.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const y="page-dive-site-details{}";const p=y;const k=class{constructor(a){e(this,a);this.markers=[];this.siteid=undefined;this.diveSite=undefined;this.diveTrips=undefined;this.divingCenters=undefined;this.titles=[{tag:"map"},{tag:"information"},{tag:"dive-profiles"},{tag:"diving-centers"},{tag:"next-trips",text:"Next Dive Trips"}];this.segment=0;this.slider=undefined}async componentWillLoad(){this.diveSite=await c.getDiveSite(this.siteid);this.diveTrips=await i.getTripsSummary(t,this.siteid);this.divingCenters=c.loadSiteDivingCenters(this.diveSite);let e=f.getMapDocs()[t].icon;e.size="large";let a=f.getMapDocs()[b].icon;a.size="small";this.markers.push({icon:e,latitude:this.diveSite.position.geopoint.latitude,longitude:this.diveSite.position.geopoint.longitude});this.divingCenters.siteDivingCenters.forEach((e=>{this.markers.push({name:e.displayName,icon:a,latitude:e.position.geopoint.latitude,longitude:e.position.geopoint.longitude})}));this.userRoles=s.userRoles}async componentDidLoad(){this.slider=new l(".slider-dive-site",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});await customElements.whenDefined("app-map");this.mapElement=this.el.querySelector("#map");const e=this.el.querySelector("#map-container");e.setAttribute("style","height: "+o(this.diveSite)+"px");this.mapElement["mapLoaded"]().then((()=>{this.mapElement.triggerMapResize();this.setLinesForDiveSite()}));this.setLinesForDiveSite();this.mapElement.triggerMapResize();if(c.showNewDivePlans){this.segment=2}else{this.segment=0}}setLinesForDiveSite(){this.mapElement.triggerMapResize();const e=[this.diveSite];this.divingCenters.siteDivingCenters.forEach((async a=>{e.push(a);this.mapElement["createLine"](a.id,this.diveSite,a)}));this.mapElement["fitToBounds"](e)}render(){return[a("ion-header",{key:"0b7ae8ff0d9393d1265398fb3eaff7cf7e1e69e9"},a("app-item-cover",{key:"5cf2b6b25f6ac869915dfb5178f29ec27259745d",item:this.diveSite})),a("ion-header",{key:"94cb4678f98beba4d3c84653bbe21c2daff8420e"},a("ion-toolbar",{key:"f7d77394634a26dc11f4efcb46e20be2b5f6f7d0",color:"divesite",class:"no-safe-padding"},this.diveSite&&!this.diveSite.coverURL?a("ion-buttons",{slot:"start"},a("ion-button",{onClick:()=>n.goBack(),"icon-only":true},a("ion-icon",{name:"arrow-back"}))):undefined,a("ion-title",{key:"2915f45da0746b0bf19d7f584b2caadbcf1fe885"},this.diveSite.displayName))),a("app-header-segment-toolbar",{key:"f13486f6265baf759433cdf8511fec26b3ff4239",color:"divesite",swiper:this.slider,titles:this.titles}),a("ion-content",{key:"1c1c9b5f17dba76168f098fdffe8864bbed2c493",class:"slides"},a("ion-fab",{key:"045cb238a572fa14693f0f720b0f9c90ecf8e39e",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:r(2)}},a("ion-fab-button",{key:"1b3f00b4ea6d6b5090b8f3d9340af49a80239d45",onClick:()=>n.goBack(),class:"fab-icon"},a("ion-icon",{key:"0bf2e298ad560237bcd4b5b87225602a40b9c704",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"16b9fdd35c5ae291d01aebb04c7a1d7a094642b5",class:"slider-dive-site swiper"},a("swiper-wrapper",{key:"9f84488f6a0cdeac3d4891eeba3602aac6a2bb0c",class:"swiper-wrapper"},a("swiper-slide",{key:"3931c5b53c5e10d3166cb6e420392665b7f5b020",class:"swiper-slide"},a("ion-list",{key:"4068155ad00dd6069f32c97a8c21155bb07c0f99",class:"ion-no-padding"},a("ion-list-header",{key:"2ef9b6eea93b050005c2dd08998077d1990a2764"},a("ion-label",{key:"c9995c667521eb542b840b7cdbe5946539cd1329",color:"divesite"},a("my-transl",{key:"6dc5e6432ec326c983babb98b49329da9da2b23f",tag:"general-information",text:"General Information"}))),a("ion-item",{key:"ca2bbc954d9fed77772aca539f55727c4d898edd"},a("ion-label",{key:"58a01520e44e288b286196b91d8e244fdc3c887c",class:"ion-text-wrap"},a("ion-text",{key:"28f9d34aa47876a5e11be093d5eb3c1293425492",color:"divesite"},a("h3",{key:"5ca356d85034a8095bff077f872d123f144159cc"},a("my-transl",{key:"807e0d6f3f6a29cae8f9cc953d2ef36c417a682f",tag:"site-type",text:"Site Type"}))),a("ion-text",{key:"fd6c4a7ce6a020224d81c11b448518a5b080ae35",color:"dark"},a("p",{key:"44dee732a34f8d32af6de0739c562ecaae7694fa"},c.getSiteTypeName(this.diveSite.type))))),a("ion-item",{key:"5e971e2f90a6aee90da51c4a4551d4d50abf21ac"},a("ion-label",{key:"8ff336f390a0873ca98349ed4a0048e68a71051e",class:"ion-text-wrap"},a("ion-text",{key:"e515df56ad42fb3fa278bdf51c9db3dfa3695811",color:"dark"},a("p",{key:"3be5e5be4f5695cdb61952a28dcc757d4914ea7f"},this.diveSite.description)))),a("ion-list-header",{key:"031519a49fbf7714de3a6ecbdc1742c92fc8741e"},a("ion-label",{key:"45b23c8fa90019baabf227fb88da44f101eaff26",color:"divesite"},a("my-transl",{key:"986f5ee8dd9334a732ae498542e5af6c4d83de33",tag:"site-details",text:"Site Details"}))),a("ion-item",{key:"31709dc2ff9b6cf545e10539c537bdf26d1ae30f"},a("ion-label",{key:"fc70e3649e52333a38ded0b6b8f7e7de87f6f916",class:"ion-text-wrap"},a("ion-text",{key:"e09056594fd1879d74f5aef72a8b5e767a449945",color:"divesite"},a("h3",{key:"fbd0bc337069be35c04bcac8bcb6e61189a024e1"},a("my-transl",{key:"01e282bd1e5a745b0a2e0f1c6ccb039e71dceb50",tag:"entry-type",text:"Entry Type"}))),a("ion-text",{key:"bac23c848711d9cc6e3660a152c9e2e5142a945f",color:"dark"},a("p",{key:"e752d6fbb55c873c18dbbe161c26446ba567a72b"},c.getEntryTypeName(this.diveSite.information.entryType))))),a("ion-grid",{key:"4da0a260ffb64e1cf082c3bac057846c56445f8f",class:"ion-no-padding"},a("ion-row",{key:"b2d91d021416918c009f077acee11d11592a6126"},a("ion-col",{key:"adc1a55d6494ee52df0680ab780e8ac424861783"},a("ion-item",{key:"84f8c8bab8956c5bc8283b41e9e8eed9223fe06a"},a("ion-label",{key:"9b9da583ec23733e46cdd5264c93c7bbb7d15481",class:"ion-text-wrap"},a("ion-text",{key:"c12bf38a3d7944ec12f7004166cc4a1f9206bd28",color:"divesite"},a("h3",{key:"c055ebbe6dfff894f00e7efa5aa024d276913416"},a("my-transl",{key:"94796bfcd1f1cedf5d3fa908d7cae42316d91346",tag:"min-depth",text:"Min. Depth"}))),a("ion-text",{key:"aeed6e4194a9a6232e28a858bc4a9f295d8249cf",color:"dark"},a("p",{key:"8d9ec91e2541fe008934d73a0046c19804992e46"},this.diveSite.information.minDepth," m"))))),a("ion-col",{key:"323f95877f9e8ba5768e1b4838ab38afa238e2af"},a("ion-item",{key:"566cda97b04cf1c7a7e1634465c02d2e4ebc2a80"},a("ion-label",{key:"1467120db0f061bb930f13f06a1a15dbb4fa059f",class:"ion-text-wrap"},a("ion-text",{key:"dc41f8ef5b8b63efd9ee6d0b9d3d090394a64230",color:"dark"},a("ion-text",{key:"c1c0b2ab2d0d3eefa81c5cf3410fd66b8dafde33",color:"divesite"},a("h3",{key:"ddf3440a93fd6868f270414d66ef1e5b9269b3fd"},a("my-transl",{key:"5d5b831dfff3ee2a42f639bdc585383bff90d00a",tag:"max-depth",text:"Max. Depth"}))),a("p",{key:"e9168597a0bd6467461d9f69c0d897b33b14d0fb"},this.diveSite.information.maxDepth," m"))))))),a("ion-item",{key:"37274a59d16dd21dc64ffec9016e787a0e259be5"},a("ion-label",{key:"af15488bd17e2b4abb41234b0f9d2451ea74f90f",class:"ion-text-wrap"},a("ion-text",{key:"ddfb65e5a745d6857f07ac6e382536e6236a6379",color:"divesite"},a("h3",{key:"78a639a209667cf97e15422425c8d8091a2b5d89"},a("my-transl",{key:"d5709a440621d9aeeaad43762da56c881de85723",tag:"avg-vis",text:"Average Visibility"}))),a("ion-text",{key:"0152d21e64e3a622ea6bbc9e77eb06eae76aacdf",color:"dark"},a("p",{key:"95ed90207925a784ae7e2d134affd579fdccf51b"},this.diveSite.information.avgViz," m")))),a("ion-list-header",{key:"dc583e6eeacb5c1180b7381ea4e38a8987a53a74"},a("ion-label",{key:"f2dba940d661803ee33830c93776a1688af71363",color:"divesite"},a("my-transl",{key:"45fc433c617028287bffecb3ac3b890dffb8a63e",tag:"water-temp",text:"Water Temperature"}))),a("ion-grid",{key:"f86800cc9cd906a1b64fcc7dfd812fd50a0052d0",class:"ion-no-padding"},a("ion-row",{key:"c9aedabf9f5a82e95fc5c662a3880db7081a2203"},a("ion-col",{key:"837f6d1127179f7af0608cfcc13bca15419e5f98"},a("ion-item",{key:"76d864257a186b95a4fcd232dd9e117b6eaaf71c"},a("ion-label",{key:"bd76fefd204b90fb87fe49d804fec7664098b3ce",class:"ion-text-wrap"},a("ion-text",{key:"98b9a658b458f56b8eec9a0b90920f65dfd64f35",color:"divesite"},a("h3",{key:"916647a08df1acad5047b63040a397ebfa887bf4"},a("my-transl",{key:"2c6317683237a8413b51e966046522adf6d49138",tag:"spring",text:"Spring"}))),a("ion-text",{key:"93010e610e47f9ff0d5b507e19843b5164375ce1",color:"dark"},a("p",{key:"412b80db52c1caed74d0c5633c8cb7b5cca9a229"},this.diveSite.information.waterTemp.spring," °C"))))),a("ion-col",{key:"e0ab962f0ed906cd906f876193f325f70777a3e7"},a("ion-item",{key:"0b0571c83801b95506fedf32ee878c786654433f"},a("ion-label",{key:"6822df1ffa0d964aeff6ec900da3aae63f1d0b99",class:"ion-text-wrap"},a("ion-text",{key:"2ee7d00c45809d1d2c34d7f50cf7587a01492328",color:"divesite"},a("h3",{key:"6d0090d6be6ed822d5e362501fb0473aa7ca2a5a"},a("my-transl",{key:"a6ecd935dc5945a9956263ec8f62be63c26ed9b8",tag:"summer",text:"Summer"}))),a("ion-text",{key:"1b80426b90dec67027157adf783d49ee6766ffcc",color:"dark"},a("p",{key:"0665cb44697939c0bd1339366d4bc393b4d345f7"},this.diveSite.information.waterTemp.summer," °C")))))),a("ion-row",{key:"c4605ea85b393bf0807b570633df445facaa1847"},a("ion-col",{key:"8e672c4ffb5420805b93499a6b9fd7c494b109fc"},a("ion-item",{key:"fbb2cbd487bf291b0107f0a63f16fe594e2d1081"},a("ion-label",{key:"3e7bba10a16e051384951d94e125431121d7247f",class:"ion-text-wrap"},a("ion-text",{key:"489477e44c79f9dee0ce0743394fd493fb12c576",color:"divesite"},a("h3",{key:"906d7504ff718ad7fc7458382fef5eccb041e0b3"},a("my-transl",{key:"6a2cfbf07b09708184a13259826860ae14e84a15",tag:"autumn",text:"Autumn"}))),a("ion-text",{key:"f9baf165c713f52a71bf2bc37d069fa980916515",color:"dark"},a("p",{key:"76490f58138fbac1f8f3feba3dc408c9e5a405cb"},this.diveSite.information.waterTemp.autumn," °C"))))),a("ion-col",{key:"0fd56b2fef3a1838539c054da5c1b290bba6a4db"},a("ion-item",{key:"4c13b2ed6c72faa36e778429ec48f151d79c23ea"},a("ion-label",{key:"3a43ea8c4dea2463d1fec1497a194acb17807dd6",class:"ion-text-wrap"},a("ion-text",{key:"bd4c1c6dcf288cc0bf7af3f8875bc45d88a72dff",color:"divesite"},a("h3",{key:"635620c6d4299e6b8c0957de308732beb800c3df"},a("my-transl",{key:"e94c7279536a52361a841aed62988a14853dc33b",tag:"winter",text:"Winter"}))),a("ion-text",{key:"0644b5a7ca35d64c8d79140f378eff36c3b9743b",color:"dark"},a("p",{key:"3e11eafbc16caeaaafc885f58cd308ba33ddc92d"},this.diveSite.information.waterTemp.winter," °C"))))))),this.diveSite.information.seabedComposition?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-comp",text:"Seabed Composition"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedComposition.map((e=>a("p",null,c.getSeabedCompositionName(e))))))):undefined,this.diveSite.information.seabedCover?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-cover",text:"Seabed Cover"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedCover.map((e=>a("p",null,c.getSeabedCoverName(e))))))):undefined)),a("swiper-slide",{key:"06d4cf800cbadf05daa047c53bcd15d746f3ee9d",class:"swiper-slide"},a("div",{key:"c792101a2238820cf9ab7fb35d8469c3e6f697b6",id:"map-container"},a("app-map",{key:"8562b90c1ac75f4535583441368ad145388ad3c3",id:"map",pageId:"dive-site-details",center:this.diveSite,markers:this.markers}))),a("swiper-slide",{key:"04bd1ec7d8eef9a82c8ef1a9c0c0536eb35b620c",class:"swiper-slide"},a("ion-grid",{key:"72995b6e7285f1b29e797680abaa518589ae91f8"},a("ion-row",{key:"c7fd23164d94857972f95e5ce9531a66f84469cf",class:"ion-text-start"},this.diveSite.divePlans.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-dive-plan-card",{divePlan:e,edit:false}))))))),a("swiper-slide",{key:"67eb291ec175cab70d38a2060c2029f64dfbcf31",class:"swiper-slide"},a("ion-grid",{key:"b6ca065a1b537d409e3fc210800fbc16be708ca3"},a("ion-row",{key:"af01bda3f15682ca8fd88ae45f96357f1159ef40",class:"ion-text-start"},this.diveSite.divingCenters.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-diving-center-card",{divingCenterId:e,startlocation:this.diveSite}))))))),a("swiper-slide",{key:"c6d021b2d84b16c2b62786f3ae5533723efc41bc",class:"swiper-slide"},a("app-calendar",{key:"6aafaa9a045ef172ef53f5548358dd82ac312026",calendarId:"dive-site-calendar",addEvents:{trips:this.diveTrips}})))))]}get el(){return d(this)}};k.style=p;export{k as page_dive_site_details};