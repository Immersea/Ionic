import{r as e,e as i,h as t,H as s,f as n}from"./p-cbe60c68.js";import{S as o,a4 as c,T as a}from"./p-736235c6.js";import{l as r}from"./p-1af05547.js";import"./p-1819cfda.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const p="popover-search-diving-course{}popover-search-diving-course ion-list{min-height:300px}";const d=p;const h=class{constructor(t){e(this,t);this.certSelected=i(this,"certSelected",7);this.item=undefined;this.popover=undefined;this.updateView=false}async componentWillLoad(){this.agencies=await o.getDivingAgencies();this.localAgencies=c.agencies;!this.item?this.item={agencyId:null,agencyName:null,certificationId:null}:undefined}componentDidLoad(){this.popover=this.el.closest("ion-popover");this.setSelectAgency()}setSelectAgency(){const e=this.el.querySelector("#selectAgency");const i={header:a.getTransl("diving-agency","Diving Agency")};e.interfaceOptions=i;e.placeholder=a.getTransl("select","Select");r.exports.each(this.localAgencies,(i=>{let t=document.createElement("ion-select-option");t.value=i.ag_name;t.textContent=i.ag_name;e.appendChild(t)}));this.updateView=!this.updateView}updateAgency(e){this.item.agencyName=e.detail.value;const i=r.exports.findIndex(this.agencies,(e=>e["id"]==this.item.agencyName));this.item.agencyId=i>0?e.detail.value:""}updateCertification(e){this.item.certificationId=e.detail.value;if(this.popover){this.popover.dismiss(this.item)}this.certSelected.emit(this.item)}render(){return t(s,{key:"4e74319b2a71f52437d6096e671739c122988aa2"},this.popover?t("ion-toolbar",null,t("ion-title",null,t("my-transl",{tag:"diving-course",text:"Diving Course"}))):undefined,t("ion-item",{key:"6762c9e0ecfc658fffd66734d9698eae2962395f"},t("ion-select",{key:"bc33a97b597d84161b3d2b8241bbc86c9f080c38",label:a.getTransl("diving-agency","Diving Agency"),id:"selectAgency",onIonChange:e=>this.updateAgency(e),value:this.item.agencyName})),t("app-form-item",{key:"0c343cd05015ad297398728069058b56d6c1dd28","label-tag":"certification","label-text":"Certification",lines:"inset",value:this.item.certificationId,name:"certification","input-type":"text",onFormItemChanged:e=>this.updateCertification(e),validator:["required"]}))}get el(){return n(this)}};h.style=d;export{h as popover_search_diving_course};