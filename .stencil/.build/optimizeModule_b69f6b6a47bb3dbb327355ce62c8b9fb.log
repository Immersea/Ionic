import{r as i,h as e,H as t,f as s}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n}from"./p-c2915cc5.js";import{l as a}from"./p-1af05547.js";import{aD as o,a6 as d,E as c}from"./p-773bd3de.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const r="modal-search-list{}";const l=r;const h=class{constructor(e){i(this,e);this.list=undefined;this.searchTitle=undefined;this.item=undefined;this.showField=undefined;this.orderBy=[];this.filterBy=undefined;this.placeholder=undefined;this.filterObject=undefined;this.filterPopup=undefined;this.filterFunction=undefined;this.filteredList=undefined}componentWillLoad(){this.nonFilteredList=a.exports.cloneDeep(this.list);this.clearFilterObject=a.exports.cloneDeep(this.filterObject)}async openFilter(){this.filterObject=await this.filterPopup(this.filterObject);this.list=await this.filterFunction(this.filterObject)}clearFilter(){this.filterObject=a.exports.cloneDeep(this.clearFilterObject);this.list=a.exports.cloneDeep(this.nonFilteredList)}handleSelect(i){n.dismiss(i)}renderKey(i){let e=null;switch(i){case"familyId":e=d.getDatasheetFamilies(this.filterObject[i])[0].familyName;break;case"majorFamilyId":e=d.getDatasheetMajorFamilies(this.filterObject[i])[0].majorFamilyName;break;case"shapeTypeId":e=o.getShapeTypeName(this.filterObject[i]).en;break;default:e=i+" = "+this.filterObject[i];break}return e}close(){n.dismiss()}render(){return e(t,{key:"9f385318ecde10d8851604065bebf3da92ebcf12"},e("ion-header",{key:"50baadec5802a920b0d63cbb3b13c929b59fd8c6"},e("app-navbar",{key:"78fa298e3b0ad2315b0e665da0383a7c9a191649",tag:this.searchTitle.tag?this.searchTitle.tag:"find",text:this.searchTitle.text?this.searchTitle.text:"Find",color:c.getAppColor(),rightButtonText:{icon:"close",tag:null,text:null,fill:"clear"},rightButtonFc:this.close}),e("ion-grid",{key:"d4df6447ec28bcf8f4cc84445610330b824dc084",class:"ion-no-padding"},e("ion-row",{key:"562902dfea8131ef2ad344765ae1bb2a0c26d294",class:"ion-no-padding"},this.filterObject?e("ion-col",{size:"1",class:"ion-no-padding"},e("ion-toolbar",{color:c.getAppColor()},e("ion-button",{fill:"clear",expand:"full","icon-only":true,onClick:()=>this.openFilter()},e("ion-icon",{name:"filter",color:"light"})))):undefined,e("ion-col",{key:"b70bf5939f5efeaeec581e668147b82f4df8062a",size:this.filterObject?"11":"12",class:"ion-no-padding"},e("app-search-toolbar",{key:"3e205b477997b82f32b2a3407edc351032bd1af7",list:this.list,orderFields:[this.showField],color:"trasteel",placeholder:this.placeholder?this.placeholder:"search",filterBy:this.filterBy,onFilteredList:i=>this.filteredList=i.detail}))))),e("ion-content",{key:"49a2a61ad64d8332717bb2ef49f6424f3f0c4829"},this.filterObject&&this.filterObject.isActive()?[e("ion-breadcrumbs",null,e("ion-button",{"icon-only":true,fill:"clear",onClick:()=>this.clearFilter()},e("ion-icon",{color:"danger",name:"trash"})),e("ion-breadcrumb",null),Object.keys(this.filterObject).map((i=>i!="oldProduct"&&(this.filterObject[i]>0||this.filterObject[i]!==null)?e("ion-breadcrumb",null,this.renderKey(i)):undefined)),e("ion-breadcrumb",null))]:undefined,e("app-infinite-scroll",{key:"583e136c9b06aaa555508907f6e8b4b5841e6bec",list:this.filteredList,showFields:[this.showField],orderBy:this.orderBy,onItemClicked:i=>this.handleSelect(i.detail)})))}get el(){return s(this)}};h.style=l;export{h as modal_search_list};