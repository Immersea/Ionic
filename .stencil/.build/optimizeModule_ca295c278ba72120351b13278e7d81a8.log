import{r as e,h as t,H as a,f as i}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{a as s,o as d}from"./p-5d4a8e1f.js";import{E as o}from"./p-a9f4af61.js";import{T as c,U as f}from"./p-87afedc7.js";import{b as n}from"./p-d2a582b5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-30358c9d.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-7ee16e8d.js";const r="modal-user-teams-update ion-list{width:100%}";const l=r;const b=class{constructor(t){e(this,t);this.user=undefined;this.usersTeams=undefined;this.userIndex=undefined;this.userTeams=undefined;this.updateView=false}async componentWillLoad(){this.usersTeams=await c.getUsersTeams();this.userIndex=this.usersTeams.usersTeams.length>0?this.usersTeams.usersTeams.findIndex((e=>e.uid===this.user.uid)):-1;if(this.userIndex<0){this.userTeams=new f(this.user)}else{this.userTeams=this.usersTeams.usersTeams[this.userIndex]}}async addTeam(){let e=[];let t=Object.keys(n);t.forEach((t=>{if(!this.userTeams.teams.includes(t)){e.push({text:t,handler:()=>{this.userTeams.teams.push(t);this.updateView=!this.updateView}})}}));e.push({text:"Close",icon:"close",role:"cancel",handler:()=>{}});const a=await s.create({header:"Add",buttons:e});await a.present()}async deleteTeam(e){this.userTeams.teams.splice(e);this.updateView=!this.updateView}async save(){if(this.userIndex>=0){this.usersTeams.usersTeams[this.userIndex]=this.userTeams}else{this.usersTeams.usersTeams.push(this.userTeams)}c.updateUsersTeams(this.usersTeams);d.dismiss()}async cancel(){return d.dismiss()}render(){return t(a,{key:"8ec10498183dd9d299cfac0f8fd380be206eb4f9"},t("ion-header",{key:"493081232ff9257367178cc0d1d93ffb2e77f63e"},t("ion-toolbar",{key:"94c459f82c4315cdebfcda01c5f6b493c080501f",color:"trasteel"},t("ion-title",{key:"91762af496d4179a7bd8a28878befaea84c7730e"},"USER TEAMS MANAGER"))),t("ion-content",{key:"0524f2a07a09ff2cd54e5b98761e4bf3e97626fd"},t("ion-list",{key:"d75a125a8a893332c2b27438ef7262e36aab357e"},t("ion-item",{key:"81d92431954a1ee41c16a9dc4a1980b009712a27"},this.user.email),t("ion-item-divider",{key:"95b8919d80ac848b27d36f88749c7be6a7ea77b7"},t("ion-label",{key:"859385aec90dcf588343a7695e318da8e6dd83ea"},t("my-transl",{key:"0136deb9c880ebda3d21b164d05df02d5acd2fdb",tag:"teams",text:"Teams"}))),this.userTeams.teams.map(((e,a)=>t("ion-item",null,t("ion-label",null,e),t("ion-button",{slot:"end",fill:"clear",onClick:()=>this.deleteTeam(a)},t("ion-icon",{name:"trash",color:"danger"}))))),t("ion-button",{key:"18d9005041ff9fcb9073235787f0e349b3b5330c",color:"trasteel",fill:"outline",expand:"full",onClick:()=>{this.addTeam()}},t("ion-icon",{key:"f92b2d1a3d12d686c4f3017e04bd481784c112b2",name:"add",slot:"start"}),t("ion-label",{key:"fb95e7f83f20cd7b95890860af85bcd7d470cb6c"},t("my-transl",{key:"fb6854b25477cdd5eb2e19ccaa1f06d5607817c9",tag:"add-team",text:"Add Team"}))))),t("app-modal-footer",{key:"007e0695ffa899df84ff9038a19b8bbc7ada13be",color:o.getAppColor(),onCancelEmit:()=>this.cancel(),onSaveEmit:()=>this.save()}))}get el(){return i(this)}};b.style=l;export{b as modal_user_teams_update};