import{r as e,h as i}from"./p-cbe60c68.js";import{T as o,R as t}from"./p-944b5726.js";import{I as s}from"./p-3046533c.js";import{l as n}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const a="page-immersea-admin{}";const c=a;const d=class{constructor(i){e(this,i);this.segmentSelected=undefined;this.updateView=false}componentWillLoad(){this.sections=s.getSections();this.segmentChanged({detail:{value:"nature"}});this.immerseaLocationsListSub=s.immerseaLocationsList$.subscribe((e=>{this.immerseaLocationsList=e;this.updateView=!this.updateView}))}disconnectedCallback(){this.immerseaLocationsListSub.unsubscribe()}segmentChanged(e){this.segmentSelected=e.detail.value;this.sectionSelected=n.exports.find(this.sections,{tag:this.segmentSelected})}async reorderListItems(e){const i=this.immerseaLocationsList[this.sectionSelected.tag];const o=n.exports.cloneDeep(i);const t=o.splice(e.detail.from,1)[0];o.splice(e.detail.to,0,t);console.log("itemsBackup",o);o.forEach(((e,i)=>{!e.order?e.order={}:undefined;e.order[this.sectionSelected.tag]=i}));e.detail.complete();this.immerseaLocationsList[this.sectionSelected.tag]=n.exports.orderBy(o,[this.sectionSelected.tag]+".order");console.log("reorderListItems",this.immerseaLocationsList[this.sectionSelected.tag])}render(){return[i("ion-header",{key:"4e7867ae9f5f0bf8204c6987b06f00ec4cd824f1"},i("ion-toolbar",{key:"e5b26dee7a862afd42bb6ecf40625d0ca61fed83",color:"immersea"},i("ion-title",{key:"28867fac9e87777e2688f212c3c88a0f1862e325"},"Admin"),i("ion-buttons",{key:"7e41ffa45b335990ca95f1664bc6c15d99fcc781",slot:"start"},i("ion-button",{key:"15f17d59138fc5f52c51da03458d2beeeb0f5f8c",onClick:()=>t.push("news","root")},i("ion-icon",{key:"a4c1fe65b11d208bab5ec778f5783905b195110f",name:"arrow-back"}),i("ion-label",{key:"21a4d97a7d0bb838dbc0d206d6a3fc0e50e4cb5a"},"BACK")))),i("ion-toolbar",{key:"57ddd7de94903ebc57d780257e7bfe7cafd23ac2",color:"immersea"},i("ion-segment",{key:"c54fe3f2ee8745508a1c6dec585a51ff257df4c9",mode:"md",onIonChange:e=>this.segmentChanged(e),value:"nature"},this.sections.map((e=>i("ion-segment-button",{value:e.tag},i("ion-icon",{class:e.icon.type=="mapicon"?"marker map-icon "+e.icon.name:undefined,name:e.icon.type=="ionicon"?e.icon.name:undefined}),i("ion-label",null,o.getTransl(e.tag,e.text)))))))),i("ion-content",{key:"c462324b2543d8fd5428e28ea0eec2f1d7b620ff"},i("ion-list",{key:"fcbf79bfd2486092594f5e705ddb7c308de4e684"},!this.immerseaLocationsList[this.sectionSelected.tag]||this.immerseaLocationsList[this.sectionSelected.tag]&&this.immerseaLocationsList[this.sectionSelected.tag].length==0?i("ion-item",null,i("ion-label",null,"Nessuna location disponibile")):i("ion-reorder-group",{disabled:false,onIonItemReorder:e=>this.reorderListItems(e)},this.immerseaLocationsList[this.sectionSelected.tag].map((e=>i("ion-item",{button:true,detail:true,onClick:()=>s.presentLocationDetails(e.id)},e.coverURL?i("ion-avatar",{slot:"start"},i("img",{src:e.coverURL})):i("ion-icon",{slot:"start",name:"globe-outline"}),i("ion-label",null,e.displayName),i("ion-reorder",{slot:"end"})))))),i("ion-fab",{key:"120288f088a8a59cdc4d59dd50e164a2dc69c06c",vertical:"bottom",horizontal:"end",slot:"fixed"},i("ion-fab-button",{key:"997b5d91d0abf41bc5e3f01e2e917715fc2aa1c1",color:"immersea",onClick:()=>s.presentLocationUpdate()},i("ion-icon",{key:"d35688941942d0f9ee281ad461b306e95ba3b40c",name:"add"}))))]}};d.style=c;export{d as page_immersea_admin};