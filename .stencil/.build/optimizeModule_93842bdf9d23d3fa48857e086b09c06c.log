import{r as e,e as t,h as i}from"./p-cbe60c68.js";import{z as a,aE as n,T as s}from"./p-30358c9d.js";import"./p-c7ee7cfe.js";import{b as o}from"./p-5d4a8e1f.js";import{E as d}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-7ee16e8d.js";import"./p-694b8ade.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const c="app-dive-plan-card{width:100%;height:100%}";const r=c;const l=class{constructor(i){e(this,i);this.viewEmit=t(this,"viewEmit",7);this.removeEmit=t(this,"removeEmit",7);this.divePlan=undefined;this.edit=false}componentWillLoad(){this.diveSite=a.diveSitesList.find((e=>e.id===this.divePlan.dives[0].diveSiteId))}async viewDivePlan(e){e.stopPropagation();const t=await n.presentDiveTemplateUpdate(this.divePlan);if(t){this.viewEmit.emit(t)}}async removeDivePlan(e){e.stopPropagation();const t=await o.create({header:s.getTransl("delete-dive-header","Delete dive?"),message:s.getTransl("delete-dive-message","This dive plan will be deleted! Are you sure?"),buttons:[{text:s.getTransl("cancel","Cancel"),role:"cancel",handler:()=>{}},{text:s.getTransl("ok","OK"),handler:()=>{this.removeEmit.emit()}}]});t.present()}render(){return i("ion-card",{key:"820682ec12ea54ce7e8bb8f22d0fde8c9066ddf6",onClick:e=>this.edit?this.viewDivePlan(e):undefined},this.diveSite?i("app-item-cover",{item:this.diveSite}):undefined,i("ion-card-header",{key:"f6bd13deda802a1eff078aef7bf44725af196e60"},i("ion-item",{key:"b929ca260217e34c739a2fee24d4761eb16bf23e",class:"ion-no-padding",lines:"none"},this.edit?i("ion-button",{"icon-only":true,slot:"end",color:"danger",fill:"clear",onClick:e=>this.removeDivePlan(e)},i("ion-icon",{name:"trash-bin-outline"})):undefined,i("ion-card-title",{key:"8c825fcd0d491e72d01fada7ff98339426b53e2c"},this.divePlan.configuration.stdName)),i("ion-card-subtitle",{key:"b3d0d482f833d826c0564583950a46909781b5e4"},this.divePlan.dives[0].getProfilePointsDetails().map((e=>i("p",{class:"ion-text-start"},e))))),i("ion-card-content",{key:"2ba6a33c76b1a76a50407f0eaac43631644279e6"},this.divePlan.configuration.configuration.bottom.length>0?i("p",null,i("my-transl",{tag:"bottom-tanks",text:"Bottom Tanks"}),":"):undefined,this.divePlan.configuration.configuration.bottom.map((e=>i("p",null,e.name+"->"+e.gas.toString()))),this.divePlan.configuration.configuration.deco.length>0?i("p",null,i("my-transl",{tag:"deco-tanks",text:"Deco Tanks"}),":"):undefined,this.divePlan.configuration.configuration.deco.map((e=>i("p",null,e.name+"->"+e.gas.toString())))),!this.edit?i("ion-button",{expand:"full",color:d.isDecoplanner()?"gue-blue":"planner",onClick:()=>n.createNewDivePlan(this.divePlan)},i("my-transl",{tag:"plan-dive",text:"Plan a Dive"})):undefined)}};l.style=r;export{l as app_dive_plan_card};