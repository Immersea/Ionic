{"version":3,"names":["appStarRatingCss","AppStarRatingStyle0","StarRating","constructor","hostRef","this","_starCounter","Array","componentWillLoad","firstRun","backupOriginalProps","initializeInternalState","_initialRatingOriginal","rating","_fontSizeOriginal","size","_numberOfStarsOriginal","stars","_colorOriginal","color","_fontSizeExpression","toString","currentRating","fill","propsHaveChanged","componentDidLoad","render","h","key","map","_","currentIndex","name","iconName","onClick","updateRating","style","editable","rated","emit","starNumber","threshold"],"sources":["src/components/common/app/reviews/app-star-rating/app-star-rating.scss?tag=app-star-rating&encapsulation=shadow","src/components/common/app/reviews/app-star-rating/app-star-rating.tsx"],"sourcesContent":["app-star-rating {\n    /* Component styles go here */\n}\n","import { Component, h, State, Prop, EventEmitter, Event } from \"@stencil/core\";\n\n/*\n *\n * Star Rating component written with Stencil.js\n * by Aaron Sterling\n * https://github.com/Aaron-Sterling/star-rating-web-component\n *\n */\n\n@Component({\n  tag: \"app-star-rating\",\n  styleUrl: \"app-star-rating.scss\",\n  shadow: true,\n})\nexport class StarRating {\n  @Prop() rating: number = 0;\n  @Prop() size: number = 25;\n  @Prop() stars: number = 5;\n  @Prop() color: string = \"gold\";\n  @Prop() editable = false;\n  //\n  private _initialRatingOriginal: number;\n  private _fontSizeOriginal: number;\n  private _colorOriginal: string;\n  private _numberOfStarsOriginal: number;\n\n  @State() currentRating: number;\n\n  @Event() rated: EventEmitter<number>;\n\n  private _fontSizeExpression: string;\n  private _starCounter: Array<boolean> = new Array<boolean>();\n\n  constructor() {}\n\n  componentWillLoad() {\n    this.firstRun();\n  }\n\n  firstRun() {\n    this.backupOriginalProps();\n    this.initializeInternalState();\n  }\n\n  backupOriginalProps() {\n    this._initialRatingOriginal = this.rating;\n    this._fontSizeOriginal = this.size;\n    this._numberOfStarsOriginal = this.stars;\n    this._colorOriginal = this.color;\n  }\n\n  initializeInternalState() {\n    this._fontSizeExpression = this.size.toString() + \"px\";\n    this.currentRating = this.rating;\n    this._starCounter = new Array<boolean>(this.stars).fill(true);\n  }\n\n  propsHaveChanged(): boolean {\n    return !(\n      this.rating === this._initialRatingOriginal &&\n      this.size === this._fontSizeOriginal &&\n      this.color === this._colorOriginal &&\n      this.stars === this._numberOfStarsOriginal\n    );\n  }\n\n  componentDidLoad() {\n    if (this.propsHaveChanged) {\n      this.firstRun();\n    }\n  }\n\n  render() {\n    return (\n      <span>\n        {this._starCounter.map((_, currentIndex) => (\n          <ion-icon\n            name={this.iconName(currentIndex + 1)}\n            onClick={(_) => this.updateRating(currentIndex + 1)}\n            style={{ \"font-size\": this._fontSizeExpression, color: this.color }}\n          ></ion-icon>\n        ))}\n      </span>\n    );\n  }\n\n  updateRating(rating: number) {\n    if (this.editable) {\n      this.currentRating = rating;\n      this.rated.emit(rating);\n    }\n  }\n\n  iconName(starNumber: number): string {\n    const threshold = this.currentRating - starNumber;\n    if (threshold >= 0) {\n      return \"star\";\n    } else {\n      return \"star-outline\";\n    }\n  }\n}\n"],"mappings":"kDAAA,MAAMA,EAAmB,oBACzB,MAAAC,EAAeD,E,MCcFE,EAAU,MAmBrB,WAAAC,CAAAC,G,uCAFQC,KAAAC,aAA+B,IAAIC,M,YAhBlB,E,UACF,G,WACC,E,WACA,O,cACL,M,6BAgBnB,iBAAAC,GACEH,KAAKI,U,CAGP,QAAAA,GACEJ,KAAKK,sBACLL,KAAKM,yB,CAGP,mBAAAD,GACEL,KAAKO,uBAAyBP,KAAKQ,OACnCR,KAAKS,kBAAoBT,KAAKU,KAC9BV,KAAKW,uBAAyBX,KAAKY,MACnCZ,KAAKa,eAAiBb,KAAKc,K,CAG7B,uBAAAR,GACEN,KAAKe,oBAAsBf,KAAKU,KAAKM,WAAa,KAClDhB,KAAKiB,cAAgBjB,KAAKQ,OAC1BR,KAAKC,aAAe,IAAIC,MAAeF,KAAKY,OAAOM,KAAK,K,CAG1D,gBAAAC,GACE,QACEnB,KAAKQ,SAAWR,KAAKO,wBACrBP,KAAKU,OAASV,KAAKS,mBACnBT,KAAKc,QAAUd,KAAKa,gBACpBb,KAAKY,QAAUZ,KAAKW,uB,CAIxB,gBAAAS,GACE,GAAIpB,KAAKmB,iBAAkB,CACzBnB,KAAKI,U,EAIT,MAAAiB,GACE,OACEC,EAAA,QAAAC,IAAA,4CACGvB,KAAKC,aAAauB,KAAI,CAACC,EAAGC,IACzBJ,EAAA,YACEK,KAAM3B,KAAK4B,SAASF,EAAe,GACnCG,QAAUJ,GAAMzB,KAAK8B,aAAaJ,EAAe,GACjDK,MAAO,CAAE,YAAa/B,KAAKe,oBAAqBD,MAAOd,KAAKc,W,CAOtE,YAAAgB,CAAatB,GACX,GAAIR,KAAKgC,SAAU,CACjBhC,KAAKiB,cAAgBT,EACrBR,KAAKiC,MAAMC,KAAK1B,E,EAIpB,QAAAoB,CAASO,GACP,MAAMC,EAAYpC,KAAKiB,cAAgBkB,EACvC,GAAIC,GAAa,EAAG,CAClB,MAAO,M,KACF,CACL,MAAO,c","ignoreList":[]}