import{r as e,h as s,H as t,f as a}from"./p-cbe60c68.js";import{m as i,G as o}from"./p-736235c6.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const c="popover-search-user{}popover-search-user ion-list{min-height:300px}";const r=c;const n=class{constructor(s){e(this,s);this.showList=[];this.searching=false;this.noResult=false}componentWillLoad(){this.popover=this.el.closest("ion-popover")}async searchUsers(e){this.noResult=false;this.showList=[];this.searching=true;const s=e.target.value.toLowerCase();const t=await i.queryCollection(o,["email"],["="],[s]);t.forEach((e=>{this.showList.push(e.data())}));if(this.showList.length==0){this.noResult=true}else{this.noResult=false}this.searching=false}addUser(e){this.popover.dismiss(e.uid)}render(){return s(t,{key:"1da33fba2e22ab20172f0da73442b2dfd42cb9cd"},s("ion-header",{key:"efe3a0ccc2bc6c03dcd9d304e8eac530b3265698",translucent:true},s("ion-toolbar",{key:"c6e62a3f0c3f725352c9be44f84b6ce6e1b3dad0"},s("ion-title",{key:"d69f5c219b0f11cec7a202999eced82f199bcf5c"},s("my-transl",{key:"5562b1ecaa99655da12d58e5af8832d7e67f1dcb",tag:"search",text:"Search"}))),s("ion-toolbar",{key:"40b92bb871349aae93a049fba2bef6e96128dd97"},s("ion-searchbar",{key:"d8df9c049904f284201eb78cccb9b44f52a4be06",onIonBlur:e=>this.searchUsers(e),inputmode:"email",type:"email",placeholder:"email"}))),s("ion-content",{key:"55baf863a4d17f129cfaa7f56ccd86fd657b3bc4"},s("ion-list",{key:"16b6410ddaec8fa5d675c5582574223310abbe82"},this.showList.map((e=>s("ion-item",{button:true,onClick:()=>this.addUser(e)},e.photoURL?s("ion-avatar",{slot:"start"},s("ion-img",{src:e.photoURL})):undefined,s("ion-label",null,e.displayName)))),this.searching?s("app-skeletons",{skeleton:"chat"}):undefined,this.noResult?s("ion-item",null,s("ion-label",null,"No Users found!")):undefined)))}get el(){return a(this)}};n.style=r;export{n as popover_search_user};