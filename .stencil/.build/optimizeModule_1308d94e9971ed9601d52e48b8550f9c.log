import{r as e,h as t,f as a}from"./p-cbe60c68.js";import{l as i}from"./p-1af05547.js";import{C as d}from"./p-7ee16e8d.js";import{E as o}from"./p-a9f4af61.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";const s="modal-dive-card input{text-align:right}modal-dive-card .fixedLabel{min-width:80% !important;max-width:80% !important}modal-dive-card ion-item .item-inner{box-shadow:none !important;border-bottom:1px solid #dedede !important}modal-dive-card .item-input .label-md,modal-dive-card .item-select .label-md,modal-dive-card .item-datetime .label-md{color:rgb(0, 0, 0)}";const r=s;const n=class{constructor(t){e(this,t);this.card=undefined;this.updateCard=undefined;this.agencies=undefined;this.validCard=false}componentWillLoad(){this.updateViewParams()}componentDidLoad(){this.validateCard()}async updateViewParams(){this.updateCard=new d(this.card);this.validateCard()}save(){this.el.closest("ion-modal").dismiss(this.updateCard)}close(){this.el.closest("ion-modal").dismiss()}inputHandler(e){this.updateCard[e.detail.name]=e.detail.value;this.validateCard()}updateCourse(e){this.updateCard.course=e.detail;this.validateCard()}validateCard(){this.validCard=i.exports.isString(this.updateCard.course.agencyName)&&i.exports.isString(this.updateCard.course.certificationId)&&i.exports.isDate(new Date(this.updateCard.certified))&&i.exports.isString(this.updateCard.number)}render(){return[t("app-navbar",{key:"951044503b0f755bf18f68d2e831164702f34813",tag:"dive-card",text:"Dive Card",color:o.getAppColor(),modal:true}),t("ion-content",{key:"52549a8c3f5d7486e957511d5989aec828dfabf6"},t("ion-list",{key:"5a8dad51f46a7b007b51c59f0c26fef6902036e0"},t("popover-search-diving-course",{key:"146203cfbbbaf4e85f2aad9b227fd171ddc75c1a",item:this.updateCard.course,onCertSelected:e=>this.updateCourse(e)}),t("app-form-item",{key:"1ab829d3280d59b986b4a2c9f79a853cacf55a77","label-tag":"number","label-text":"Number",lines:"inset",value:this.updateCard.number,name:"number","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"f310cb1649b354a61544c475f03c02d0ca28fe4e","label-tag":"certified","label-text":"Certified",lines:"inset",value:this.updateCard.certified,name:"certified","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"74d74ae7c5f86e6c61ad61503d9edad42bd65448","label-tag":"expiry","label-text":"Expiry",lines:"inset",value:this.updateCard.expiry,name:"expiry","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"d36bf15bf1b9be2e96faf4f3c48602a981c269af","label-tag":"instructor","label-text":"Instructor",lines:"inset",value:this.updateCard.instructor,name:"instructor","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"c0acd778c8d6f61d4d7b10fbac5a4803e8fc8318","label-tag":"comments","label-text":"Comments",lines:"inset",value:this.updateCard.comments,name:"comments",textRows:4,"input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}))),t("app-modal-footer",{key:"594a3e049449c2a919ee75645440e74098b21083",disableSave:!this.validCard,onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})]}get el(){return a(this)}};n.style=r;export{n as modal_dive_card};