{"version":3,"names":["popoverSearchDiveSiteCss","PopoverSearchDiveSiteStyle0","PopoverSearchDiveSite","this","sitesList","componentWillLoad","DiveSitesService","diveSitesList","popover","el","closest","componentDidLoad","searchBarElement","querySelector","setFocus","searchSites","ev","query","target","value","toLowerCase","showList","filter","site","displayName","indexOf","addSite","dismiss","id","render","h","Host","key","translucent","tag","text","onIonInput","map","button","onClick","photoURL","slot","src","undefined"],"sources":["src/components/udive/popovers/popover-search-dive-site/popover-search-dive-site.scss?tag=popover-search-dive-site","src/components/udive/popovers/popover-search-dive-site/popover-search-dive-site.tsx"],"sourcesContent":["popover-search-dive-site {\n  /* Component styles go here */\n  ion-list {\n    min-height: 300px;\n  }\n}\n","import {Component, h, Host, State, Element} from \"@stencil/core\";\nimport {DiveSitesService} from \"../../../../services/udive/diveSites\";\nimport {MapDataDiveSite} from \"../../../../interfaces/udive/dive-site/diveSite\";\n\n@Component({\n  tag: \"popover-search-dive-site\",\n  styleUrl: \"popover-search-dive-site.scss\",\n})\nexport class PopoverSearchDiveSite {\n  @Element() el: HTMLElement;\n  sitesList: MapDataDiveSite[] = [];\n  @State() showList: MapDataDiveSite[] = [];\n  popover: HTMLIonPopoverElement;\n  searchBarElement: HTMLIonSearchbarElement;\n\n  componentWillLoad() {\n    this.sitesList = DiveSitesService.diveSitesList;\n    this.popover = this.el.closest(\"ion-popover\");\n  }\n\n  componentDidLoad() {\n    this.searchBarElement = this.el.querySelector(\"#search-bar\");\n    this.searchBarElement.setFocus();\n  }\n\n  searchSites(ev) {\n    const query = ev.target.value.toLowerCase();\n    this.showList = this.sitesList.filter(\n      (site) => site.displayName.toLowerCase().indexOf(query) > -1\n    );\n  }\n\n  addSite(site) {\n    this.popover.dismiss(site.id);\n  }\n\n  render() {\n    return (\n      <Host>\n        <ion-header translucent>\n          <ion-toolbar>\n            <ion-title>\n              <my-transl tag=\"search\" text=\"Search\" />\n            </ion-title>\n          </ion-toolbar>\n          <ion-toolbar>\n            <ion-searchbar\n              id=\"search-bar\"\n              onIonInput={(ev) => this.searchSites(ev)}\n            ></ion-searchbar>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <ion-list>\n            {this.showList.map((site) => (\n              <ion-item button onClick={() => this.addSite(site)}>\n                {site.photoURL ? (\n                  <ion-avatar slot=\"start\">\n                    <ion-img src={site.photoURL} />\n                  </ion-avatar>\n                ) : undefined}\n                <ion-label>{site.displayName}</ion-label>\n              </ion-item>\n            ))}\n          </ion-list>\n        </ion-content>\n      </Host>\n    );\n  }\n}\n"],"mappings":"qWAAA,MAAMA,EAA2B,gFACjC,MAAAC,EAAeD,E,MCOFE,EAAqB,M,yBAEhCC,KAAAC,UAA+B,G,cACQ,E,CAIvC,iBAAAC,GACEF,KAAKC,UAAYE,EAAiBC,cAClCJ,KAAKK,QAAUL,KAAKM,GAAGC,QAAQ,c,CAGjC,gBAAAC,GACER,KAAKS,iBAAmBT,KAAKM,GAAGI,cAAc,eAC9CV,KAAKS,iBAAiBE,U,CAGxB,WAAAC,CAAYC,GACV,MAAMC,EAAQD,EAAGE,OAAOC,MAAMC,cAC9BjB,KAAKkB,SAAWlB,KAAKC,UAAUkB,QAC5BC,GAASA,EAAKC,YAAYJ,cAAcK,QAAQR,IAAU,G,CAI/D,OAAAS,CAAQH,GACNpB,KAAKK,QAAQmB,QAAQJ,EAAKK,G,CAG5B,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,cAAAE,IAAA,2CAAYC,YAAW,MACrBH,EAAA,eAAAE,IAAA,4CACEF,EAAA,aAAAE,IAAA,4CACEF,EAAA,aAAAE,IAAA,2CAAWE,IAAI,SAASC,KAAK,aAGjCL,EAAA,eAAAE,IAAA,4CACEF,EAAA,iBAAAE,IAAA,2CACEJ,GAAG,aACHQ,WAAapB,GAAOb,KAAKY,YAAYC,OAI3Cc,EAAA,eAAAE,IAAA,4CACEF,EAAA,YAAAE,IAAA,4CACG7B,KAAKkB,SAASgB,KAAKd,GAClBO,EAAA,YAAUQ,OAAM,KAACC,QAAS,IAAMpC,KAAKuB,QAAQH,IAC1CA,EAAKiB,SACJV,EAAA,cAAYW,KAAK,SACfX,EAAA,WAASY,IAAKnB,EAAKiB,YAEnBG,UACJb,EAAA,iBAAYP,EAAKC,kB","ignoreList":[]}