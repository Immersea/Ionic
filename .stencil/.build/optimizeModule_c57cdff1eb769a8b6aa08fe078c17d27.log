import{r as e,h as t,f as a}from"./p-cbe60c68.js";import{l as i}from"./p-1af05547.js";import{af as d,E as o}from"./p-773bd3de.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const s="modal-dive-card input{text-align:right}modal-dive-card .fixedLabel{min-width:80% !important;max-width:80% !important}modal-dive-card ion-item .item-inner{box-shadow:none !important;border-bottom:1px solid #dedede !important}modal-dive-card .item-input .label-md,modal-dive-card .item-select .label-md,modal-dive-card .item-datetime .label-md{color:rgb(0, 0, 0)}";const r=s;const n=class{constructor(t){e(this,t);this.card=undefined;this.updateCard=undefined;this.agencies=undefined;this.validCard=false}componentWillLoad(){this.updateViewParams()}componentDidLoad(){this.validateCard()}async updateViewParams(){this.updateCard=new d(this.card);this.validateCard()}save(){this.el.closest("ion-modal").dismiss(this.updateCard)}close(){this.el.closest("ion-modal").dismiss()}inputHandler(e){this.updateCard[e.detail.name]=e.detail.value;this.validateCard()}updateCourse(e){this.updateCard.course=e.detail;this.validateCard()}validateCard(){this.validCard=i.exports.isString(this.updateCard.course.agencyName)&&i.exports.isString(this.updateCard.course.certificationId)&&i.exports.isDate(new Date(this.updateCard.certified))&&i.exports.isString(this.updateCard.number)}render(){return[t("app-navbar",{key:"8b9159a64d05217c8d7b8a0193beb6a027cf63b2",tag:"dive-card",text:"Dive Card",color:o.getAppColor(),modal:true}),t("ion-content",{key:"d31ddb40d69859781700f334febaff6189827323"},t("ion-list",{key:"e85d873541faeb2111e298bee9778acdafcc2b2f"},t("popover-search-diving-course",{key:"45e9347380ddef0f3f73a49c35fef479dff3f3b9",item:this.updateCard.course,onCertSelected:e=>this.updateCourse(e)}),t("app-form-item",{key:"21ff714a97c3c1ed7ca47ad83f0ceec0162e4aa3","label-tag":"number","label-text":"Number",lines:"inset",value:this.updateCard.number,name:"number","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"a5391cc71568369db3093b19c08f8445eacc8697","label-tag":"certified","label-text":"Certified",lines:"inset",value:this.updateCard.certified,name:"certified","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"1ef0ca2e0e6b62bd8045dfa693902beac947d3da","label-tag":"expiry","label-text":"Expiry",lines:"inset",value:this.updateCard.expiry,name:"expiry","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"7487a757e284a8e80b36ebe4529195429dd40555","label-tag":"instructor","label-text":"Instructor",lines:"inset",value:this.updateCard.instructor,name:"instructor","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"be84b8f72fda8abe47b9d572fb73d4838d408be8","label-tag":"comments","label-text":"Comments",lines:"inset",value:this.updateCard.comments,name:"comments",textRows:4,"input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}))),t("app-modal-footer",{key:"f6da48ac84952f97a27365715f3faa80d76f7acc",disableSave:!this.validCard,onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})]}get el(){return a(this)}};n.style=r;export{n as modal_dive_card};