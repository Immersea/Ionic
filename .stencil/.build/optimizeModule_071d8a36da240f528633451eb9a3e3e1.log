import{r as e,h as a}from"./p-cbe60c68.js";import{S as t,R as i,am as l,T as d}from"./p-30358c9d.js";import{T as s}from"./p-87afedc7.js";import{S as n}from"./p-a75993af.js";import{E as c}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const b="page-shape-details{}";const p=b;const o=class{constructor(a){e(this,a);this.titles=[{tag:"information",text:"Information"},{tag:"drawing",text:"Drawing",disabled:false}];this.itemId=undefined;this.shape=undefined;this.shapeTypes=undefined;this.updateView=true;this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadShape()}else{t.dismissLoading();t.presentAlertError("No Item Id");i.goBack()}}async componentDidLoad(){this.slider=new n(".slider-detail-shapes",{speed:400,spaceBetween:0,allowTouchMove:false,autoHeight:true,slidesPerView:1,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:2}}})}async loadShape(){try{this.shape=await l.getShape(this.itemId);this.shapeTypes=await l.getShapeTypes();this.checkDwg()}catch(e){t.dismissLoading();t.presentAlertError(e);i.goBack()}t.dismissLoading()}async checkDwg(){if(!this.shape.dwg){const e=this.shapeTypes.find((e=>e.typeId==this.shape.shapeTypeId));if(e){this.shape.dwg=e.dwg}if(!this.shape.dwg){this.titles[1].disabled=true;this.updateView=!this.updateView}}}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editShape(){const e=await l.presentShapeUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadShape()))}deleteShape(){l.deleteShape(this.itemId);i.goBack()}duplicateShape(){l.duplicateShape(this.itemId);i.goBack()}render(){return[a("ion-header",{key:"98fea9c6538ec767d47a2785b96ce9e726dc1776"},a("app-navbar",{key:"96b5b943b6283c271923673291baf4b9ae2b94aa",text:this.shape.shapeName,color:"trasteel",backButton:true,rightButtonText:s.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editShape()})),a("app-header-segment-toolbar",{key:"24b7ed1653dea4b7a69ac3c26a22bde5b1aababa",color:c.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),a("ion-content",{key:"8ef5d4cb77cd12459c4d999a6c1e007525cb8e7f",class:"slides"},a("swiper-container",{key:"15f457a6d78925084a7e84a71b049178cf109064",class:"slider-detail-shapes swiper"},a("swiper-wrapper",{key:"7a00fb1e083f190ed2a71e9c2f00779201fde0cc",class:"swiper-wrapper"},a("swiper-slide",{key:"e634bce6560df5091e2d100bf7e48137c3ddbd5c",class:"swiper-slide"},a("ion-list",{key:"7a3d619d3e12988cce6fdf62379da9facf0a7c6e",class:"ion-no-padding"},a("app-item-detail",{key:"a4c3c4ebae7167b3fd8074eb944b29badb6a997e",lines:"none",labelTag:"shape_type",labelText:"Shape Type",detailText:l.getShapeTypeName(this.shape.shapeTypeId)["en"]}),a("app-item-detail",{key:"091cbc5b5cae9c74842da1da59ea225a61323b06",lines:"none",labelTag:"name",labelText:"Name",detailText:this.shape.shapeName}),a("app-item-detail",{key:"4b108b2edaa6d6de20cedcf1bb381d1d0215c5f8",lines:"none",labelTag:"shortName",labelText:"Short Name",detailText:this.shape.shapeShortName}),a("app-item-detail",{key:"5bce219562edd70ef9abe5fd049e9cf616495f89",lines:"none",labelText:"H",detailText:this.shape.H}),a("app-item-detail",{key:"041f23442ad6576f3e0b8be37d4c9ba68058ac31",lines:"none",labelText:"H1",detailText:this.shape.H1}),a("app-item-detail",{key:"3dfe41efa24d4840b4c6e71282b8d4f7e0b3f1f1",lines:"none",labelText:"H2",detailText:this.shape.H2}),a("app-item-detail",{key:"577236b78f25cbc01bb7a7b400885f57e6c8479e",lines:"none",labelText:"L",detailText:this.shape.L}),a("app-item-detail",{key:"2d96dd39f29300683e4860f73d9a6800233b801f",lines:"none",labelText:"L1",detailText:this.shape.L1}),a("app-item-detail",{key:"943968ca35a6a09325bb883193aa76403180db5f",lines:"none",labelText:"La",detailText:this.shape.La}),a("app-item-detail",{key:"6769ceffb300d0ee50a8788d75eabf31393acbf6",lines:"none",labelText:"Lb",detailText:this.shape.Lb}),a("app-item-detail",{key:"a8fdea0b90615bdd85afc6f1d38c05e2dfe8ae3a",lines:"none",labelText:"A",detailText:this.shape.A}),a("app-item-detail",{key:"641b4b376eab8c730e774826e5704b777024ec3f",lines:"none",labelText:"A1",detailText:this.shape.A1}),a("app-item-detail",{key:"4b9266d4ebfadf4aea78ff8c7f046959ab049de5",lines:"none",labelText:"B",detailText:this.shape.B}),a("app-item-detail",{key:"e688ddfcedc96bf3d713ac53032c763fead2356a",lines:"none",labelText:"B1",detailText:this.shape.B1}),a("app-item-detail",{key:"4e5eb53c5df4c010b0277aa42b0d8f39c3dffd68",lines:"none",labelText:"ANG",detailText:this.shape.ANG}),a("app-item-detail",{key:"ef1c5235ae10c2610609b589fc6efa7743d0e654",lines:"none",labelText:"ANG1",detailText:this.shape.ANG1}),a("app-item-detail",{key:"5037dba6b02f4a8a3f0637d48e627fb87ce89645",lines:"none",labelText:"D",detailText:this.shape.D}),a("app-item-detail",{key:"270eca7421dae9118b8f4cc8637971da11a1a99b",lines:"none",labelText:"D1",detailText:this.shape.D1}),a("app-item-detail",{key:"9775191d916a1c5a0f40d3e5a8a7af12a276504f",lines:"none",labelText:"D2",detailText:this.shape.D2}),a("app-item-detail",{key:"627d306b6ca3e377f69c1252304bc57eb6298034",lines:"none",labelText:"D3",detailText:this.shape.D3}),a("app-item-detail",{key:"331c0e4c2b62e0b33cb4646f7fe584f736e71c81",lines:"none",labelText:"D4",detailText:this.shape.D4}),a("app-item-detail",{key:"5b392cdf25ce7be2393add4159ad827720f8843a",lines:"none",labelText:"De",detailText:this.shape.De}),a("app-item-detail",{key:"6b8941e03aeaacbfc880f5fec24b2413dc3d596a",lines:"none",labelText:"Di",detailText:this.shape.Di}),a("app-item-detail",{key:"cfcc423b2b95d010a3c233e811ad2440915a1f74",lines:"none",labelText:"N",detailText:this.shape.N}),a("app-item-detail",{key:"bb56be5758db31bd682cdf4982249e47e0977e0c",lines:"none",labelText:"Radius",appendText:this.shape.radius_max>0?" MIN":null,detailText:this.shape.radius}),a("app-item-detail",{key:"d9fe66f3d9b6ad1b91a36d5f864763e8882fc155",lines:"none",labelText:"Radius",appendText:" MAX",detailText:this.shape.radius_max}),a("app-item-detail",{key:"489e245484d19f0d4ad9274d5b4311a4a1d2862e",lines:"none",labelText:"Volume",detailText:this.shape.volume})),s.isRefraDBAdmin()?a("ion-grid",null,a("ion-row",null,a("ion-col",null,a("ion-button",{color:"danger",fill:"outline",expand:"block",onClick:()=>this.deleteShape()},a("ion-icon",{name:"trash",slot:"start"}),a("ion-label",null,d.getTransl("delete","Delete")))),a("ion-col",null,a("ion-button",{color:"tertiary",fill:"outline",expand:"block",onClick:()=>this.duplicateShape()},a("ion-icon",{name:"duplicate",slot:"start"}),a("ion-label",null,d.getTransl("copy","Copy")))))):undefined),this.shape.dwg?a("swiper-slide",{class:"swiper-slide"},a("app-banner",{heightPx:500,backgroundCoverFill:false,link:this.shape.dwg?this.shape.dwg.url:null})):undefined)))]}};o.style=p;export{o as page_shape_details};