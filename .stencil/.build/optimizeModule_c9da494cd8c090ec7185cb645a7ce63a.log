import{r as e,h as a}from"./p-cbe60c68.js";import{S as t,R as i,aD as l,E as d,T as s}from"./p-773bd3de.js";import{T as n}from"./p-1d025719.js";import{S as c}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const b="page-shape-details{}";const p=b;const o=class{constructor(a){e(this,a);this.titles=[{tag:"information",text:"Information"},{tag:"drawing",text:"Drawing",disabled:false}];this.itemId=undefined;this.shape=undefined;this.shapeTypes=undefined;this.updateView=true;this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadShape()}else{t.dismissLoading();t.presentAlertError("No Item Id");i.goBack()}}async componentDidLoad(){this.slider=new c(".slider-detail-shapes",{speed:400,spaceBetween:0,allowTouchMove:false,autoHeight:true,slidesPerView:1,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:2}}})}async loadShape(){try{this.shape=await l.getShape(this.itemId);this.shapeTypes=await l.getShapeTypes();this.checkDwg()}catch(e){t.dismissLoading();t.presentAlertError(e);i.goBack()}t.dismissLoading()}async checkDwg(){if(!this.shape.dwg){const e=this.shapeTypes.find((e=>e.typeId==this.shape.shapeTypeId));if(e){this.shape.dwg=e.dwg}if(!this.shape.dwg){this.titles[1].disabled=true;this.updateView=!this.updateView}}}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editShape(){const e=await l.presentShapeUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadShape()))}deleteShape(){l.deleteShape(this.itemId);i.goBack()}duplicateShape(){l.duplicateShape(this.itemId);i.goBack()}render(){return[a("ion-header",{key:"6eb340979f25e55527aca8dce9dc7cc25fc90f11"},a("app-navbar",{key:"4ea02a5fbcca0790f5b17b72e966801c5dab9db8",text:this.shape.shapeName,color:"trasteel",backButton:true,rightButtonText:n.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editShape()})),a("app-header-segment-toolbar",{key:"ff8328e58dacd80a105081de54233ecfbaa0b29c",color:d.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),a("ion-content",{key:"65a7467d17048899e3e5d8f5f1fe1172db42fa50",class:"slides"},a("swiper-container",{key:"77587d7acb0305c20b9df3d6c84f87f5b02e8f89",class:"slider-detail-shapes swiper"},a("swiper-wrapper",{key:"88e32e40b70ef04f1e4cf7023d0700d3385cd864",class:"swiper-wrapper"},a("swiper-slide",{key:"fd19ba9a559aa7e0fe5e214eb6155801a60900f1",class:"swiper-slide"},a("ion-list",{key:"b5d0af92a52b3de381f820ef868cc519a7a90617",class:"ion-no-padding"},a("app-item-detail",{key:"f7402779e83adceee196701b609874307bad4210",lines:"none",labelTag:"shape_type",labelText:"Shape Type",detailText:l.getShapeTypeName(this.shape.shapeTypeId)["en"]}),a("app-item-detail",{key:"f58189256029558509f6ab8af08a54f10d3c7b46",lines:"none",labelTag:"name",labelText:"Name",detailText:this.shape.shapeName}),a("app-item-detail",{key:"16a889ac3f6fd27ee3bfca4ae4c0f7d1b1c6b405",lines:"none",labelTag:"shortName",labelText:"Short Name",detailText:this.shape.shapeShortName}),a("app-item-detail",{key:"51897d28108dec444efbf558b3fec7bc8e3746a9",lines:"none",labelText:"H",detailText:this.shape.H}),a("app-item-detail",{key:"97cea00415ff1c4743a3d2261205c176b8cbc10d",lines:"none",labelText:"H1",detailText:this.shape.H1}),a("app-item-detail",{key:"ae22a7cb1bb63ed3cc7f66c978488cffb12d96a3",lines:"none",labelText:"H2",detailText:this.shape.H2}),a("app-item-detail",{key:"a62567d9a57283cf371b648395f7f6925f290795",lines:"none",labelText:"L",detailText:this.shape.L}),a("app-item-detail",{key:"0be08f4d881580acc0d4a1a21a4887cb3b2987f2",lines:"none",labelText:"L1",detailText:this.shape.L1}),a("app-item-detail",{key:"06eca9a2fa35791f150ca5adad11649cddae89f1",lines:"none",labelText:"La",detailText:this.shape.La}),a("app-item-detail",{key:"21e5abd9f6df1045a500174070324087801795d9",lines:"none",labelText:"Lb",detailText:this.shape.Lb}),a("app-item-detail",{key:"b2a7b928fcfe0ad47932414bce91a6036a85134e",lines:"none",labelText:"A",detailText:this.shape.A}),a("app-item-detail",{key:"45325bce285d1989d3b504f2108c00c9069bbf04",lines:"none",labelText:"A1",detailText:this.shape.A1}),a("app-item-detail",{key:"d7ccd595fde5c5263d941922970ac289003ceebb",lines:"none",labelText:"B",detailText:this.shape.B}),a("app-item-detail",{key:"e530fdea3feb13d0911f3ee756dcb492176c0811",lines:"none",labelText:"B1",detailText:this.shape.B1}),a("app-item-detail",{key:"cb039bb4f5b2f458a8b771766d65e415ac494456",lines:"none",labelText:"ANG",detailText:this.shape.ANG}),a("app-item-detail",{key:"49ef3d4164ef0ca7995092a6e8f03a1c11042234",lines:"none",labelText:"ANG1",detailText:this.shape.ANG1}),a("app-item-detail",{key:"86ca32c4aa1713649460084863d0b8ad1f6525c2",lines:"none",labelText:"D",detailText:this.shape.D}),a("app-item-detail",{key:"a795a79de9a2c32e82d190e933a0b485ddd20659",lines:"none",labelText:"D1",detailText:this.shape.D1}),a("app-item-detail",{key:"f3f4a7a589c769e9f9b585c653b9ef684dd89722",lines:"none",labelText:"D2",detailText:this.shape.D2}),a("app-item-detail",{key:"4e347e18ab3dbdcac974918c5794fee50700b76d",lines:"none",labelText:"D3",detailText:this.shape.D3}),a("app-item-detail",{key:"ba0ab3483505ad05b4fe8353329a06aeed058da1",lines:"none",labelText:"D4",detailText:this.shape.D4}),a("app-item-detail",{key:"fa58ec08bc173bdc0cf5eeddd251edb1ae9cefbf",lines:"none",labelText:"De",detailText:this.shape.De}),a("app-item-detail",{key:"8c32887047746ca68a80864b85d227db44fef658",lines:"none",labelText:"Di",detailText:this.shape.Di}),a("app-item-detail",{key:"6b5e084411e61867374c551b98ca7da0a40bbc85",lines:"none",labelText:"N",detailText:this.shape.N}),a("app-item-detail",{key:"815dfa015a26ce2787cfbcda1463e3a33bc14318",lines:"none",labelText:"Radius",appendText:this.shape.radius_max>0?" MIN":null,detailText:this.shape.radius}),a("app-item-detail",{key:"5f85fcb6232b475c17a5dbaa1a37f68ff3ab7f1f",lines:"none",labelText:"Radius",appendText:" MAX",detailText:this.shape.radius_max}),a("app-item-detail",{key:"1cfa2c789e76bb867e1744b2f2fbdeaf8833bb8f",lines:"none",labelText:"Volume",detailText:this.shape.volume})),n.isRefraDBAdmin()?a("ion-grid",null,a("ion-row",null,a("ion-col",null,a("ion-button",{color:"danger",fill:"outline",expand:"block",onClick:()=>this.deleteShape()},a("ion-icon",{name:"trash",slot:"start"}),a("ion-label",null,s.getTransl("delete","Delete")))),a("ion-col",null,a("ion-button",{color:"tertiary",fill:"outline",expand:"block",onClick:()=>this.duplicateShape()},a("ion-icon",{name:"duplicate",slot:"start"}),a("ion-label",null,s.getTransl("copy","Copy")))))):undefined),this.shape.dwg?a("swiper-slide",{class:"swiper-slide"},a("app-banner",{heightPx:500,backgroundCoverFill:false,link:this.shape.dwg?this.shape.dwg.url:null})):undefined)))]}};o.style=p;export{o as page_shape_details};