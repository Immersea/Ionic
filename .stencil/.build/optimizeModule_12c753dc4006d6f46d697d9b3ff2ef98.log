import{b as n}from"./p-694b8ade.js";import{w as e,B as o}from"./p-cbe60c68.js";import{p as t}from"./p-6879854f.js";import{r as s}from"./p-9c77ce6f.js";import{g as i}from"./p-78bffe29.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const a="ionViewWillEnter";const r="ionViewDidEnter";const c="ionViewWillLeave";const f="ionViewDidLeave";const u="ionViewWillUnload";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l=n=>{n.tabIndex=-1;n.focus()};const d=n=>n.offsetParent!==null;const p=()=>{const e=e=>{const o=n.get("focusManagerPriority",false);if(o){const n=document.activeElement;if(n!==null&&(e===null||e===void 0?void 0:e.contains(n))){n.setAttribute(m,"true")}}};const o=e=>{const o=n.get("focusManagerPriority",false);if(Array.isArray(o)&&!e.contains(document.activeElement)){const n=e.querySelector(`[${m}]`);if(n&&d(n)){l(n);return}for(const n of o){switch(n){case"content":const o=e.querySelector('main, [role="main"]');if(o&&d(o)){l(o);return}break;case"heading":const s=e.querySelector('h1, [role="heading"][aria-level="1"]');if(s&&d(s)){l(s);return}break;case"banner":const i=e.querySelector('header, [role="banner"]');if(i&&d(i)){l(i);return}break;default:t(`Unrecognized focus manager priority value ${n}`);break}}l(e)}};return{saveViewFocus:e,setViewFocus:o}};const m="ion-last-focus";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w=()=>import("./p-79c07b09.js");const b=()=>import("./p-31147cdf.js");const v=p();const g=n=>new Promise(((o,t)=>{e((()=>{y(n);h(n).then((e=>{if(e.animation){e.animation.destroy()}P(n);o(e)}),(e=>{P(n);t(e)}))}))}));const y=n=>{const e=n.enteringEl;const o=n.leavingEl;v.saveViewFocus(o);z(e,o,n.direction);if(n.showGoBack){e.classList.add("can-go-back")}else{e.classList.remove("can-go-back")}W(e,false);e.style.setProperty("pointer-events","none");if(o){W(o,false);o.style.setProperty("pointer-events","none")}};const h=async n=>{const e=await E(n);const t=e&&o.isBrowser?V(e,n):j(n);return t};const P=n=>{const e=n.enteringEl;const o=n.leavingEl;e.classList.remove("ion-page-invisible");e.style.removeProperty("pointer-events");if(o!==undefined){o.classList.remove("ion-page-invisible");o.style.removeProperty("pointer-events")}v.setViewFocus(e)};const E=async n=>{if(!n.leavingEl||!n.animated||n.duration===0){return undefined}if(n.animationBuilder){return n.animationBuilder}const e=n.mode==="ios"?(await w()).iosTransitionAnimation:(await b()).mdTransitionAnimation;return e};const V=async(n,e)=>{await k(e,true);const o=n(e.baseEl,e);A(e.enteringEl,e.leavingEl);const t=await M(o,e);if(e.progressCallback){e.progressCallback(undefined)}if(t){U(e.enteringEl,e.leavingEl)}return{hasCompleted:t,animation:o}};const j=async e=>{const o=e.enteringEl;const t=e.leavingEl;const s=n.get("focusManagerPriority",false);await k(e,s);A(o,t);U(o,t);return{hasCompleted:true}};const k=async(n,e)=>{const o=n.deepWait!==undefined?n.deepWait:e;if(o){await Promise.all([N(n.enteringEl),N(n.leavingEl)])}await L(n.viewIsReady,n.enteringEl)};const L=async(n,e)=>{if(n){await n(e)}};const M=(n,e)=>{const o=e.progressCallback;const t=new Promise((e=>{n.onFinish((n=>e(n===1)))}));if(o){n.progressStart(true);o(n)}else{n.play()}return t};const A=(n,e)=>{C(e,c);C(n,a)};const U=(n,e)=>{C(n,r);C(e,f)};const C=(n,e)=>{if(n){const o=new CustomEvent(e,{bubbles:false,cancelable:false});n.dispatchEvent(o)}};const D=()=>new Promise((n=>s((()=>s((()=>n()))))));const N=async n=>{const e=n;if(e){if(e.componentOnReady!=null){const n=await e.componentOnReady();if(n!=null){return}}else if(e.__registerHost!=null){const n=new Promise((n=>s(n)));await n;return}await Promise.all(Array.from(e.children).map(N))}};const W=(n,e)=>{if(e){n.setAttribute("aria-hidden","true");n.classList.add("ion-page-hidden")}else{n.hidden=false;n.removeAttribute("aria-hidden");n.classList.remove("ion-page-hidden")}};const z=(n,e,o)=>{if(n!==undefined){n.style.zIndex=o==="back"?"99":"101"}if(e!==undefined){e.style.zIndex="100"}};const B=n=>{if(n.classList.contains("ion-page")){return n}const e=n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");if(e){return e}return n};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var F;(function(n){n["Unimplemented"]="UNIMPLEMENTED";n["Unavailable"]="UNAVAILABLE"})(F||(F={}));
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var I;(function(n){n["Body"]="body";n["Ionic"]="ionic";n["Native"]="native";n["None"]="none"})(I||(I={}));const K={getEngine(){const n=i();if(n===null||n===void 0?void 0:n.isPluginAvailable("Keyboard")){return n.Plugins.Keyboard}return undefined},getResizeMode(){const n=this.getEngine();if(!(n===null||n===void 0?void 0:n.getResizeMode)){return Promise.resolve(undefined)}return n.getResizeMode().catch((n=>{if(n.code===F.Unimplemented){return undefined}throw n}))}};export{K,u as L,I as a,c as b,f as c,N as d,B as g,C as l,W as s,g as t,D as w};