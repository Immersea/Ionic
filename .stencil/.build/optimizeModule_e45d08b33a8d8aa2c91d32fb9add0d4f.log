import{r as e,h as i}from"./p-cbe60c68.js";import{S as t,R as a,ay as l,E as o,W as s,T as n,a6 as r,aD as d}from"./p-f42b650b.js";import{S as c}from"./p-a75993af.js";import{T as p}from"./p-9506aa75.js";import{l as g}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const b="page-project-details ion-grid{--ion-grid-column-padding:0px}page-project-details .separator{background-color:var(--ion-color-trasteel-tint);height:3px}page-project-details .separator ion-col{height:0px !important}page-project-details .positions-box{margin-top:10px;padding-top:5px;padding-right:5px;padding-bottom:5px;padding-left:10px;border:1px solid black}page-project-details #responsive-grid ion-grid{--ion-grid-padding:5px;--ion-grid-column-padding:0px}page-project-details #responsive-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-size:0.75rem;font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #responsive-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #responsive-grid ion-grid .noborder{border:0px}page-project-details #responsive-grid ion-grid ion-col{align-items:center;justify-content:center;text-align:center}page-project-details #responsive-grid ion-grid .ext-row{border:1px solid black}page-project-details #responsive-grid ion-grid .ext-col{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1{border-bottom:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:first-child{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1a{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:last-child{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row2{border-bottom:1px solid black;border-left:0px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row2{border-left:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row2:last-child{border-bottom:0px solid black}page-project-details #responsive-grid ion-grid .inner-col{border-right:1px solid black}page-project-details #responsive-grid ion-grid .button-no-margin{--padding-top:0px;--padding-bottom:0px;--padding-start:5px;--padding-end:5px}@media screen and (min-width: 1100px){page-project-details #responsive-grid ion-grid .button-no-margin{--padding-start:10px;--padding-end:10px}}page-project-details #courses-grid .centered{display:flex;align-items:center;justify-content:center;text-align:center}page-project-details #courses-grid ion-grid{border-collapse:collapse;border-style:hidden}page-project-details #courses-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #courses-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #courses-grid ion-grid ion-col{border:1px solid black;border-bottom:0;border-right:0}page-project-details #courses-grid ion-grid ion-col:last-child{border-right:1px solid black}page-project-details #courses-grid ion-grid ion-row:last-child{border-bottom:1px solid black}";const h=b;const f=class{constructor(i){e(this,i);this.titles=[{tag:"summary",text:"Summary"},{tag:"information",text:"Information"},{tag:"shaped",text:"Shaped",disabled:false},{tag:"unshaped",text:"Unshaped",disabled:false},{tag:"files",text:"Files",disabled:true}];this.itemId=undefined;this.project=undefined;this.updateView=true;this.updateSummary=true;this.allocationAreaSegment=0;this.areaShapes=[];this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadProject()}else{t.dismissLoading();t.presentAlertError("No Item Id");a.goBack()}}async loadProject(e){try{e?this.project=e:this.project=await l.getProject(this.itemId);this.areaShapes=await l.loadShapesForApplication(this.project);await l.checkBricksAllocationAreasForProject(this.project);this.updateSummary=!this.updateSummary;this.titles[2].disabled=this.project.projectAreaQuality.length==0;this.titles[3].disabled=this.project.projectMass.length==0;this.updateSlider()}catch(e){t.dismissLoading();a.goBack();t.presentAlertError(e)}}async componentDidLoad(){t.dismissLoading();this.slider=new c(".slider-detail-project",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}allocationAreaSegmentChanged(e){this.allocationAreaSegment=e.detail.value;this.updateSlider()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editProject(e){const i=await l.presentProjectUpdate(e?e:this.itemId);i.onDidDismiss().then((e=>this.loadProject(e.data)))}render(){return[i("ion-header",{key:"6d34581598b7659809660157f985bd744bddb214"},i("app-navbar",{key:"db801032d33fd03e6139a8219dd141f93b6eccce",text:this.project.projectLocalId,color:"trasteel",backButton:true,rightButtonText:p.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editProject()})),i("app-header-segment-toolbar",{key:"1daf5d795b5fedb225e04ac8934cb260226b1e33",color:o.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),i("ion-content",{key:"5c36c5ea358e50f8dd5680db9560c0020b94fced",class:"slides"},i("swiper-container",{key:"26d696145bd0d802b7f23f8becab29310715b390",class:"slider-detail-project swiper"},i("swiper-wrapper",{key:"6616fe7906083dadd06addda563955a5fdcc238a",class:"swiper-wrapper"},i("swiper-slide",{key:"7ecaa86c467ef4a49b6a9c09d62d16498d1b4bb7",class:"swiper-slide"},i("app-page-project-summary",{key:"697de8bba5259562cc08cb70c68873e5921934db",project:this.project,areaShapes:this.areaShapes,updateSummary:this.updateSummary})),i("swiper-slide",{key:"48f0e75fa35a2f6046580bccf37d68e2d0613f3a",class:"swiper-slide"},i("ion-list",{key:"857233bbf7d62bf1be928c5a9f758a4c269c4758",class:"ion-no-padding",id:"project-grid"},i("app-item-detail",{key:"1b61c3e085971d38c64f0438979304189c012836",lines:"none","label-tag":"customer","label-text":"Customer",detailText:this.project.customerId?s.getCustomersDetails(this.project.customerId)?s.getCustomersDetails(this.project.customerId).fullName:null:null}),i("app-item-detail",{key:"8c2865380df235295fc8dcc0999325e2744812c5",lines:"none","label-tag":"project-name","label-text":"Project Name",detailText:this.project.projectLocalId}),i("app-item-detail",{key:"74413acc90c24d3605a1701673921e917f8f3fbb",lines:"none","label-tag":"technical-docs-caption","label-text":"Technical Docs Caption",detailText:this.project.docsCaption}),i("app-item-detail",{key:"3152d29713cd892ac4bae180629a297413d95eec",lines:"none","label-tag":"project-description","label-text":"Project Description",detailText:this.project.projectDescription}),i("app-item-detail",{key:"6b02483b78357dfcb0077c2933f81ac960ec33ad",lines:"none","label-tag":"drawing-no","label-text":"Drawing No.",detailText:this.project.drawing}),i("ion-grid",{key:"c0ce239b345ea560832508d5b680dee792d53491"},i("ion-row",{key:"caf8b83990566d57e8f2deeab8fd59f1e305ef29"},i("ion-col",{key:"c07c53d9db0c6dd2bfb92853d143491ac73bad36"},i("app-item-detail",{key:"74e5093e10735e19e2fadd6f5866d77843384545",lines:"none","label-tag":"drawing-date","label-text":"Drawing Date",detailText:this.project.drawingDate,isDate:true})),i("ion-col",{key:"8b1fe130e0639bbf2e28ff5df4cdaa7b439354e5"},i("app-item-detail",{key:"91ebed3738338b3c54f8324b4e3f6b7c2b81f2ae",lines:"none","label-tag":"project-finished-date","label-text":"Project Finished Date",detailText:this.project.finishedDate,isDate:true})))),i("ion-grid",{key:"1f44fdea1b049d3365a65139aba908e295dd117a"},i("ion-row",{key:"047953da61bf57502ade597774f222474f4cb793"},i("ion-col",{key:"328346a70a6ac2c1539fce73c09d47670c6fe4e3"},i("app-item-detail",{key:"5545bc493d065b8a111a760ee1114d6b09c83e61",lines:"none","label-tag":"capacity","label-text":"Capacity",detailText:g.exports.toString(this.project.steelAmount)})),i("ion-col",{key:"324fef9aa67abae7c1279c2511c9371201706e5e"},i("app-item-detail",{key:"9d75ade2840e54b459d2820771d7a034352f0480",lines:"none","label-tag":"application-unit","label-text":"Application Unit",detailText:l.getApplicationUnits(this.project.applicationId)[0].applicationName.en})))),i("app-item-detail",{key:"ef7554a1843f6af067249d3d41f2ca5a710d947f",lines:"none","label-tag":"steel-amount","label-text":"Steel Amount",detailText:g.exports.toString(this.project.steelAmount)}),i("app-item-detail",{key:"7857bb1171c8c5ed32443470354b3712dc70d25f",lines:"none","label-tag":"steel-density","label-text":"Steel Density",appendText:" (g/sm3)",detailText:g.exports.toString(this.project.liquidMetalDensity)}),i("app-item-detail",{key:"9f39e2f7b5115bbc4ee2c263905f9a70a2751e06",lines:"none","label-tag":"guaranteed-lifetime","label-text":"Guaranteed Lifetime",appendText:" (heats)",detailText:this.project.guaranteedLife}))),i("swiper-slide",{key:"876a452c0fa72295be39110b2243ef8bd6c142f7",class:"swiper-slide"},i("div",{key:"813ee5649b45f171f38b379bbf919b840d69628e"},i("ion-toolbar",{key:"be067ad560cf30dd7ab6c3bc74a49e00a63f1dec"},i("ion-segment",{key:"8500d382b67a667f1b5f77a495ec216ed82e09ea",mode:"ios",scrollable:true,onIonChange:e=>this.allocationAreaSegmentChanged(e),value:this.allocationAreaSegment},this.project.projectAreaQuality.map(((e,t)=>i("ion-segment-button",{value:t,layout:"icon-start"},i("ion-label",null,(e.bricksAllocationAreaId?l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en:"")+(e.onlyForRepair?" ("+n.getTransl("repair","Repair")+")":""))))))),this.project.projectAreaQuality.map(((e,t)=>i("div",null,this.allocationAreaSegment==t?i("div",null,i("ion-grid",null,i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"bricks-allocation-area","label-text":"Bricks Allocation Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:r.getDatasheetName(e.datasheetId)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:g.exports.toString(e.density)}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"include-safety","label-text":"Include Safety",appendText:" %",detailText:g.exports.toString(e.includeSafety)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"only-for-repair","label-text":"Only for repair",detailText:e.onlyForRepair}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"comments","label-text":"Comments",detailText:g.exports.toString(e.comments)}))),i("div",{class:"positions-box"},e.shapes?e.shapes.map(((a,l)=>i("ion-row",null,i("ion-col",{size:"3"},i("app-item-detail",{showItem:false,"label-tag":l==0?"position":null,"label-text":l==0?"Position":null,detailText:g.exports.toString(a.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,labelTag:l==0?"shape":null,labelText:l==0?"Shape":null,detailText:d.getShapeName(e.shapes[l].shapeId)})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"radius":null,labelText:l==0?"Radius":null,appendText:l==0?" (mm)":null,detailText:this.areaShapes&&this.areaShapes[t]&&this.areaShapes[t].shapes[l].radius>0?this.areaShapes[t].shapes[l].radius:"-"})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"weight":null,labelText:l==0?"Weight":null,appendText:l==0?" (Kg)":null,detailText:this.areaShapes&&this.areaShapes[t]?this.project.projectAreaQuality[t].shapes[l].specialShapeVolume>0?this.areaShapes[t].shapes[l].getWeightForVolume(this.project.projectAreaQuality[t].shapes[l].specialShapeVolume,e.density):this.areaShapes[t].shapes[l].getWeight(e.density):"-"}))))):undefined)),i("div",{id:"responsive-grid"},i("ion-grid",null,i("ion-row",{class:"header ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("course","Course")),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("start","Start")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("end","End")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},n.getTransl("radius","Radius")+" (mm)"))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},"Pos. "+e.shapes.map((e=>e.position))),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("quantity","Quantity")),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("sum","Sum")),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("repair-sets","Repair Sets")),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("weight","Weight")+" (Kg)"),i("ion-col",{size:"2",class:"inner-col"},n.getTransl("row-weight","Row Weight")+" (Kg)")))))),e.courses.map(((a,o)=>[i("ion-row",{class:"ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.courseNumber),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.startAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.endAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.innerRadius))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},e.shapes.map(((e,s)=>i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},d.getShapeName(e.shapeId)),i("ion-col",{size:"2",class:"inner-col"},a.quantityShapes.length>0&&a.quantityShapes[s]?a.quantityShapes[s].quantity:0),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.countTotalQuantity(a):undefined),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?a.repairSets:undefined),i("ion-col",{size:"2",class:"inner-col"},l.getAreaCourseWeightForShape(this.project,this.areaShapes,t,o,s)),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.getTotalWeightForCourse(this.project,this.areaShapes,t,o):undefined)))))))),i("ion-row",{class:"separator"},i("ion-col",null))]))))):undefined))))),i("swiper-slide",{key:"407e4781596c562827f898b84e16f5b127216210",class:"swiper-slide"},i("div",{key:"f89984611b61a3ae2715bfc52a201eedb2e98dc1"},i("ion-grid",{key:"5ebb99c4e1f867d9c604da1d160508f0ce025826"},this.project.projectMass.map((e=>[i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"position","label-text":"Position",detailText:g.exports.toString(e.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"application-area","label-text":"Application Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:r.getDatasheetName(e.datasheetId)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:e.density}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quantity","label-text":"Quantity",detailText:g.exports.toString(e.quantity)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"unit","label-text":"Unit",detailText:e.quantityUnit?l.getQuantityUnits(e.quantityUnit)[0].quantityUnitName.en:""})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"x")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"weight-per-unit","label-text":"Weight per Unit",appendText:" (Kg)",detailText:e.weightPerUnitKg})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"=")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"total-weight","label-text":"Total Weight",appendText:" (MT)",detailText:e.totalWeightMT}))),i("ion-row",{class:"separator"},i("ion-col",null))]))))),i("swiper-slide",{key:"9d5a9dd0594833e30ec5ca0eacc827304e252893",class:"swiper-slide"},"file - to do"))))]}};f.style=h;export{f as page_project_details};