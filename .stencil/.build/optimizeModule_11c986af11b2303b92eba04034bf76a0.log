import{r as e,h as t,H as i,f as o}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n as s}from"./p-5d4a8e1f.js";import{l as c}from"./p-1af05547.js";import{E as a}from"./p-46038295.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const n="popover-select-search{}popover-select-search .boldText{font-weight:bold}";const d=n;const r=class{constructor(t){e(this,t);this.selectOptions=undefined;this.selectValueText=undefined;this.placeholder="Search";this.selectValueId=undefined;this.value=undefined;this.filteredOptions=undefined}componentWillLoad(){this.popover=this.el.closest("ion-popover");this.filteredOptions=c.exports.cloneDeep(this.selectOptions)}componentDidLoad(){const e=this.el.querySelector("ion-searchbar");if(e){e.componentOnReady().then((()=>{setTimeout((()=>{e.setFocus()}))}))}}handleSearch(e){let t="";const i=e.target;if(i)t=i.value.toLowerCase();this.filteredOptions=[];this.selectOptions.forEach((e=>{const i=this.getTextValue(e);if(c.exports.includes(c.exports.toLower(i),t)){this.filteredOptions.push(e)}}))}handleSelect(e){s.dismiss(e)}close(){s.dismiss()}getTextValue(e){let t=c.exports.cloneDeep(e);let i=null;for(let e=0;e<this.selectValueText.length;e++){const o=this.selectValueText[e];if(c.exports.isString(t[o])){i=(i?i+"-":"")+t[o]}else if(c.exports.isObject(t[o])){e++;i=(i?i+"-":"")+t[o][this.selectValueText[e]]}}return i}render(){return t(i,{key:"ae4ca8da411d5e18db3766091c5667e92049d5ef"},t("ion-header",{key:"a05c21554a8219fb29d342c210088dcb5be902c4",translucent:true},t("ion-toolbar",{key:"57dd88a48e4352a2f2a6d7276191beaad0d36f75"},t("ion-grid",{key:"99a3010e6a0aaf1f70606c1b81038afaefcf6328",class:"ion-no-padding"},t("ion-row",{key:"c3fc3c2682322ede6ca74d30ed55f584f5701e27"},t("ion-col",{key:"6f357f97317e3601c876e1c8983724cd618084b7",size:"10"},t("ion-searchbar",{key:"56360e2ca4b393dc8f74ae36e709cfbc668bd52c",animated:true,debounce:250,placeholder:this.placeholder,onIonInput:e=>this.handleSearch(e)})),t("ion-col",{key:"5efcfbb533f27d04217493adddf2788d284f0921",size:"1"},t("ion-button",{key:"e7a5d4d457a3538a4aa9cb0ea581c5fb1d6927e0",color:a.getAppColor(),"icon-only":true,fill:"clear",onClick:this.close},t("ion-icon",{key:"4ae90e9b7aa9cd9936ce73d56ab642d667083e82",name:"close"}))))))),t("ion-content",{key:"5fba2e8d76d838b3e91dd76426c58f561e1ebfdd"},t("ion-list",{key:"3b1d2828f8b55bae8e9d71b2eb42dd4a4117d7c2"},this.filteredOptions.map((e=>t("ion-item",{button:true,onClick:()=>this.handleSelect(e),class:e[this.selectValueId]==this.value?"boldText":""},e[this.selectValueId]==this.value?t("ion-icon",{name:"checkmark"}):undefined,t("ion-label",null,this.getTextValue(e))))))))}get el(){return o(this)}};r.style=d;export{r as popover_select_search};