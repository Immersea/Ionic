import{r as e,h as i,H as t,f as s}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{o as n}from"./p-5d4a8e1f.js";import{l as o}from"./p-1af05547.js";import{E as a}from"./p-46038295.js";import{am as d,Q as r}from"./p-736235c6.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";import"./p-1819cfda.js";import"./p-7ee16e8d.js";const c="modal-search-list{}";const l=c;const h=class{constructor(i){e(this,i);this.list=undefined;this.searchTitle=undefined;this.item=undefined;this.showField=undefined;this.orderBy=[];this.filterBy=undefined;this.placeholder=undefined;this.filterObject=undefined;this.filterPopup=undefined;this.filterFunction=undefined;this.filteredList=undefined}componentWillLoad(){this.nonFilteredList=o.exports.cloneDeep(this.list);this.clearFilterObject=o.exports.cloneDeep(this.filterObject)}async openFilter(){this.filterObject=await this.filterPopup(this.filterObject);this.list=await this.filterFunction(this.filterObject)}clearFilter(){this.filterObject=o.exports.cloneDeep(this.clearFilterObject);this.list=o.exports.cloneDeep(this.nonFilteredList)}handleSelect(e){n.dismiss(e)}renderKey(e){let i=null;switch(e){case"familyId":i=r.getDatasheetFamilies(this.filterObject[e])[0].familyName;break;case"majorFamilyId":i=r.getDatasheetMajorFamilies(this.filterObject[e])[0].majorFamilyName;break;case"shapeTypeId":i=d.getShapeTypeName(this.filterObject[e]).en;break;default:i=e+" = "+this.filterObject[e];break}return i}close(){n.dismiss()}render(){return i(t,{key:"2bdabde2ce4468ae2d67e2728b92114ac86bb74b"},i("ion-header",{key:"862577e6b895d0b059b7b987d1a1734a1500002e"},i("app-navbar",{key:"6e672d76ee08afa9cc855d451e2469a35af6eda0",tag:this.searchTitle.tag?this.searchTitle.tag:"find",text:this.searchTitle.text?this.searchTitle.text:"Find",color:a.getAppColor(),rightButtonText:{icon:"close",tag:null,text:null,fill:"clear"},rightButtonFc:this.close}),i("ion-grid",{key:"38af73391031d09dc64f6185bde4be349a86e60e",class:"ion-no-padding"},i("ion-row",{key:"46b97bb73f2db4ef5894bf59474070f690e8ce70",class:"ion-no-padding"},this.filterObject?i("ion-col",{size:"1",class:"ion-no-padding"},i("ion-toolbar",{color:a.getAppColor()},i("ion-button",{fill:"clear",expand:"full","icon-only":true,onClick:()=>this.openFilter()},i("ion-icon",{name:"filter",color:"light"})))):undefined,i("ion-col",{key:"cd3ea70ee54720b15b509bc235328ce6e5d947ce",size:this.filterObject?"11":"12",class:"ion-no-padding"},i("app-search-toolbar",{key:"c01d2e8b2fd8e56d9dc0ce4914b2b77571f6b463",list:this.list,orderFields:[this.showField],color:"trasteel",placeholder:this.placeholder?this.placeholder:"search",filterBy:this.filterBy,onFilteredList:e=>this.filteredList=e.detail}))))),i("ion-content",{key:"7163dc4ffa6f365742ff687a082d877beac5b06d"},this.filterObject&&this.filterObject.isActive()?[i("ion-breadcrumbs",null,i("ion-button",{"icon-only":true,fill:"clear",onClick:()=>this.clearFilter()},i("ion-icon",{color:"danger",name:"trash"})),i("ion-breadcrumb",null),Object.keys(this.filterObject).map((e=>e!="oldProduct"&&(this.filterObject[e]>0||this.filterObject[e]!==null)?i("ion-breadcrumb",null,this.renderKey(e)):undefined)),i("ion-breadcrumb",null))]:undefined,i("app-infinite-scroll",{key:"6d2c7a2435128f5e2120968e4d67b8968550b7c8",list:this.filteredList,showFields:[this.showField],orderBy:this.orderBy,onItemClicked:e=>this.handleSelect(e.detail)})))}get el(){return s(this)}};h.style=l;export{h as modal_search_list};