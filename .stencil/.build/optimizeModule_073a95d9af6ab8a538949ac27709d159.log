import{r as e,h as a,H as t,f as o}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n as i}from"./p-5d4a8e1f.js";import{aC as n,aF as c}from"./p-4094830e.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-1af05547.js";import"./p-e9c4f463.js";const s="popover-shapes-filter{min-width:var(--popover-width)}";const l=s;const p=class{constructor(a){e(this,a);this.filter=undefined;this.shapeTypes=undefined;this.dwg=undefined}async componentWillLoad(){this.popover=this.el.closest("ion-popover");this.shapeTypes=await n.getShapeTypes();this.adjustPopoverWidth("900px")}handleFilter(e){this.filter[e.detail.name]=e.detail.value}async handleSelect(e){this.filter.shapeTypeId=e.detail.value;const a=new c(this.filter);await n.setDwgForShape(a);this.dwg=a.dwg}adjustPopoverWidth(e){this.popover.style.setProperty("--popover-width",e)}close(){i.dismiss()}save(){i.dismiss(this.filter)}render(){return a(t,{key:"56ffc4c539f408d67b17c41ff796e6b2ce22244d"},a("ion-header",{key:"7066b0b2af09d497ae6487a83f4a63eb5157a617",translucent:true},a("ion-toolbar",{key:"757f90fc4596b06e1eda0ae097492ad25d12980c"},a("ion-title",{key:"510a4af2f7707ed47d7e06bc101c5b98b452a028"},"Filter Shapes"))),a("ion-content",{key:"3ba1354595ebc1ef125e8864a6684e02ef338f70"},a("ion-grid",{key:"4879235149f95ef502d037d12ae72ef2002b11e6"},a("ion-row",{key:"3c556cd834a41c4575b7b57c14f6abea0a54a367"},a("ion-col",{key:"bc382ababd2e2b7d07e76be9119bc29aae95c32d"},a("ion-list",{key:"f111d1011df2870d38be2a08af6c7168e9407dbb"},a("ion-grid",{key:"c4bf95f6cb72878b76b44a3ccac3583e7640ea37"},a("ion-row",{key:"122b2efded566b7f7cf484ddd7144ec2b370decc"},a("ion-col",{key:"54e8500c332ac1be9400f7e56058532d2feb1dab"},a("app-select-search",{key:"43750c9109dbf8701608956276f351ca015beec8",label:{tag:"shape_type",text:"Shape Type"},value:this.filter.shapeTypeId,lines:"inset",selectFn:e=>this.handleSelect(e),selectOptions:this.shapeTypes,selectValueId:"typeId",selectValueText:["typeName","en"]})))),Object.keys(this.filter).map((e=>!e.includes("operator")&&e!=="shapeTypeId"?a("ion-row",null,a("ion-col",null,a("app-form-item",{"label-text":e,value:this.filter[e],name:e,"input-type":"number",onFormItemChanged:e=>this.handleFilter(e)})),a("ion-col",{size:"1"},a("ion-select",{color:"trasteel",interface:"action-sheet",onIonChange:a=>this.filter[e+"_operator"]=a.detail.value,value:this.filter[e+"_operator"]},a("ion-select-option",{value:">="},a("ion-label",null,">=")),a("ion-select-option",{value:">"},a("ion-label",null,">")),a("ion-select-option",{value:"="},a("ion-label",null,"=")),a("ion-select-option",{value:"<"},a("ion-label",null,"<")),a("ion-select-option",{value:"<="},a("ion-label",null,"<="))))):undefined)))),a("ion-col",{key:"fcbe117ecf79004ebda3081ae4af09f813190b22"},a("app-banner",{key:"57ad7b986e915495cc07df4dcbccf6d3800eac09",scrollTopValue:0,heightPx:300,backgroundCover:false,link:this.dwg?this.dwg.url:null}))))),a("ion-footer",{key:"ac1af53e68d75b1831182f96aa49ea042bf01bf9"},a("app-modal-footer",{key:"7c8ba2005af5140182816179611cae1235b9b11a",saveTag:{tag:"filter",text:"Filter"},onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})))}get el(){return o(this)}};p.style=l;export{p as popover_shapes_filter};