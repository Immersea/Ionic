import{r as e,h as a,f as c}from"./p-cbe60c68.js";import{O as d,aq as i,Q as t,h as f,b as s,U as b,ai as o,R as n,aP as l}from"./p-c24c8a77.js";import{S as r}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const y="page-dive-site-details{}";const k=y;const p=class{constructor(a){e(this,a);this.markers=[];this.siteid=undefined;this.diveSite=undefined;this.diveTrips=undefined;this.divingCenters=undefined;this.titles=[{tag:"map"},{tag:"information"},{tag:"dive-profiles"},{tag:"diving-centers"},{tag:"next-trips",text:"Next Dive Trips"}];this.segment=0;this.slider=undefined}async componentWillLoad(){this.diveSite=await d.getDiveSite(this.siteid);this.diveTrips=await i.getTripsSummary(t,this.siteid);this.divingCenters=d.loadSiteDivingCenters(this.diveSite);let e=f.getMapDocs()[t].icon;e.size="large";let a=f.getMapDocs()[s].icon;a.size="small";this.markers.push({icon:e,latitude:this.diveSite.position.geopoint.latitude,longitude:this.diveSite.position.geopoint.longitude});this.divingCenters.siteDivingCenters.forEach((e=>{this.markers.push({name:e.displayName,icon:a,latitude:e.position.geopoint.latitude,longitude:e.position.geopoint.longitude})}));this.userRoles=b.userRoles}async componentDidLoad(){this.slider=new r(".slider-dive-site",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});await customElements.whenDefined("app-map");this.mapElement=this.el.querySelector("#map");const e=this.el.querySelector("#map-container");e.setAttribute("style","height: "+o(this.diveSite)+"px");this.mapElement["mapLoaded"]().then((()=>{this.mapElement.triggerMapResize();this.setLinesForDiveSite()}));this.setLinesForDiveSite();this.mapElement.triggerMapResize();if(d.showNewDivePlans){this.segment=2}else{this.segment=0}}setLinesForDiveSite(){this.mapElement.triggerMapResize();const e=[this.diveSite];this.divingCenters.siteDivingCenters.forEach((async a=>{e.push(a);this.mapElement["createLine"](a.id,this.diveSite,a)}));this.mapElement["fitToBounds"](e)}render(){return[a("ion-header",{key:"5dae79da13ea6d26fce3ac321034d3265d12359d"},a("app-item-cover",{key:"c180403c5343c91cafed49f8cb45a60c209073ff",item:this.diveSite})),a("ion-header",{key:"b8355eb3c6ddfe20c01e0a44a333f916cdf9b73f"},a("ion-toolbar",{key:"149fe99e603ff644aafc0552ff5950de4214fd33",color:"divesite",class:"no-safe-padding"},this.diveSite&&!this.diveSite.coverURL?a("ion-buttons",{slot:"start"},a("ion-button",{onClick:()=>n.goBack(),"icon-only":true},a("ion-icon",{name:"arrow-back"}))):undefined,a("ion-title",{key:"37e5b399650ea81c77d144eac3dca4e6a8fc7f21"},this.diveSite.displayName))),a("app-header-segment-toolbar",{key:"b9889dd1061c68e14c7f72a216ebd968d0e1b7b3",color:"divesite",swiper:this.slider,titles:this.titles}),a("ion-content",{key:"4aed39c151c973f1048e5e12a8c09bf9f1b29655",class:"slides"},a("ion-fab",{key:"763aed1b6cb6c141f182a1d8b617ae104c695f40",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:l(2)}},a("ion-fab-button",{key:"2867f5f909899350664a0d928fa31c7ceb7ad2f6",onClick:()=>n.goBack(),class:"fab-icon"},a("ion-icon",{key:"5cbfa5f370bfc42dfb683dfd0eb34e2e13363f8a",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"910d233cd73c8080a1bf6fef5f1b672a90b7eb46",class:"slider-dive-site swiper"},a("swiper-wrapper",{key:"f5f71ce4acfca4872b0ec2851b0399a93faeaa5a",class:"swiper-wrapper"},a("swiper-slide",{key:"a4d7ced0d3ee97446dfebfcb319dbeafa63d9592",class:"swiper-slide"},a("ion-list",{key:"4d86a00f415f983d766a338b6a450cda19d9e8e1",class:"ion-no-padding"},a("ion-list-header",{key:"7f6db1e8ce5896afe01aeba90c0bbaf640b4b342"},a("ion-label",{key:"2feda82e72b2d6f8cf92d89becf4baac526c894d",color:"divesite"},a("my-transl",{key:"8594ed269e926a34972171b8d8a7ee187ecf9205",tag:"general-information",text:"General Information"}))),a("ion-item",{key:"98d5dccb933f68dcfc5a0b7a1c4876f11128e550"},a("ion-label",{key:"9d8685962ee165af1bd41fd08d7da7d64bdea055",class:"ion-text-wrap"},a("ion-text",{key:"10a400b428808803013c8758ce3be74f2e517970",color:"divesite"},a("h3",{key:"84aa39f71f0283a230100bb705930d9eda0a2078"},a("my-transl",{key:"79e5ba8b3d006dd535ce8828d24cabb1edf4d048",tag:"site-type",text:"Site Type"}))),a("ion-text",{key:"9e8085ae98c740bc4626a10801f02677cfd07fe7",color:"dark"},a("p",{key:"c2c27b06c8ca985e75479334f311538606613ea4"},d.getSiteTypeName(this.diveSite.type))))),a("ion-item",{key:"4e4d2dd38cc3e2245c76bec3dfc74332203a9df4"},a("ion-label",{key:"22075c5e7d9fa226507c06dba5ab8e33f093fd17",class:"ion-text-wrap"},a("ion-text",{key:"f7428e5ff423022e18757ffcf7f7be29e5c7ca48",color:"dark"},a("p",{key:"bff16c3961c9d3f0021967c3cb02caa0ce076a26"},this.diveSite.description)))),a("ion-list-header",{key:"081e53c3bdca7653c18c46e470167de9d475b428"},a("ion-label",{key:"3ec09b783e70832fc835f2d24ebd45e1068fe30e",color:"divesite"},a("my-transl",{key:"17115de934a53783726bd7f884cbc98dd383888d",tag:"site-details",text:"Site Details"}))),a("ion-item",{key:"4893888004ae57d67f671b4546351f8e15764361"},a("ion-label",{key:"9a87fc9bfac19ddaa7c5039f8036d41d949922a8",class:"ion-text-wrap"},a("ion-text",{key:"d8e0bd3c20a2ac8b9e09abbc0df3267fa22029fa",color:"divesite"},a("h3",{key:"98e64a72a3d7162bed932d9af0b560bcd13c169c"},a("my-transl",{key:"a8136d399d56194e0b71fdca5e97fa950d42197e",tag:"entry-type",text:"Entry Type"}))),a("ion-text",{key:"227db7df2e8ea0d01e7019775a7e33213d0559e7",color:"dark"},a("p",{key:"a5915dc0bca7a080336131cc6a25b323feda79bd"},d.getEntryTypeName(this.diveSite.information.entryType))))),a("ion-grid",{key:"3f86c87b5514ad97efbf55e4f726d08acf43d1eb",class:"ion-no-padding"},a("ion-row",{key:"4afc4cb5f2a31b461218ee010afaf28f83d21d93"},a("ion-col",{key:"b2f977a2b59ea3739f308467f1a4f80840bf54ef"},a("ion-item",{key:"557077c985fd963fb121ac136e29ca28dfd9ae9e"},a("ion-label",{key:"d00afbd16b68fa5a68ddb8fbb50770c726580bed",class:"ion-text-wrap"},a("ion-text",{key:"0375e5ff865c2c41669d88ae4362b895c204332c",color:"divesite"},a("h3",{key:"c729f6c4941026566494af8a209be7a758280230"},a("my-transl",{key:"75d0ce938d1a93a0b0919d72b44fe503ef57a60a",tag:"min-depth",text:"Min. Depth"}))),a("ion-text",{key:"9620c5ecc4c21ad81c6844041e1e72f330daf1d3",color:"dark"},a("p",{key:"66353c61c57e44c4123683543ddb98a1309b9d44"},this.diveSite.information.minDepth," m"))))),a("ion-col",{key:"6ad84ae206c7c9ee12ef38dca4fe3184073a0cfe"},a("ion-item",{key:"78a85732f93e103243efc9b4074836014fdb9c25"},a("ion-label",{key:"4df55750402cafa7ae9ea1920f175728585ff77f",class:"ion-text-wrap"},a("ion-text",{key:"390e04bc8d0ebaf0c194d627e603e96252f132fb",color:"dark"},a("ion-text",{key:"013d220ae648b62f2e15b2c0adf5276793075730",color:"divesite"},a("h3",{key:"4ecc494e452ac575e214c2d7ec94dc507cb596fc"},a("my-transl",{key:"1a84269f8da2399701a3d97e3f14599121ced540",tag:"max-depth",text:"Max. Depth"}))),a("p",{key:"1a5c36f8e3540fdfc12cecb8eb5ab8af518f8f1b"},this.diveSite.information.maxDepth," m"))))))),a("ion-item",{key:"9d1d4b4fc03f448c81e22f13c980fe52e1e6afea"},a("ion-label",{key:"4d3ed7faa064019bdeba51df1e52f31e010ee457",class:"ion-text-wrap"},a("ion-text",{key:"73b28a889b2f7064a2d3794e75c7590a14ca22e4",color:"divesite"},a("h3",{key:"2061b1e4b805073436f2c05b1a826dee4dfa7bad"},a("my-transl",{key:"e1aa2697b993d1fe463bbe88830b53dd81082749",tag:"avg-vis",text:"Average Visibility"}))),a("ion-text",{key:"49db9a0d7fe6195a6588cc0878a71d2fa760c868",color:"dark"},a("p",{key:"04c3715250c2b2018937311dd4a7f199ed9f43ed"},this.diveSite.information.avgViz," m")))),a("ion-list-header",{key:"e24ab8ae5c92b0e8e0bbf1784346aa3ea05315c9"},a("ion-label",{key:"e2611e25981b83c69bcf97884af2d49614e83177",color:"divesite"},a("my-transl",{key:"52c01faecda7dd2c1e409f00f29854e679cbb4d7",tag:"water-temp",text:"Water Temperature"}))),a("ion-grid",{key:"99546f3b617045157d1f86a829090f12d7a4cc84",class:"ion-no-padding"},a("ion-row",{key:"6e917faeb950d49c64c310efc809a10a569b9d67"},a("ion-col",{key:"25b5617fc5ebfcc5871b63cf3c29c9676adbd169"},a("ion-item",{key:"d6ff511e9109781396f6f418525a527cf1b1caec"},a("ion-label",{key:"c1e8fd95831fea4158e64bd04e33890c599bbb4e",class:"ion-text-wrap"},a("ion-text",{key:"be2123aa5956eb90140c56d2c518a3c990f19806",color:"divesite"},a("h3",{key:"1288e72db528836f119c6ca884137b8c49441a6e"},a("my-transl",{key:"5807c278fd29f4b76f3ec2f7f5a5112165135351",tag:"spring",text:"Spring"}))),a("ion-text",{key:"7701a9ac5a8fb0cb87b89b6c4869d87168a8c80a",color:"dark"},a("p",{key:"cf560c4f6a03ff1c21576ca22c66e21447815d1c"},this.diveSite.information.waterTemp.spring," °C"))))),a("ion-col",{key:"77596744e62f4b29ad3610a46513eba57175e2c3"},a("ion-item",{key:"f8660497d5ea398797c94c7683da2b58254d5b45"},a("ion-label",{key:"803ad63fb09a2dab685c01eb3a98d471fe8227c0",class:"ion-text-wrap"},a("ion-text",{key:"1326286ea504c03e718646599ceb2f2dce19f7e9",color:"divesite"},a("h3",{key:"dad9f13433ac1d34eaac725c2d0c9e7dc8b6024b"},a("my-transl",{key:"7781adb7f37726e4f9d8e1f2775c99325edc7186",tag:"summer",text:"Summer"}))),a("ion-text",{key:"58e722d7d575d8ec3a9c05cdc28eb3ca7b8b48dc",color:"dark"},a("p",{key:"58019b7cf47974c5f16e56d38f6cba2ff9eb3ef5"},this.diveSite.information.waterTemp.summer," °C")))))),a("ion-row",{key:"05240fb89e7a877bf60da84353864321e8763cf0"},a("ion-col",{key:"bb00886068ca398f59299146ff869501da90918f"},a("ion-item",{key:"50659cdbba8a939bd262c96b5611cd0817749421"},a("ion-label",{key:"74584ac7e36f6cf15491cb0233b9b7cd9936ac6a",class:"ion-text-wrap"},a("ion-text",{key:"21eb64438b87c8ee6940e89a6ac0839e0667ccee",color:"divesite"},a("h3",{key:"c3aead0b90779388ea9efdc5767915e2506eb571"},a("my-transl",{key:"adaaea070df86e580068827177c8a6fc98666a43",tag:"autumn",text:"Autumn"}))),a("ion-text",{key:"17e8a413fa1f87cd0e6abb95e668750928f4d614",color:"dark"},a("p",{key:"b145fedb19578373f5b04efaed4ba23e24940547"},this.diveSite.information.waterTemp.autumn," °C"))))),a("ion-col",{key:"95296008ee077ae86a8cea5a796bec26bb6efa23"},a("ion-item",{key:"f95d515ba16affa8db984adbb98d1cd8c78c49b7"},a("ion-label",{key:"80e2bb7e87af6f6c5356f7d5892d185f2ee854bc",class:"ion-text-wrap"},a("ion-text",{key:"daa7a92a56b8330efd64207a6d198e0efd742f21",color:"divesite"},a("h3",{key:"6fc6e02d445f151ddfe5252cb56c339af37f858a"},a("my-transl",{key:"6358a681e8cf7f46a11954ad01bf912de19a07af",tag:"winter",text:"Winter"}))),a("ion-text",{key:"7d95a1d780e6ed7c6abfc0dd9d2e61367782e572",color:"dark"},a("p",{key:"fee3bf3eb73b41286a76a6c17d5d37dbc3f50026"},this.diveSite.information.waterTemp.winter," °C"))))))),this.diveSite.information.seabedComposition?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-comp",text:"Seabed Composition"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedComposition.map((e=>a("p",null,d.getSeabedCompositionName(e))))))):undefined,this.diveSite.information.seabedCover?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-cover",text:"Seabed Cover"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedCover.map((e=>a("p",null,d.getSeabedCoverName(e))))))):undefined)),a("swiper-slide",{key:"41b9e18938e12f8a053a504ef29a5a21965e05a5",class:"swiper-slide"},a("div",{key:"927ff41591af9518160423e9af17d53bfc5459c2",id:"map-container"},a("app-map",{key:"f1b8b26833df17d444a28b2a885f4a1111356e76",id:"map",pageId:"dive-site-details",center:this.diveSite,markers:this.markers}))),a("swiper-slide",{key:"6d6765783416028c4ff2fae092c86ce58095e0a0",class:"swiper-slide"},a("ion-grid",{key:"ae78a722a7279695a6ea87435905f24626f1a101"},a("ion-row",{key:"26633d7c95d1df9749669357bc60ba1b3727b86f",class:"ion-text-start"},this.diveSite.divePlans.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-dive-plan-card",{divePlan:e,edit:false}))))))),a("swiper-slide",{key:"09330b7c2bfb9bcd7bc42361327ffcdd2186b8ca",class:"swiper-slide"},a("ion-grid",{key:"b64a2aba28031ca0bc6c276ad8b880e92831d301"},a("ion-row",{key:"b5bd43352e4180193c032b474044ce87a37be5dc",class:"ion-text-start"},this.diveSite.divingCenters.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-diving-center-card",{divingCenterId:e,startlocation:this.diveSite}))))))),a("swiper-slide",{key:"440800543c5bd5b6be9ea68024261a3f30ae87aa",class:"swiper-slide"},a("app-calendar",{key:"6e7f9f97c0b42cf43f63c3c92b39f144fa0b003d",calendarId:"dive-site-calendar",addEvents:{trips:this.diveTrips}})))))]}get el(){return c(this)}};p.style=k;export{p as page_dive_site_details};