import{r as e,h as t,f as i}from"./p-cbe60c68.js";import{g as n,U as s,h as a,f as o,a3 as c,R as r,ay as l}from"./p-736235c6.js";import{S as d}from"./p-a75993af.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const f="page-service-center-details ion-segment-button{--color-checked:var(--ion-color-servicecenter-contrast)}";const b=f;const h=class{constructor(t){e(this,t);this.admin=false;this.markers=[];this.centerid=undefined;this.serviceCenter=undefined;this.titles=[{tag:"map"},{tag:"information"},{tag:"team"}];this.slider=undefined}async componentWillLoad(){if(n.selectedServiceCenter){this.admin=true;this.scSubscription=n.selectedServiceCenter$.subscribe((e=>{if(e&&e.displayName){this.serviceCenter=e;this.centerid=n.selectedServiceCenterId}}))}else{this.admin=false;delete this.titles[2];this.serviceCenter=await n.getServiceCenter(this.centerid)}this.userRoles=s.userRoles;let e=a.getMapDocs()[o].icon;e.size="large";this.markers.push({icon:e,latitude:this.serviceCenter.position.geopoint.latitude,longitude:this.serviceCenter.position.geopoint.longitude})}async componentDidLoad(){this.slider=new d(".slider-service-center",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});await customElements.whenDefined("app-map");this.mapElement=this.el.querySelector("#map");const e=this.el.querySelector("#map-container");e.setAttribute("style","height: "+c(this.serviceCenter)+"px");this.mapElement["mapLoaded"]().then((()=>{this.mapElement.triggerMapResize()}));this.mapElement.triggerMapResize()}disconnectedCallback(){if(this.scSubscription)this.scSubscription.unsubscribe()}render(){return[t("ion-header",{key:"c58b9b4d61d8d2b0ad2d181f5935f09503c4067b"},t("app-item-cover",{key:"a99cf1721491578224a756067dd893e93dfb039c",item:this.serviceCenter})),t("ion-header",{key:"d8a4a6ec7531d1992afab658e834c5eea14372a5"},t("ion-toolbar",{key:"8d2f072f83170d28e7fb735b03e8df54dede0972",color:"servicecenter",class:"no-safe-padding"},this.serviceCenter&&!this.serviceCenter.coverURL?[t("ion-buttons",{slot:"start"},this.admin?t("ion-menu-button",null):t("ion-button",{onClick:()=>r.goBack(),"icon-only":true},t("ion-icon",{name:"arrow-back"}))),t("ion-buttons",{slot:"end"},this.admin?t("ion-button",{onClick:()=>n.presentServiceCenterUpdate(this.centerid),"icon-only":true},t("ion-icon",{name:"create"})):undefined)]:undefined,t("ion-title",{key:"ab3d7e9662bce0c8c0751b56a81f3e643f55c755"},this.serviceCenter.displayName))),t("app-header-segment-toolbar",{key:"4707fdd75fe5e7e44f2fb6653fe146533618e15c",color:"servicecenter",swiper:this.slider,titles:this.titles}),t("ion-content",{key:"d35497230d767cfa4ea5dd51612c96c3725f2bcc",class:"slides"},this.serviceCenter&&this.serviceCenter.coverURL?t("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:l(2)}},this.admin?t("ion-fab-button",{class:"fab-icon"},t("ion-menu-button",null)):t("ion-fab-button",{onClick:()=>r.goBack(),class:"fab-icon"},t("ion-icon",{name:"arrow-back-circle-outline"}))):undefined,this.admin?t("ion-fab",{vertical:"top",horizontal:"end",slot:"fixed",style:{marginTop:l(2)}},t("ion-fab-button",{onClick:()=>n.presentServiceCenterUpdate(this.centerid),class:"fab-icon"},t("ion-icon",{name:"create"}))):undefined,t("swiper-container",{key:"16eacdb5f3d2edbb853bca1fb331eab22ecad03a",class:"slider-service-center swiper"},t("swiper-wrapper",{key:"69ece419b89213634775a1bbd924e8601897a5d7",class:"swiper-wrapper"},t("swiper-slide",{key:"5853e7674ce28c7c4ea0f3992a9f62f3d8041dfb",class:"swiper-slide"},t("ion-list",{key:"985a6d5a41dd5fde2e70871e07b15bf6b12fbd1a",class:"ion-no-padding"},t("ion-list-header",{key:"04544133af186a18ce1798fae91f8df15bab6975"},t("ion-label",{key:"847225d61796f38504768dc341927b5a573e6444",color:"servicecenter"},t("my-transl",{key:"f7339d105f7b64211feb2830ecb66a0c01f7084a",tag:"general-information",text:"General Information"}))),t("ion-item",{key:"7413393de62189c795b90c4926cf49337f269364"},t("ion-label",{key:"d270e0cf364e1aae3aa55fd500d9ce997b96cb4a",class:"ion-text-wrap"},t("ion-text",{key:"d33933456743441ef50ed13d5adaeec9d5cdb765",color:"dark"},t("p",{key:"c08089c08255f3b00837467597c762ab60a534df"},this.serviceCenter.description)))),this.serviceCenter.email?t("ion-item",{button:true,href:"mailto:"+this.serviceCenter.email},t("ion-icon",{slot:"start",name:"at-outline"}),t("ion-label",null,this.serviceCenter.email)):undefined,this.serviceCenter.phoneNumber?t("ion-item",{button:true,href:"tel:"+this.serviceCenter.phoneNumber},t("ion-icon",{slot:"start",name:"call-outline"}),t("ion-label",null,this.serviceCenter.phoneNumber)):undefined,this.serviceCenter.website?t("ion-item",{button:true,href:"http://"+this.serviceCenter.website,target:"_blank"},t("ion-icon",{slot:"start",name:"link-outline"}),t("ion-label",null,this.serviceCenter.website)):undefined,this.serviceCenter.facebook?t("ion-item",{button:true,href:"https://www.facebook.com/"+this.serviceCenter.facebook,target:"_blank"},t("ion-icon",{slot:"start",name:"logo-facebook"}),t("ion-label",null,this.serviceCenter.facebook)):undefined,this.serviceCenter.instagram?t("ion-item",{button:true,href:"https://www.instagram.com/"+this.serviceCenter.instagram,target:"_blank"},t("ion-icon",{slot:"start",name:"logo-instagram"}),t("ion-label",null,this.serviceCenter.instagram)):undefined,this.serviceCenter.twitter?t("ion-item",{button:true,href:"https://www.twitter.com/"+this.serviceCenter.twitter,target:"_blank"},t("ion-icon",{slot:"start",name:"logo-twitter"}),t("ion-label",null,"@",this.serviceCenter.twitter)):undefined)),t("swiper-slide",{key:"0e160da7390c5c5b1589e697604dc25bf1775eb3",class:"swiper-slide"},t("div",{key:"d2c4b5fafddfd748f4f5e7efb898a07f6c1e176d",id:"map-container"},t("app-map",{key:"d772e1a189f8409270c2a34d49b1f709c314a702",id:"map",pageId:"dive-site-details",center:this.serviceCenter,markers:this.markers}))),this.admin?t("swiper-slide",{class:"swiper-slide"},t("app-users-list",{item:this.serviceCenter,show:["owner","editor"]})):undefined))),this.admin?t("ion-footer",{class:"ion-no-border"},t("ion-toolbar",null,t("ion-button",{expand:"block",fill:"solid",color:"danger",onClick:()=>n.deleteServiceCenter(this.centerid)},t("ion-icon",{slot:"start",name:"trash"}),t("my-transl",{tag:"delete",text:"Delete",isLabel:true})))):undefined]}get el(){return i(this)}};h.style=b;export{h as page_service_center_details};