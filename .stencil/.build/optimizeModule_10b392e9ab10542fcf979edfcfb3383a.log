import{r as e,h as t,f as i}from"./p-cbe60c68.js";import{l as a}from"./p-1af05547.js";import{af as d,E as o}from"./p-f42b650b.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const s="modal-dive-card input{text-align:right}modal-dive-card .fixedLabel{min-width:80% !important;max-width:80% !important}modal-dive-card ion-item .item-inner{box-shadow:none !important;border-bottom:1px solid #dedede !important}modal-dive-card .item-input .label-md,modal-dive-card .item-select .label-md,modal-dive-card .item-datetime .label-md{color:rgb(0, 0, 0)}";const r=s;const n=class{constructor(t){e(this,t);this.card=undefined;this.updateCard=undefined;this.agencies=undefined;this.validCard=false}componentWillLoad(){this.updateViewParams()}componentDidLoad(){this.validateCard()}async updateViewParams(){this.updateCard=new d(this.card);this.validateCard()}save(){this.el.closest("ion-modal").dismiss(this.updateCard)}close(){this.el.closest("ion-modal").dismiss()}inputHandler(e){this.updateCard[e.detail.name]=e.detail.value;this.validateCard()}updateCourse(e){this.updateCard.course=e.detail;this.validateCard()}validateCard(){this.validCard=a.exports.isString(this.updateCard.course.agencyName)&&a.exports.isString(this.updateCard.course.certificationId)&&a.exports.isDate(new Date(this.updateCard.certified))&&a.exports.isString(this.updateCard.number)}render(){return[t("app-navbar",{key:"c5311628942d84ec517280ef6cd066452967e0d4",tag:"dive-card",text:"Dive Card",color:o.getAppColor(),modal:true}),t("ion-content",{key:"34a09c6ddaa65d3b6040505c0c425432c2365bcf"},t("ion-list",{key:"317f6aee2807e88e9551c2c2fa88b14ef85e98d2"},t("popover-search-diving-course",{key:"1e0e1cee621f1cab249445b61e7a607834134ebb",item:this.updateCard.course,onCertSelected:e=>this.updateCourse(e)}),t("app-form-item",{key:"07d25045732a1662ae71cbde716ad66684fe1cf5","label-tag":"number","label-text":"Number",lines:"inset",value:this.updateCard.number,name:"number","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"15997d7645010182343831708c30bd58b1afd225","label-tag":"certified","label-text":"Certified",lines:"inset",value:this.updateCard.certified,name:"certified","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"8706a617d8bf4c88ed3862ad71410663467756bb","label-tag":"expiry","label-text":"Expiry",lines:"inset",value:this.updateCard.expiry,name:"expiry","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"271bfd317eccd70af6cc02d39959e338ff0735fb","label-tag":"instructor","label-text":"Instructor",lines:"inset",value:this.updateCard.instructor,name:"instructor","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"0534ebf260b8eb8658969cbce499a239c3665d8d","label-tag":"comments","label-text":"Comments",lines:"inset",value:this.updateCard.comments,name:"comments",textRows:4,"input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}))),t("app-modal-footer",{key:"6982b94b0f96a7d002efe0cbf8dc2005c7f8a469",disableSave:!this.validCard,onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})]}get el(){return i(this)}};n.style=r;export{n as modal_dive_card};