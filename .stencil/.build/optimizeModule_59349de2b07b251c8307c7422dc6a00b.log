import{r as e,h as t,H as i,f as o}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{m as c}from"./p-c2915cc5.js";import{l as s}from"./p-1af05547.js";import{E as n}from"./p-26083a07.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const a="popover-select-search{}popover-select-search .boldText{font-weight:bold}";const f=a;const d=class{constructor(t){e(this,t);this.selectOptions=undefined;this.selectValueText=undefined;this.placeholder="Search";this.selectValueId=undefined;this.value=undefined;this.filteredOptions=undefined}componentWillLoad(){this.popover=this.el.closest("ion-popover");this.filteredOptions=s.exports.cloneDeep(this.selectOptions)}componentDidLoad(){const e=this.el.querySelector("ion-searchbar");if(e){e.componentOnReady().then((()=>{setTimeout((()=>{e.setFocus()}))}))}}handleSearch(e){let t="";const i=e.target;if(i)t=i.value.toLowerCase();this.filteredOptions=[];this.selectOptions.forEach((e=>{const i=this.getTextValue(e);if(s.exports.includes(s.exports.toLower(i),t)){this.filteredOptions.push(e)}}))}handleSelect(e){c.dismiss(e)}close(){c.dismiss()}getTextValue(e){let t=s.exports.cloneDeep(e);let i=null;for(let e=0;e<this.selectValueText.length;e++){const o=this.selectValueText[e];if(s.exports.isString(t[o])){i=(i?i+"-":"")+t[o]}else if(s.exports.isObject(t[o])){e++;i=(i?i+"-":"")+t[o][this.selectValueText[e]]}}return i}render(){return t(i,{key:"6bee529105c75d16c929f22f403958ca1cd3b0e3"},t("ion-header",{key:"878828e57ccee3ae81de78e1a1fb571b291ef791",translucent:true},t("ion-toolbar",{key:"8e2fbdaa1d2d683f3f81a28095cc2e6e95fde43c"},t("ion-grid",{key:"19cb7f47df2e143ff34936fae0b3f5ec7aef9544",class:"ion-no-padding"},t("ion-row",{key:"a9a24b0be63990412fe56f90dd7359692e416627"},t("ion-col",{key:"29e04f64df65fc06cbcd89c78fa208ade1515b01",size:"10"},t("ion-searchbar",{key:"77313022c5429c9681710de9a66cc4fe65f6779a",animated:true,debounce:250,placeholder:this.placeholder,onIonInput:e=>this.handleSearch(e)})),t("ion-col",{key:"20520f3813d698b423e26c0ea775c011dec27925",size:"1"},t("ion-button",{key:"e867060e69fcf951e3275b0ea5d6cc013a58d864",color:n.getAppColor(),"icon-only":true,fill:"clear",onClick:this.close},t("ion-icon",{key:"b7e18c60e4ea1b17caf2a871d9723009e911d671",name:"close"}))))))),t("ion-content",{key:"4fbedf3570da645aafb8e8a476548d3df871a291"},t("ion-list",{key:"9cddfe309a2f23d0f324273c33be5851d9b5d506"},this.filteredOptions.map((e=>t("ion-item",{button:true,onClick:()=>this.handleSelect(e),class:e[this.selectValueId]==this.value?"boldText":""},e[this.selectValueId]==this.value?t("ion-icon",{name:"checkmark"}):undefined,t("ion-label",null,this.getTextValue(e))))))))}get el(){return o(this)}};d.style=f;export{d as popover_select_search};