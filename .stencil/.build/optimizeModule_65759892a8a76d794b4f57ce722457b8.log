import{r as e,h as i}from"./p-cbe60c68.js";import{T as o,R as t}from"./p-773bd3de.js";import{I as a}from"./p-081da3e8.js";import{l as s}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const n="page-immersea-admin{}";const c=n;const d=class{constructor(i){e(this,i);this.segmentSelected=undefined;this.updateView=false}componentWillLoad(){this.sections=a.getSections();this.segmentChanged({detail:{value:"nature"}});this.immerseaLocationsListSub=a.immerseaLocationsList$.subscribe((e=>{this.immerseaLocationsList=e;this.updateView=!this.updateView}))}disconnectedCallback(){this.immerseaLocationsListSub.unsubscribe()}segmentChanged(e){this.segmentSelected=e.detail.value;this.sectionSelected=s.exports.find(this.sections,{tag:this.segmentSelected})}async reorderListItems(e){const i=this.immerseaLocationsList[this.sectionSelected.tag];const o=s.exports.cloneDeep(i);const t=o.splice(e.detail.from,1)[0];o.splice(e.detail.to,0,t);console.log("itemsBackup",o);o.forEach(((e,i)=>{!e.order?e.order={}:undefined;e.order[this.sectionSelected.tag]=i}));e.detail.complete();this.immerseaLocationsList[this.sectionSelected.tag]=s.exports.orderBy(o,[this.sectionSelected.tag]+".order");console.log("reorderListItems",this.immerseaLocationsList[this.sectionSelected.tag])}render(){return[i("ion-header",{key:"c6d71d007020349b3ac0fbb79030cee0bfd8632b"},i("ion-toolbar",{key:"dcfdbd714813f702ab11133f2464764cbc35f7b5",color:"immersea"},i("ion-title",{key:"f35dde250191f418d045d39b239b9af42be2a3b6"},"Admin"),i("ion-buttons",{key:"94072d2cea8b867a6abac468425e4a9aea8d73fe",slot:"start"},i("ion-button",{key:"7bf34f8c1b200fe953a9fe9221ed93bd389f15d6",onClick:()=>t.push("news","root")},i("ion-icon",{key:"ae844c8ee2d313aaa97c9c786728fc044377f5d0",name:"arrow-back"}),i("ion-label",{key:"6b90f41a4d3acac69164b68d0c74414168553110"},"BACK")))),i("ion-toolbar",{key:"16c786bee9573a38c50582f62e839144baec717b",color:"immersea"},i("ion-segment",{key:"2aa6f4050874659b840d81d44ab5b2944104dcd1",mode:"md",onIonChange:e=>this.segmentChanged(e),value:"nature"},this.sections.map((e=>i("ion-segment-button",{value:e.tag},i("ion-icon",{class:e.icon.type=="mapicon"?"marker map-icon "+e.icon.name:undefined,name:e.icon.type=="ionicon"?e.icon.name:undefined}),i("ion-label",null,o.getTransl(e.tag,e.text)))))))),i("ion-content",{key:"d9c6e9008b2366a7815dc758a5e1b690ca2dde4b"},i("ion-list",{key:"808546a3128f119871c94eb1c125bc7633d8f8aa"},!this.immerseaLocationsList[this.sectionSelected.tag]||this.immerseaLocationsList[this.sectionSelected.tag]&&this.immerseaLocationsList[this.sectionSelected.tag].length==0?i("ion-item",null,i("ion-label",null,"Nessuna location disponibile")):i("ion-reorder-group",{disabled:false,onIonItemReorder:e=>this.reorderListItems(e)},this.immerseaLocationsList[this.sectionSelected.tag].map((e=>i("ion-item",{button:true,detail:true,onClick:()=>a.presentLocationDetails(e.id)},e.coverURL?i("ion-avatar",{slot:"start"},i("img",{src:e.coverURL})):i("ion-icon",{slot:"start",name:"globe-outline"}),i("ion-label",null,e.displayName),i("ion-reorder",{slot:"end"})))))),i("ion-fab",{key:"ce02b06d733996f5d86b9cc22a5a93da220d3287",vertical:"bottom",horizontal:"end",slot:"fixed"},i("ion-fab-button",{key:"5adfa4305511c2b626f1c6f506d746c9d3b7fd13",color:"immersea",onClick:()=>a.presentLocationUpdate()},i("ion-icon",{key:"09c4c5c8bff01430ac0620aea4ed189587bde6aa",name:"add"}))))]}};d.style=c;export{d as page_immersea_admin};