import{r as s,h as t}from"./p-cbe60c68.js";import{f as e,g as i,b as a,c,d as o,e as r,U as n,T as h,A as p}from"./p-773bd3de.js";import{l as d}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const l="app-admin-clients-list{}";const f=l;const b=class{constructor(t){s(this,t);this.admin=undefined;this.clientsFilteredList=undefined}async filterClients(s){this.filter=s?s.target?s.target.value:s:null;if(this.filter){this.clientsFilteredList=this.clientsList.filter((s=>s.displayName.toLowerCase().includes(this.filter.toLowerCase())))}else{this.clientsFilteredList=this.clientsList}}async componentWillLoad(){let s=null;switch(this.admin.collectionId){case o:s=r.selectedDivingSchoolClients$;this.type=o.toLowerCase();this.id=r.selectedDivingSchoolId;this.customersUrl="members";break;case a:s=c.selectedDivingCenterClients$;this.type=a.toLowerCase();this.id=c.selectedDivingCenterId;this.customersUrl="customers";break;case e:s=i.selectedServiceCenterClients$;this.type=e.toLowerCase();this.id=i.selectedServiceCenterId;this.customersUrl="customers";break}this.clientsSub=s.subscribe((async s=>{this.clients=s;const t=[];if(s){for(let s of Object.keys(this.clients)){t.push(await n.getMapDataUserDetails(s))}}this.clientsList=d.exports.orderBy(t,"displayName");this.filterClients(this.filter)}))}disconnectedCallback(){this.clientsSub.unsubscribe()}render(){return[t("ion-header",{key:"00480263f2be28d977c4bddefa7d56008b593b3a"},t("ion-toolbar",{key:"7bd11b782d330d764699dc2379444fc9c7421a78",color:"clients"},t("ion-searchbar",{key:"215525e919efca641a6eac0ba978eafeba49c0bd",animated:true,placeholder:h.getTransl("search","Search"),onIonInput:s=>this.filterClients(s)}))),t("ion-content",{key:"bd5747abcfd37943feee09d335a813fef5dc4d08"},t("ion-list",{key:"5aa7e776976b9f077b3fa040aae8f9cc1e137aad"},this.clientsFilteredList.map((s=>t("ion-item",{button:true,detail:true,href:"/"+p+"/"+this.type+"/"+this.id+"/"+this.customersUrl+"/"+s.id},s.photoURL?t("ion-avatar",{slot:"start"},t("img",{src:s.photoURL})):t("ion-icon",{slot:"start",name:"person"}),t("ion-label",null,s.displayName))))))]}};b.style=f;export{b as app_admin_clients_list};