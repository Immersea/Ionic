import{r as e,h as t}from"./p-cbe60c68.js";import{aT as i,aU as o,T as s,aq as n,R as a}from"./p-773bd3de.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const c="page-chat{}";const d=c;const b=class{constructor(t){e(this,t);this.chatId=undefined;this.participants=undefined;this.chat=undefined;this.title=undefined;this.subtitle=undefined;this.additionalDataItem=undefined}componentWillLoad(){this.chatSub=i.loadedChat$.subscribe((e=>{if(e&&e.participants){this.chat=e;this.participants=Object.keys(e.participants).length;Object.keys(this.chat.participants).map((e=>{}));if(this.chat.name&&this.chat.name.length>0){this.title=this.chat.name;this.subtitle=i.getOtherChatParticipants("names",this.chat)}else{this.title=i.getOtherChatParticipants("names",this.chat);this.subtitle=null}if(this.chat.additionalData){this.loadAdditionalDataItem()}}}))}componentDidLoad(){this.chatApp=document.getElementsByTagName("app-chat")[0]}disconnectedCallback(){this.chatSub.unsubscribe()}async loadAdditionalDataItem(){if(this.chat.additionalData.collectionId===o){this.additionalDataItem={title:s.getTransl("dive-trip","Dive Trip"),onclick:n.pushDiveTrip}}}showAdditionalDataItem(){}addParticipant(e){this.chatApp.addParticipants(e)}render(){return[t("ion-header",{key:"a290e884019ba2c2f6204e2d271007f077a4edfe"},t("ion-toolbar",{key:"88b01b4ab9e4e0b423138e0d64f5f214ecbf43ba",color:"chat"},t("ion-buttons",{key:"22466c73cb8d403e978794d7bc8e724ea6b079ef",slot:"start"},t("ion-button",{key:"9b894b51cc9080f02852f74e4c9056600b7bedcc",onClick:()=>a.goBack(),"icon-only":true},t("ion-icon",{key:"136d11b91668a1cc806bd1a190a4009789ca0c78",name:"arrow-back"}))),t("ion-title",{key:"01cb7a2d57237387b99020887f040cffb6a58cc3"},this.title),this.subtitle?t("ion-title",{size:"small"},this.subtitle):undefined,t("ion-buttons",{key:"94e6e14c31108ed4f8339ac98d805db5296e2a8b",slot:"end"},this.additionalDataItem?t("ion-button",{fill:"outline",onClick:()=>this.additionalDataItem.onclick(this.chat.additionalData.id)},this.additionalDataItem.title,t("ion-icon",{name:"open-outline",slot:"start"})):undefined,t("ion-button",{key:"c85d873ea0c5192f1e16f405c904fc2222b7e485","icon-only":true,slot:"end",onClick:e=>this.addParticipant(e)},t("ion-icon",{key:"1fb5e2524e6ed74ababf4726abefee08432d9516",name:"people-outline"}),this.participants?t("ion-badge",{color:"secondary"},this.participants):undefined)))),t("ion-content",{key:"ea9d2d87b0f737bb999b876dab4c9b876ce8578e"},t("app-chat",{key:"9957bec875c83da7844b4a6304abe319d1d4129e",chatId:this.chatId}))]}};b.style=d;export{b as page_chat};