import{r as i,h as e,H as t,f as s}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{o as n}from"./p-5d4a8e1f.js";import{l as o}from"./p-1af05547.js";import{E as d}from"./p-a9f4af61.js";import{am as a,Q as r}from"./p-30358c9d.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";import"./p-2578d979.js";import"./p-7ee16e8d.js";const c="modal-search-list{}";const l=c;const h=class{constructor(e){i(this,e);this.list=undefined;this.searchTitle=undefined;this.item=undefined;this.showField=undefined;this.orderBy=[];this.filterBy=undefined;this.placeholder=undefined;this.filterObject=undefined;this.filterPopup=undefined;this.filterFunction=undefined;this.filteredList=undefined}componentWillLoad(){this.nonFilteredList=o.exports.cloneDeep(this.list);this.clearFilterObject=o.exports.cloneDeep(this.filterObject)}async openFilter(){this.filterObject=await this.filterPopup(this.filterObject);this.list=await this.filterFunction(this.filterObject)}clearFilter(){this.filterObject=o.exports.cloneDeep(this.clearFilterObject);this.list=o.exports.cloneDeep(this.nonFilteredList)}handleSelect(i){n.dismiss(i)}renderKey(i){let e=null;switch(i){case"familyId":e=r.getDatasheetFamilies(this.filterObject[i])[0].familyName;break;case"majorFamilyId":e=r.getDatasheetMajorFamilies(this.filterObject[i])[0].majorFamilyName;break;case"shapeTypeId":e=a.getShapeTypeName(this.filterObject[i]).en;break;default:e=i+" = "+this.filterObject[i];break}return e}close(){n.dismiss()}render(){return e(t,{key:"167e5b00bb82929d4a970419956d4ddd87dab2f0"},e("ion-header",{key:"f977f81669d27f1b3cc164b4f3578b666356af25"},e("app-navbar",{key:"7eb0c50f8d52a7474c8b9d233a847ead0ddbc204",tag:this.searchTitle.tag?this.searchTitle.tag:"find",text:this.searchTitle.text?this.searchTitle.text:"Find",color:d.getAppColor(),rightButtonText:{icon:"close",tag:null,text:null,fill:"clear"},rightButtonFc:this.close}),e("ion-grid",{key:"4c1bec88d72c82016001d46082087d0580257764",class:"ion-no-padding"},e("ion-row",{key:"45d7f927589682a612a2199f452129a86e7e2e1d",class:"ion-no-padding"},this.filterObject?e("ion-col",{size:"1",class:"ion-no-padding"},e("ion-toolbar",{color:d.getAppColor()},e("ion-button",{fill:"clear",expand:"full","icon-only":true,onClick:()=>this.openFilter()},e("ion-icon",{name:"filter",color:"light"})))):undefined,e("ion-col",{key:"c3563ef670e7df2d6e45bcc493e28b4fdaa391ef",size:this.filterObject?"11":"12",class:"ion-no-padding"},e("app-search-toolbar",{key:"3bd390476b58fa295b9c7d4f216814f811f975e9",list:this.list,orderFields:[this.showField],color:"trasteel",placeholder:this.placeholder?this.placeholder:"search",filterBy:this.filterBy,onFilteredList:i=>this.filteredList=i.detail}))))),e("ion-content",{key:"7fdee006e61c58f8c8724391da8a5b225d949e36"},this.filterObject&&this.filterObject.isActive()?[e("ion-breadcrumbs",null,e("ion-button",{"icon-only":true,fill:"clear",onClick:()=>this.clearFilter()},e("ion-icon",{color:"danger",name:"trash"})),e("ion-breadcrumb",null),Object.keys(this.filterObject).map((i=>i!="oldProduct"&&(this.filterObject[i]>0||this.filterObject[i]!==null)?e("ion-breadcrumb",null,this.renderKey(i)):undefined)),e("ion-breadcrumb",null))]:undefined,e("app-infinite-scroll",{key:"7d48f15b5cbc7c19eb79f3ac83fae44b1456c00e",list:this.filteredList,showFields:[this.showField],orderBy:this.orderBy,onItemClicked:i=>this.handleSelect(i.detail)})))}get el(){return s(this)}};h.style=l;export{h as modal_search_list};