import{r as e,h as i,H as s,f as t}from"./p-cbe60c68.js";import{U as a,b as c,c as n,d as o,e as d,f as r,g as l,an as p,aP as b,R as f,E as h}from"./p-773bd3de.js";import{S as g}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const m="page-client-details .cover{height:var(--coverHeight)}page-client-details ion-segment-button{--color-checked:var(--ion-color-clients-contrast)}page-client-details ion-badge{margin-top:-15px;margin-left:10px;font-size:10px}page-client-details app-admin-dive-trips,page-client-details app-admin-diving-classes{width:100%}page-client-details .card-message{width:90%;min-height:150px}page-client-details .card-message ion-title{padding-top:60px}";const y=m;const u=class{constructor(i){e(this,i);this.clientId=undefined;this.clientData=undefined;this.userProfile=undefined;this.counters={classes:0,trips:0,invoices:0};this.titles=[{tag:"details"},{tag:"dive-trips"},{tag:"diving-classes"},{tag:"invoices"}];this.slider=undefined}async componentWillLoad(){this.userProfile=await a.getPublicProfileUserDetails(this.clientId);const e=f.pageTo;if(e.includes(c.toLowerCase())){this.clientData=n.selectedDivingCenterClients[this.clientId];this.organiserId=n.selectedDivingCenterId}else if(e.includes(o.toLowerCase())){this.clientData=d.selectedDivingSchoolClients[this.clientId];this.organiserId=d.selectedDivingSchoolId}else if(e.includes(r.toLowerCase())){this.clientData=l.selectedServiceCenterClients[this.clientId];this.organiserId=l.selectedServiceCenterId}this.counters={classes:this.clientData.classes?Object.keys(this.clientData.classes).length:0,trips:this.clientData.trips?Object.keys(this.clientData.trips).length:0,invoices:this.clientData.invoices?Object.keys(this.clientData.invoices).length:0};this.titles[1]["badge"]=this.counters.trips;this.titles[2]["badge"]=this.counters.classes;this.titles[3]["badge"]=this.counters.invoices}async componentDidLoad(){this.setSliderHeight()}setSliderHeight(){this.slider=new g(".slider-client",{speed:400,spaceBetween:100,allowTouchMove:true,autoHeight:true});const e=Array.from(this.el.getElementsByClassName("slide-container"));e.map((e=>{e.setAttribute("style","height: "+p(this.userProfile)+"px")}))}render(){return i(s,{key:"fc99af14d6a3f3d0e280e4010ff243142eb4c00a"},i("ion-header",{key:"621f8039a51427f9362b3be4728562cdfe26a3c5",class:"cover"},i("app-item-cover",{key:"7d3324d91575bfa0ba05c34fbd54e2fe535cfea0",item:this.userProfile})),i("ion-header",{key:"910b9738824cb953df5d433cce145ed2cdfc6bdd"},i("ion-toolbar",{key:"62c10292f26f16fe135e5466611a46b41d9a1f4f",color:"clients"},this.userProfile&&!this.userProfile.coverURL?[i("ion-buttons",{slot:"start"},i("ion-button",{onClick:()=>f.goBack(),"icon-only":true},i("ion-icon",{name:"arrow-back"})))]:undefined,i("ion-title",{key:"1b7bda8dcbe35f8ef8805497a55541979205b3fa"},this.userProfile.displayName))),i("app-header-segment-toolbar",{key:"e49d383de83114ea0ed4437b76ac6b0b651b1a43",color:h.getAppColor(),swiper:this.slider,titles:this.titles}),i("ion-content",{key:"0c53910f6992e1f9ac5a991896ac1ca90b79c809",class:"slides"},this.userProfile&&this.userProfile.coverURL?i("ion-fab",{vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:b(2)}},i("ion-fab-button",{onClick:()=>f.goBack(),class:"fab-icon"},i("ion-icon",{name:"arrow-back-circle-outline"}))):undefined,i("swiper-container",{key:"d8feadccd42afa732a8603160cdcb62712251a4c",class:"slider-client swiper"},i("swiper-wrapper",{key:"f99f656ac286638b93e183e106bbc007c4124bf0",class:"swiper-wrapper"},i("swiper-slide",{key:"9491056ecf7b01e675dd103e8d0983fd8c8e07b3",class:"swiper-slide"},i("ion-content",{key:"242c6cbbb12b29728a5cc58f91ae47ee27e64ecb",class:"slide-container"},i("app-public-user",{key:"589322e208e9d80327b46a2ba60bf139abf6df35",userProfile:this.userProfile}))),i("swiper-slide",{key:"dd59052eecd0d32b28bba2bb0c0bee391a4cb9e0",class:"swiper-slide"},i("ion-content",{key:"839712698a38d8b6eed609d1bcf2d40a1e675ce1",class:"slide-container"},this.clientData&&this.clientData.trips&&Object.keys(this.clientData.trips).length>0?i("app-admin-dive-trips",{filterByOrganisierId:this.organiserId,filterByTrips:this.clientData.trips}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-trips",text:"No Diving Trips"}))))),i("swiper-slide",{key:"a4ae42f68eb65de6e17f3da5aa3bf99fbd4562b0",class:"swiper-slide"},i("ion-content",{key:"c1c2b64996ebb7e148081261ca3190c9ba507c5c",class:"slide-container"},this.clientData&&this.clientData.classes&&Object.keys(this.clientData.classes).length>0?i("app-admin-diving-classes",{filterByOrganisierId:this.organiserId,filterByClasses:this.clientData.classes}):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-classes",text:"No Diving Classes"}))))),i("swiper-slide",{key:"0f6376c8fd732d97282b3de7c10adb6630e2c9d8",class:"swiper-slide"},i("ion-content",{key:"c281463490f72a9e9647a0e541298fba16c86c68",class:"slide-container"},this.clientData&&this.clientData.invoices&&Object.keys(this.clientData.invoices).length>0?i("app-admin-client-invoices",null):i("ion-card",{class:"card-message"},i("ion-title",null,i("my-transl",{tag:"no-invoices",text:"No Invoices"})))))))))}get el(){return t(this)}};u.style=y;export{u as page_client_details};