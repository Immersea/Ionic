import{r as e,h as i}from"./p-cbe60c68.js";import{S as t,R as a,ah as l,F as o,T as s,Q as n,am as r}from"./p-30358c9d.js";import{S as d}from"./p-a75993af.js";import{T as c}from"./p-87afedc7.js";import{l as p}from"./p-1af05547.js";import{E as g}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const b="page-project-details ion-grid{--ion-grid-column-padding:0px}page-project-details .separator{background-color:var(--ion-color-trasteel-tint);height:3px}page-project-details .separator ion-col{height:0px !important}page-project-details .positions-box{margin-top:10px;padding-top:5px;padding-right:5px;padding-bottom:5px;padding-left:10px;border:1px solid black}page-project-details #responsive-grid ion-grid{--ion-grid-padding:5px;--ion-grid-column-padding:0px}page-project-details #responsive-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-size:0.75rem;font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #responsive-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #responsive-grid ion-grid .noborder{border:0px}page-project-details #responsive-grid ion-grid ion-col{align-items:center;justify-content:center;text-align:center}page-project-details #responsive-grid ion-grid .ext-row{border:1px solid black}page-project-details #responsive-grid ion-grid .ext-col{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1{border-bottom:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .top-border{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1 .top-border1{border-top:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1 .inner-col2{border-right:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1:last-child{border-bottom:0px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a{border-top:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:first-child{border-right:1px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row1a{border-top:1px solid black}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1{border-right:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row1a .inner-col1:last-child{border-right:0px solid black}page-project-details #responsive-grid ion-grid .inner-row2{border-bottom:1px solid black;border-left:0px solid black}@media screen and (min-width: 992px){page-project-details #responsive-grid ion-grid .inner-row2{border-left:1px solid black}}page-project-details #responsive-grid ion-grid .inner-row2:last-child{border-bottom:0px solid black}page-project-details #responsive-grid ion-grid .inner-col{border-right:1px solid black}page-project-details #responsive-grid ion-grid .button-no-margin{--padding-top:0px;--padding-bottom:0px;--padding-start:5px;--padding-end:5px}@media screen and (min-width: 1100px){page-project-details #responsive-grid ion-grid .button-no-margin{--padding-start:10px;--padding-end:10px}}page-project-details #courses-grid .centered{display:flex;align-items:center;justify-content:center;text-align:center}page-project-details #courses-grid ion-grid{border-collapse:collapse;border-style:hidden}page-project-details #courses-grid ion-grid .header{background-color:var(--ion-color-trasteel);font-weight:bold;color:var(--ion-color-trasteel-contrast)}page-project-details #courses-grid ion-grid .emptyCell{background-color:var(--ion-color-trasteel-tint)}page-project-details #courses-grid ion-grid ion-col{border:1px solid black;border-bottom:0;border-right:0}page-project-details #courses-grid ion-grid ion-col:last-child{border-right:1px solid black}page-project-details #courses-grid ion-grid ion-row:last-child{border-bottom:1px solid black}";const h=b;const f=class{constructor(i){e(this,i);this.titles=[{tag:"summary",text:"Summary"},{tag:"information",text:"Information"},{tag:"shaped",text:"Shaped",disabled:false},{tag:"unshaped",text:"Unshaped",disabled:false},{tag:"files",text:"Files",disabled:true}];this.itemId=undefined;this.project=undefined;this.updateView=true;this.updateSummary=true;this.allocationAreaSegment=0;this.areaShapes=[];this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadProject()}else{t.dismissLoading();t.presentAlertError("No Item Id");a.goBack()}}async loadProject(e){try{e?this.project=e:this.project=await l.getProject(this.itemId);this.areaShapes=await l.loadShapesForApplication(this.project);await l.checkBricksAllocationAreasForProject(this.project);this.updateSummary=!this.updateSummary;this.titles[2].disabled=this.project.projectAreaQuality.length==0;this.titles[3].disabled=this.project.projectMass.length==0;this.updateSlider()}catch(e){t.dismissLoading();a.goBack();t.presentAlertError(e)}}async componentDidLoad(){t.dismissLoading();this.slider=new d(".slider-detail-project",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}allocationAreaSegmentChanged(e){this.allocationAreaSegment=e.detail.value;this.updateSlider()}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editProject(e){const i=await l.presentProjectUpdate(e?e:this.itemId);i.onDidDismiss().then((e=>this.loadProject(e.data)))}render(){return[i("ion-header",{key:"bdc1a3f1b219333c9f9257045ea179acfd491725"},i("app-navbar",{key:"ef9b1d5e461fd19dfde866684a1c05d865787a76",text:this.project.projectLocalId,color:"trasteel",backButton:true,rightButtonText:c.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editProject()})),i("app-header-segment-toolbar",{key:"044c179cf88f0d2122890910e6d7a16fb3c8178e",color:g.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),i("ion-content",{key:"7129fd7664b5255651542108d390ebe5e0f61965",class:"slides"},i("swiper-container",{key:"103e587c204665b193a502ce87a527d024aedead",class:"slider-detail-project swiper"},i("swiper-wrapper",{key:"a7c445b35442aca4f5aa799124d9d3758ce5fdde",class:"swiper-wrapper"},i("swiper-slide",{key:"1a1f9a3e5b29056f5799d839b2bd7314ea2b0a52",class:"swiper-slide"},i("app-page-project-summary",{key:"6904d42fb518b5f32a43d64015de3bd717e5269e",project:this.project,areaShapes:this.areaShapes,updateSummary:this.updateSummary})),i("swiper-slide",{key:"cf9dcc796ba0b04f1fe3b815982c569f95acbf88",class:"swiper-slide"},i("ion-list",{key:"744079aedd42cdb850ec9aeb9104a964a126b467",class:"ion-no-padding",id:"project-grid"},i("app-item-detail",{key:"6705a301a26a65f9788b2e731a6330d50715dcf5",lines:"none","label-tag":"customer","label-text":"Customer",detailText:this.project.customerId?o.getCustomersDetails(this.project.customerId)?o.getCustomersDetails(this.project.customerId).fullName:null:null}),i("app-item-detail",{key:"29462b74200ac7d7056615d8fc0bda6b20122687",lines:"none","label-tag":"project-name","label-text":"Project Name",detailText:this.project.projectLocalId}),i("app-item-detail",{key:"d75a33e6d93f477c697a97823d44ff4842e0d3b1",lines:"none","label-tag":"technical-docs-caption","label-text":"Technical Docs Caption",detailText:this.project.docsCaption}),i("app-item-detail",{key:"9a9a5a950645111b704347e4f33209239ef9fed7",lines:"none","label-tag":"project-description","label-text":"Project Description",detailText:this.project.projectDescription}),i("app-item-detail",{key:"98904b56d1e49212d6b72d050ba7a14d71f69f9c",lines:"none","label-tag":"drawing-no","label-text":"Drawing No.",detailText:this.project.drawing}),i("ion-grid",{key:"62d1e028417af4c16a61696464f8f11e15d25457"},i("ion-row",{key:"53e8b9bd0a8d11c15807502ad689bd60c0a82cfc"},i("ion-col",{key:"d6283dd597991b034b8a55455c56af6b9b0ba9e2"},i("app-item-detail",{key:"aa053afdffdc83233f286b4c29bcb9e95f29267d",lines:"none","label-tag":"drawing-date","label-text":"Drawing Date",detailText:this.project.drawingDate,isDate:true})),i("ion-col",{key:"5ab537737c9e078499bcd9dc5af1e454417f336e"},i("app-item-detail",{key:"11c7b1d37bde8863a6e5d0dc265d4f88a45bd2d4",lines:"none","label-tag":"project-finished-date","label-text":"Project Finished Date",detailText:this.project.finishedDate,isDate:true})))),i("ion-grid",{key:"285f9828d8cc419781e2692c724afb3b7f1340cb"},i("ion-row",{key:"6219951c0c8b6d12d471914b3a9727ab635d3592"},i("ion-col",{key:"fcbfa08254ba991389ce227717261a9e74fd5bbd"},i("app-item-detail",{key:"9b184ef508cc95759dc022ac5fce223c4e2d2bfe",lines:"none","label-tag":"capacity","label-text":"Capacity",detailText:p.exports.toString(this.project.steelAmount)})),i("ion-col",{key:"f29f98c62587c9c5c31088299b9ff96905dfd451"},i("app-item-detail",{key:"cadbc490b59278b58173414047e382277f4e4887",lines:"none","label-tag":"application-unit","label-text":"Application Unit",detailText:l.getApplicationUnits(this.project.applicationId)[0].applicationName.en})))),i("app-item-detail",{key:"32e862c2d6f492bc4dfee64be6835ec215fe4798",lines:"none","label-tag":"steel-amount","label-text":"Steel Amount",detailText:p.exports.toString(this.project.steelAmount)}),i("app-item-detail",{key:"2df822b4d9b5c6dbb93b49ee4e18cde3ef0beea5",lines:"none","label-tag":"steel-density","label-text":"Steel Density",appendText:" (g/sm3)",detailText:p.exports.toString(this.project.liquidMetalDensity)}),i("app-item-detail",{key:"3bf3c2ca77917a9837fdd6055a21f0465693b8ee",lines:"none","label-tag":"guaranteed-lifetime","label-text":"Guaranteed Lifetime",appendText:" (heats)",detailText:this.project.guaranteedLife}))),i("swiper-slide",{key:"4ae0b9dafce2549da3a1f5ca9c8ac57fd2f3e9b5",class:"swiper-slide"},i("div",{key:"6431420c21634face4160d3cf516c987087f5b0b"},i("ion-toolbar",{key:"905aab8bdb7a975ba48927d4a01ebefd54ca659a"},i("ion-segment",{key:"e194b4f76472d24681ad8c02da72e768876e6c49",mode:"ios",scrollable:true,onIonChange:e=>this.allocationAreaSegmentChanged(e),value:this.allocationAreaSegment},this.project.projectAreaQuality.map(((e,t)=>i("ion-segment-button",{value:t,layout:"icon-start"},i("ion-label",null,(e.bricksAllocationAreaId?l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en:"")+(e.onlyForRepair?" ("+s.getTransl("repair","Repair")+")":""))))))),this.project.projectAreaQuality.map(((e,t)=>i("div",null,this.allocationAreaSegment==t?i("div",null,i("ion-grid",null,i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"bricks-allocation-area","label-text":"Bricks Allocation Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:n.getDatasheetName(e.datasheetId)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:p.exports.toString(e.density)}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"include-safety","label-text":"Include Safety",appendText:" %",detailText:p.exports.toString(e.includeSafety)})),i("ion-col",{size:"4"},i("app-item-detail",{showItem:false,"label-tag":"only-for-repair","label-text":"Only for repair",detailText:e.onlyForRepair}))),i("ion-row",null,i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"comments","label-text":"Comments",detailText:p.exports.toString(e.comments)}))),i("div",{class:"positions-box"},e.shapes?e.shapes.map(((a,l)=>i("ion-row",null,i("ion-col",{size:"3"},i("app-item-detail",{showItem:false,"label-tag":l==0?"position":null,"label-text":l==0?"Position":null,detailText:p.exports.toString(a.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,labelTag:l==0?"shape":null,labelText:l==0?"Shape":null,detailText:r.getShapeName(e.shapes[l].shapeId)})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"radius":null,labelText:l==0?"Radius":null,appendText:l==0?" (mm)":null,detailText:this.areaShapes&&this.areaShapes[t]&&this.areaShapes[t].shapes[l].radius>0?this.areaShapes[t].shapes[l].radius:"-"})),i("ion-col",{size:"2"},i("app-item-detail",{showItem:false,labelTag:l==0?"weight":null,labelText:l==0?"Weight":null,appendText:l==0?" (Kg)":null,detailText:this.areaShapes&&this.areaShapes[t]?this.project.projectAreaQuality[t].shapes[l].specialShapeVolume>0?this.areaShapes[t].shapes[l].getWeightForVolume(this.project.projectAreaQuality[t].shapes[l].specialShapeVolume,e.density):this.areaShapes[t].shapes[l].getWeight(e.density):"-"}))))):undefined)),i("div",{id:"responsive-grid"},i("ion-grid",null,i("ion-row",{class:"header ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("course","Course")),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("start","Start")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("end","End")+" °"),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},s.getTransl("radius","Radius")+" (mm)"))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},"Pos. "+e.shapes.map((e=>e.position))),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("quantity","Quantity")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("sum","Sum")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("repair-sets","Repair Sets")),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("weight","Weight")+" (Kg)"),i("ion-col",{size:"2",class:"inner-col"},s.getTransl("row-weight","Row Weight")+" (Kg)")))))),e.courses.map(((a,o)=>[i("ion-row",{class:"ion-align-items-center ion-justify-content-center ext-row"},i("ion-col",{size:"12","size-lg":"12"},i("ion-row",null,i("ion-col",{size:"12","size-lg":"4",class:"ext-col"},i("ion-row",{class:"inner-row1"},i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.courseNumber),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.startAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.endAngle),i("ion-col",{size:"3","size-lg":"3",class:"inner-col"},a.innerRadius))),i("ion-col",{size:"12","size-lg":"8",class:"ext-col"},e.shapes.map(((e,s)=>i("ion-row",{class:"inner-row2"},i("ion-col",{size:"2",class:"inner-col"},r.getShapeName(e.shapeId)),i("ion-col",{size:"2",class:"inner-col"},a.quantityShapes.length>0&&a.quantityShapes[s]?a.quantityShapes[s].quantity:0),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.countTotalQuantity(a):undefined),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?a.repairSets:undefined),i("ion-col",{size:"2",class:"inner-col"},l.getAreaCourseWeightForShape(this.project,this.areaShapes,t,o,s)),i("ion-col",{size:"2",class:"inner-col"+(s>0?" emptyCell":"")},s==0?l.getTotalWeightForCourse(this.project,this.areaShapes,t,o):undefined)))))))),i("ion-row",{class:"separator"},i("ion-col",null))]))))):undefined))))),i("swiper-slide",{key:"e8f803931d473056031ce89662d26f1e64aef79b",class:"swiper-slide"},i("div",{key:"1e7292072100575db83591500b37ba1c62163576"},i("ion-grid",{key:"bb8e9dbdc009bb1fecfd32d016b67b2de1cd08df"},this.project.projectMass.map((e=>[i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"position","label-text":"Position",detailText:p.exports.toString(e.position)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"application-area","label-text":"Application Area",detailText:l.getBricksAllocationAreas(e.bricksAllocationAreaId)[0].bricksAllocationAreaName.en}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quality","label-text":"Quality",detailText:n.getDatasheetName(e.datasheetId)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"density","label-text":"Density",appendText:" (g/cm3)",detailText:e.density}))),i("ion-row",{style:{"padding-left":"16px","padding-right":"16px"}},i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"quantity","label-text":"Quantity",detailText:p.exports.toString(e.quantity)})),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"unit","label-text":"Unit",detailText:e.quantityUnit?l.getQuantityUnits(e.quantityUnit)[0].quantityUnitName.en:""})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"x")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"weight-per-unit","label-text":"Weight per Unit",appendText:" (Kg)",detailText:e.weightPerUnitKg})),i("ion-col",{size:"1"},i("p",{style:{"text-align":"center","font-size":"1.3rem"}},"=")),i("ion-col",null,i("app-item-detail",{showItem:false,"label-tag":"total-weight","label-text":"Total Weight",appendText:" (MT)",detailText:e.totalWeightMT}))),i("ion-row",{class:"separator"},i("ion-col",null))]))))),i("swiper-slide",{key:"667c46c3aad821041ef3375525794856b75eb504",class:"swiper-slide"},"file - to do"))))]}};f.style=h;export{f as page_project_details};