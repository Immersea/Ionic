import{bm as i}from"./p-a7a717b1.js";import"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";class e extends i{async getId(){return{identifier:this.getUid()}}async getInfo(){if(typeof navigator==="undefined"||!navigator.userAgent){throw this.unavailable("Device API not available in this browser")}const i=navigator.userAgent;const e=this.parseUa(i);return{model:e.model,platform:"web",operatingSystem:e.operatingSystem,osVersion:e.osVersion,manufacturer:navigator.vendor,isVirtual:false,webViewVersion:e.browserVersion}}async getBatteryInfo(){if(typeof navigator==="undefined"||!navigator.getBattery){throw this.unavailable("Device API not available in this browser")}let i={};try{i=await navigator.getBattery()}catch(i){}return{batteryLevel:i.level,isCharging:i.charging}}async getLanguageCode(){return{value:navigator.language.split("-")[0].toLowerCase()}}async getLanguageTag(){return{value:navigator.language}}parseUa(i){const e={};const t=i.indexOf("(")+1;let n=i.indexOf(") AppleWebKit");if(i.indexOf(") Gecko")!==-1){n=i.indexOf(") Gecko")}const o=i.substring(t,n);if(i.indexOf("Android")!==-1){const i=o.replace("; wv","").split("; ").pop();if(i){e.model=i.split(" Build")[0]}e.osVersion=o.split("; ")[1]}else{e.model=o.split("; ")[0];if(typeof navigator!=="undefined"&&navigator.oscpu){e.osVersion=navigator.oscpu}else{if(i.indexOf("Windows")!==-1){e.osVersion=o}else{const i=o.split("; ").pop();if(i){const t=i.replace(" like Mac OS X","").split(" ");e.osVersion=t[t.length-1].replace(/_/g,".")}}}}if(/android/i.test(i)){e.operatingSystem="android"}else if(/iPad|iPhone|iPod/.test(i)&&!window.MSStream){e.operatingSystem="ios"}else if(/Win/.test(i)){e.operatingSystem="windows"}else if(/Mac/i.test(i)){e.operatingSystem="mac"}else{e.operatingSystem="unknown"}const s=!!window.ApplePaySession;const r=!!window.chrome;const a=/Firefox/.test(i);const c=/Edg/.test(i);const f=/FxiOS/.test(i);const d=/CriOS/.test(i);const x=/EdgiOS/.test(i);if(s||r&&!c||f||d||x){let t;if(f){t="FxiOS"}else if(d){t="CriOS"}else if(x){t="EdgiOS"}else if(s){t="Version"}else{t="Chrome"}const n=i.split(" ");for(const i of n){if(i.includes(t)){const t=i.split("/")[1];e.browserVersion=t}}}else if(a||c){const t=i.split("").reverse().join("");const n=t.split("/")[0];const o=n.split("").reverse().join("");e.browserVersion=o}return e}getUid(){if(typeof window!=="undefined"&&window.localStorage){let i=window.localStorage.getItem("_capuid");if(i){return i}i=this.uuid4();window.localStorage.setItem("_capuid",i);return i}return this.uuid4()}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){const e=Math.random()*16|0,t=i==="x"?e:e&3|8;return t.toString(16)}))}}export{e as DeviceWeb};