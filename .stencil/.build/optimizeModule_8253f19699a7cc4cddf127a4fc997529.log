import{r as e,h as t}from"./p-cbe60c68.js";import{aS as i,aT as a,T as n,aq as o,R as s}from"./p-a7a717b1.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const c="page-chat{}";const d=c;const f=class{constructor(t){e(this,t);this.chatId=undefined;this.participants=undefined;this.chat=undefined;this.title=undefined;this.subtitle=undefined;this.additionalDataItem=undefined}componentWillLoad(){this.chatSub=i.loadedChat$.subscribe((e=>{if(e&&e.participants){this.chat=e;this.participants=Object.keys(e.participants).length;Object.keys(this.chat.participants).map((e=>{}));if(this.chat.name&&this.chat.name.length>0){this.title=this.chat.name;this.subtitle=i.getOtherChatParticipants("names",this.chat)}else{this.title=i.getOtherChatParticipants("names",this.chat);this.subtitle=null}if(this.chat.additionalData){this.loadAdditionalDataItem()}}}))}componentDidLoad(){this.chatApp=document.getElementsByTagName("app-chat")[0]}disconnectedCallback(){this.chatSub.unsubscribe()}async loadAdditionalDataItem(){if(this.chat.additionalData.collectionId===a){this.additionalDataItem={title:n.getTransl("dive-trip","Dive Trip"),onclick:o.pushDiveTrip}}}showAdditionalDataItem(){}addParticipant(e){this.chatApp.addParticipants(e)}render(){return[t("ion-header",{key:"dd0ee295acebd20ccea5f1b92bcab7fee6c9381b"},t("ion-toolbar",{key:"7b79220f0ed32fa247778c9f793c473a9ba43a8b",color:"chat"},t("ion-buttons",{key:"535a8afd2b4d9a662e759efa4d8237798fc20b57",slot:"start"},t("ion-button",{key:"739804d4b0b48fe4ffb5765d138e4493c418c641",onClick:()=>s.goBack(),"icon-only":true},t("ion-icon",{key:"ce6a73a8734a8659c41983f1a0839f3feebe1425",name:"arrow-back"}))),t("ion-title",{key:"a807127187fe1dfcf0fb763cb12febc94f1ec9c0"},this.title),this.subtitle?t("ion-title",{size:"small"},this.subtitle):undefined,t("ion-buttons",{key:"f1980422ae5ca74e6b794dc558be12373e2d53e8",slot:"end"},this.additionalDataItem?t("ion-button",{fill:"outline",onClick:()=>this.additionalDataItem.onclick(this.chat.additionalData.id)},this.additionalDataItem.title,t("ion-icon",{name:"open-outline",slot:"start"})):undefined,t("ion-button",{key:"4103f5bc51b4bdc29f7a011daf9db9e6955dc26e","icon-only":true,slot:"end",onClick:e=>this.addParticipant(e)},t("ion-icon",{key:"90a43bcfdda579f44a0444548cceec526eaae00b",name:"people-outline"}),this.participants?t("ion-badge",{color:"secondary"},this.participants):undefined)))),t("ion-content",{key:"77b847aa20c9fd41ef38452043e3ede06d85ddb5"},t("app-chat",{key:"08cd2b0e1182f22cfa671026cd71c16a79ed9d97",chatId:this.chatId}))]}};f.style=d;export{f as page_chat};