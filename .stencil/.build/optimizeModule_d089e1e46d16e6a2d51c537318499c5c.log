import{r as i,h as e,H as t,f as s}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n}from"./p-c2915cc5.js";import{l as o}from"./p-1af05547.js";import{aD as a,a6 as c,E as d}from"./p-944b5726.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const r="modal-search-list{}";const l=r;const h=class{constructor(e){i(this,e);this.list=undefined;this.searchTitle=undefined;this.item=undefined;this.showField=undefined;this.orderBy=[];this.filterBy=undefined;this.placeholder=undefined;this.filterObject=undefined;this.filterPopup=undefined;this.filterFunction=undefined;this.filteredList=undefined}componentWillLoad(){this.nonFilteredList=o.exports.cloneDeep(this.list);this.clearFilterObject=o.exports.cloneDeep(this.filterObject)}async openFilter(){this.filterObject=await this.filterPopup(this.filterObject);this.list=await this.filterFunction(this.filterObject)}clearFilter(){this.filterObject=o.exports.cloneDeep(this.clearFilterObject);this.list=o.exports.cloneDeep(this.nonFilteredList)}handleSelect(i){n.dismiss(i)}renderKey(i){let e=null;switch(i){case"familyId":e=c.getDatasheetFamilies(this.filterObject[i])[0].familyName;break;case"majorFamilyId":e=c.getDatasheetMajorFamilies(this.filterObject[i])[0].majorFamilyName;break;case"shapeTypeId":e=a.getShapeTypeName(this.filterObject[i]).en;break;default:e=i+" = "+this.filterObject[i];break}return e}close(){n.dismiss()}render(){return e(t,{key:"7f4bf238bec8627194eae60aefc595948d4f8590"},e("ion-header",{key:"8c29c68d1d381866be9a06581147fa4293ce4b6f"},e("app-navbar",{key:"f24ebc7aa758935757f73c9518cfb933308130b0",tag:this.searchTitle.tag?this.searchTitle.tag:"find",text:this.searchTitle.text?this.searchTitle.text:"Find",color:d.getAppColor(),rightButtonText:{icon:"close",tag:null,text:null,fill:"clear"},rightButtonFc:this.close}),e("ion-grid",{key:"83f2d462ffe23e66baad6a1251398ffd43b336b7",class:"ion-no-padding"},e("ion-row",{key:"d64990dcf289a8b2e7ff2e19160fc645272d3ed0",class:"ion-no-padding"},this.filterObject?e("ion-col",{size:"1",class:"ion-no-padding"},e("ion-toolbar",{color:d.getAppColor()},e("ion-button",{fill:"clear",expand:"full","icon-only":true,onClick:()=>this.openFilter()},e("ion-icon",{name:"filter",color:"light"})))):undefined,e("ion-col",{key:"866975750803c57f4a2d82b3305acbf6b5325ba2",size:this.filterObject?"11":"12",class:"ion-no-padding"},e("app-search-toolbar",{key:"de4e72d640cfb8ba0fc8119ddeec8202fea25432",list:this.list,orderFields:[this.showField],color:"trasteel",placeholder:this.placeholder?this.placeholder:"search",filterBy:this.filterBy,onFilteredList:i=>this.filteredList=i.detail}))))),e("ion-content",{key:"e39da15ec93e90f333f0413d6cc19428ce7c0458"},this.filterObject&&this.filterObject.isActive()?[e("ion-breadcrumbs",null,e("ion-button",{"icon-only":true,fill:"clear",onClick:()=>this.clearFilter()},e("ion-icon",{color:"danger",name:"trash"})),e("ion-breadcrumb",null),Object.keys(this.filterObject).map((i=>i!="oldProduct"&&(this.filterObject[i]>0||this.filterObject[i]!==null)?e("ion-breadcrumb",null,this.renderKey(i)):undefined)),e("ion-breadcrumb",null))]:undefined,e("app-infinite-scroll",{key:"6c48a3c54f5035ed82401eb67c12e89dd3a16be8",list:this.filteredList,showFields:[this.showField],orderBy:this.orderBy,onItemClicked:i=>this.handleSelect(i.detail)})))}get el(){return s(this)}};h.style=l;export{h as modal_search_list};