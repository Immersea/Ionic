import{r as e,h as t,f as a}from"./p-cbe60c68.js";import{l as i}from"./p-1af05547.js";import{C as d}from"./p-7ee16e8d.js";import{E as o}from"./p-46038295.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";const s="modal-dive-card input{text-align:right}modal-dive-card .fixedLabel{min-width:80% !important;max-width:80% !important}modal-dive-card ion-item .item-inner{box-shadow:none !important;border-bottom:1px solid #dedede !important}modal-dive-card .item-input .label-md,modal-dive-card .item-select .label-md,modal-dive-card .item-datetime .label-md{color:rgb(0, 0, 0)}";const r=s;const n=class{constructor(t){e(this,t);this.card=undefined;this.updateCard=undefined;this.agencies=undefined;this.validCard=false}componentWillLoad(){this.updateViewParams()}componentDidLoad(){this.validateCard()}async updateViewParams(){this.updateCard=new d(this.card);this.validateCard()}save(){this.el.closest("ion-modal").dismiss(this.updateCard)}close(){this.el.closest("ion-modal").dismiss()}inputHandler(e){this.updateCard[e.detail.name]=e.detail.value;this.validateCard()}updateCourse(e){this.updateCard.course=e.detail;this.validateCard()}validateCard(){this.validCard=i.exports.isString(this.updateCard.course.agencyName)&&i.exports.isString(this.updateCard.course.certificationId)&&i.exports.isDate(new Date(this.updateCard.certified))&&i.exports.isString(this.updateCard.number)}render(){return[t("app-navbar",{key:"6a1a45e6a6e3959dffb1b7d9bb1cb606af08b5fd",tag:"dive-card",text:"Dive Card",color:o.getAppColor(),modal:true}),t("ion-content",{key:"695070247822bfddd5941a9253537bf1c11294b6"},t("ion-list",{key:"74e8d6c24e0a4823fd019de51d6ebb834926871c"},t("popover-search-diving-course",{key:"a367e5560480e08013b9eb8d9c8871c3fa1c9b7b",item:this.updateCard.course,onCertSelected:e=>this.updateCourse(e)}),t("app-form-item",{key:"35a3e0d5d748668912280b4e55a2835775659056","label-tag":"number","label-text":"Number",lines:"inset",value:this.updateCard.number,name:"number","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"8420f9418b7baa624ac806b13f65b4d92c325c87","label-tag":"certified","label-text":"Certified",lines:"inset",value:this.updateCard.certified,name:"certified","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:["required"]}),t("app-form-item",{key:"c35854ed8e146cdaccf5ad7c0fd892b3168fb13e","label-tag":"expiry","label-text":"Expiry",lines:"inset",value:this.updateCard.expiry,name:"expiry","input-type":"date",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"d4dd90b9bd1b73bb3bc2995f39fcdbe32f1e3d9a","label-tag":"instructor","label-text":"Instructor",lines:"inset",value:this.updateCard.instructor,name:"instructor","input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}),t("app-form-item",{key:"1bb3489d20c4d3450681cd6c0550fd381d2c556f","label-tag":"comments","label-text":"Comments",lines:"inset",value:this.updateCard.comments,name:"comments",textRows:4,"input-type":"text",onFormItemChanged:e=>this.inputHandler(e),validator:[]}))),t("app-modal-footer",{key:"aa13f47d66555f0b84696fb390e7bb2ca1aa06f1",disableSave:!this.validCard,onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})]}get el(){return a(this)}};n.style=r;export{n as modal_dive_card};