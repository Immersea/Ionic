import{r as e,e as t,h as i}from"./p-cbe60c68.js";import{O as a,aW as n,T as s,E as c}from"./p-c24c8a77.js";import"./p-c7ee7cfe.js";import{b as o}from"./p-c2915cc5.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const d="app-dive-plan-card{width:100%;height:100%}";const l=d;const r=class{constructor(i){e(this,i);this.viewEmit=t(this,"viewEmit",7);this.removeEmit=t(this,"removeEmit",7);this.divePlan=undefined;this.edit=false}componentWillLoad(){this.diveSite=a.diveSitesList.find((e=>e.id===this.divePlan.dives[0].diveSiteId))}async viewDivePlan(e){e.stopPropagation();const t=await n.presentDiveTemplateUpdate(this.divePlan);if(t){this.viewEmit.emit(t)}}async removeDivePlan(e){e.stopPropagation();const t=await o.create({header:s.getTransl("delete-dive-header","Delete dive?"),message:s.getTransl("delete-dive-message","This dive plan will be deleted! Are you sure?"),buttons:[{text:s.getTransl("cancel","Cancel"),role:"cancel",handler:()=>{}},{text:s.getTransl("ok","OK"),handler:()=>{this.removeEmit.emit()}}]});t.present()}render(){return i("ion-card",{key:"9e7590ea366c9328bc7c0b32cf40065a411a65cb",onClick:e=>this.edit?this.viewDivePlan(e):undefined},this.diveSite?i("app-item-cover",{item:this.diveSite}):undefined,i("ion-card-header",{key:"6c7f0d11a1d8943c6cafbcaa73e43f735d545139"},i("ion-item",{key:"58a255691cb83b32d75d84eca9404317c00105b8",class:"ion-no-padding",lines:"none"},this.edit?i("ion-button",{"icon-only":true,slot:"end",color:"danger",fill:"clear",onClick:e=>this.removeDivePlan(e)},i("ion-icon",{name:"trash-bin-outline"})):undefined,i("ion-card-title",{key:"a335794024c5a856eb56562f251f7f7408e8fc05"},this.divePlan.configuration.stdName)),i("ion-card-subtitle",{key:"86ad69a29338c32d06432424638d73ec6565be4e"},this.divePlan.dives[0].getProfilePointsDetails().map((e=>i("p",{class:"ion-text-start"},e))))),i("ion-card-content",{key:"0d9bd1804c09143f0ce0fb59de6807772d09a198"},this.divePlan.configuration.configuration.bottom.length>0?i("p",null,i("my-transl",{tag:"bottom-tanks",text:"Bottom Tanks"}),":"):undefined,this.divePlan.configuration.configuration.bottom.map((e=>i("p",null,e.name+"->"+e.gas.toString()))),this.divePlan.configuration.configuration.deco.length>0?i("p",null,i("my-transl",{tag:"deco-tanks",text:"Deco Tanks"}),":"):undefined,this.divePlan.configuration.configuration.deco.map((e=>i("p",null,e.name+"->"+e.gas.toString())))),!this.edit?i("ion-button",{expand:"full",color:c.isDecoplanner()?"gue-blue":"planner",onClick:()=>n.createNewDivePlan(this.divePlan)},i("my-transl",{tag:"plan-dive",text:"Plan a Dive"})):undefined)}};r.style=l;export{r as app_dive_plan_card};