import{r as e,h as t,H as i,f as a}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n as s}from"./p-c2915cc5.js";import{l as o}from"./p-1af05547.js";import{a6 as c,ac as d,S as l,E as n,T as h}from"./p-c24c8a77.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const r="modal-datasheet-qualitycolorcode ion-list{width:100%}";const f=r;const b=class{constructor(t){e(this,t);this.index=0;this.datasheetQualityColorCodes=undefined;this.datasheetQualityColorCode=undefined;this.updateView=true;this.validDatasheetQualityColorCode=false}async componentWillLoad(){await this.loadDatasheetQualityColorCodes()}async loadDatasheetQualityColorCodes(){await c.downloadDatasheetSettings();this.datasheetQualityColorCodes=o.exports.cloneDeep(c.getDatasheetQualityColorCodes());if(this.datasheetQualityColorCodes&&this.datasheetQualityColorCodes.length>0){this.datasheetQualityColorCode=this.datasheetQualityColorCodes[0]}else{this.addDatasheetQualityColorCode()}this.validateDatasheet()}selectType(e){this.datasheetQualityColorCode=this.datasheetQualityColorCodes[e.detail.value];this.validateDatasheet()}handleChange(e){const t=e.detail.name;let i=e.detail.value;if(t=="qualityColorCodeId"){i=i.replace(/\s+/g,"-").trim().toLowerCase()}this.datasheetQualityColorCode[t]=i;this.validateDatasheet()}validateDatasheet(){this.validDatasheetQualityColorCode=o.exports.isString(this.datasheetQualityColorCode.qualityColorCodeId)&&o.exports.isString(this.datasheetQualityColorCode.qualityColorCodePicture);this.updateView=!this.updateView}addDatasheetQualityColorCode(){this.datasheetQualityColorCode=new d;this.datasheetQualityColorCodes.push(this.datasheetQualityColorCode);this.index=this.datasheetQualityColorCodes.length-1}duplicateDatasheetQualityColorCode(){this.datasheetQualityColorCode=o.exports.cloneDeep(this.datasheetQualityColorCode);this.datasheetQualityColorCode.qualityColorCodeId=this.datasheetQualityColorCode.qualityColorCodeId+"_rev.";this.datasheetQualityColorCodes.push(this.datasheetQualityColorCode);this.index=this.datasheetQualityColorCodes.length-1}async deleteDatasheetQualityColorCode(){try{this.datasheetQualityColorCodes.splice(this.index,1);this.index=0;this.datasheetQualityColorCode=this.datasheetQualityColorCodes[0];this.validateDatasheet()}catch(e){if(e)l.presentAlertError(e)}}async save(e=true){await c.uploadDatasheetSettings("qualityColorCode",this.datasheetQualityColorCodes);return e?s.dismiss():true}async cancel(){return s.dismiss()}render(){return t(i,{key:"eb658025c0b65cc9f864be70e050cd1cb08d0c70"},t("ion-content",{key:"d2e19866e02b10ee8d99e0a38b3d09896c6af0e4"},t("ion-grid",{key:"63505c915b6c49418dc29e43e9e5fcae741de756"},t("ion-row",{key:"834e6dc22896cd7c735673d74aca97417aff130e"},t("ion-col",{key:"c0e968f212de6a0baad77cc6f559cd36dfe11639"},t("ion-item",{key:"73b80b1aa91b80944e5c8d5e6ef9189482254d13",lines:"none"},t("ion-select",{key:"962df9c285df054d13bef4de588cd2a73c2122ed",color:"trasteel",id:"selectType",interface:"action-sheet",label:h.getTransl("datasheet_qualityColorCode","Datasheet QualityColorCode"),disabled:!this.validDatasheetQualityColorCode,"label-placement":"floating",onIonChange:e=>this.selectType(e),value:this.index?this.index:0},this.datasheetQualityColorCodes.map(((e,i)=>t("ion-select-option",{value:i},e.qualityColorCodeId+" | "+e.qualityColorCodePicture)))))),t("ion-col",{key:"22e202238d3c921d988d862aeb9621930acb39d2",size:"1",class:"ion-text-center"},t("ion-button",{key:"b6f55edf3d7d2c839e5a5a558b3b7fbd7cf2a969",fill:"clear",disabled:!this.validDatasheetQualityColorCode,onClick:()=>this.addDatasheetQualityColorCode()},t("ion-icon",{key:"5d9967c54915666dd4791bc118612351e081e154",name:"add",slot:"start"}))),t("ion-col",{key:"ddb3cc082f0eb66e7d0ccc9c6b1b62617c001523",size:"1",class:"ion-text-center"},t("ion-button",{key:"c026ae818cede992ef5652a4447bb8e8edd6bcc6",fill:"clear",disabled:!this.validDatasheetQualityColorCode,onClick:()=>this.duplicateDatasheetQualityColorCode()},t("ion-icon",{key:"502615e863f1e17e29edbc8f3487c586b9967ce6",slot:"start",name:"duplicate"}))),t("ion-col",{key:"663d44716da8da419aa332e18ba6cb5b0cc90d9b",size:"1",class:"ion-text-center"},t("ion-button",{key:"8c3990b02c6adbe6a2682b6e91685aa99c108ef2",fill:"clear",color:"danger",disabled:this.datasheetQualityColorCodes.length==0,onClick:()=>this.deleteDatasheetQualityColorCode()},t("ion-icon",{key:"55173742cdb364ded06fb861f21e8415d619ec77",slot:"start",name:"trash"}))))),t("app-form-item",{key:"275c5f9571fff9a7266dff58dd28404fdf89550b","label-text":"ID",value:this.datasheetQualityColorCode.qualityColorCodeId,name:"qualityColorCodeId","input-type":"string",onFormItemChanged:e=>this.handleChange(e),labelPosition:"fixed",validator:["required",{name:"uniqueid",options:{type:"list",index:"qualityColorCodeId",list:c.getDatasheetQualityColorCodes()}}]}),t("app-form-item",{key:"d186fa4a044bcd5fe07b8bc7274f535e6e000e06","label-text":"Name",value:this.datasheetQualityColorCode.qualityColorCodePicture,name:"qualityColorCodePicture","input-type":"string",onFormItemChanged:e=>this.handleChange(e),labelPosition:"fixed",validator:["required"]})),t("app-modal-footer",{key:"09fba44b48a0aba839a2d002dc0310d59aeffdeb",color:n.getAppColor(),disableSave:!this.validDatasheetQualityColorCode,onCancelEmit:()=>this.cancel(),onSaveEmit:()=>this.save()}))}get el(){return a(this)}};b.style=f;export{b as modal_datasheet_qualitycolorcode};