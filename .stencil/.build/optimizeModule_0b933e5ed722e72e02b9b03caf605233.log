import{r as e,h as a,f as t}from"./p-cbe60c68.js";import{S as i}from"./p-a75993af.js";import{T as o,S as c,_ as s,E as n,W as l,aP as d,R as r}from"./p-773bd3de.js";import{T as f}from"./p-1d025719.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const b="page-contact-details{}";const p=b;const h=class{constructor(a){e(this,a);this.itemId=undefined;this.contact=undefined;this.segment="information";this.slider=undefined}async componentWillLoad(){await this.loadContact();this.segmentTitles={information:o.getTransl("information","Information")}}async loadContact(){await c.presentLoading("loading");try{this.contact=await s.getContact(this.itemId)}catch(e){}c.dismissLoading()}async componentDidLoad(){this.slider=new i(".slider-contact",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true,on:{slideChange:()=>{this.slider?this.slider.updateAutoHeight():null}}})}async editContact(){const e=await s.presentContactUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadContact()))}segmentChanged(e){if(e.detail.value){this.segment=e.detail.value;this.slider.update();switch(this.segment){case"information":this.slider.slideTo(0);break}}}updateSlider(){setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}render(){return[this.contact.coverURL||this.contact.photoURL?a("ion-header",null,a("app-item-cover",{item:this.contact})):undefined,a("ion-header",{key:"213cc8ca1175079242f0febcb8fed4b16883d395"},a("app-navbar",{key:"4c769d7ab9d3ad7b0e1591c908800fb8e9227e82",text:this.contact.lastName+" "+this.contact.firstName,color:"trasteel",backButton:this.contact&&!this.contact.coverURL&&!this.contact.photoURL,rightButtonText:f.isCustomerDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editContact()})),a("ion-header",{key:"eb2181eb7f68a188d4abbb0666c80ca6292298af"},a("ion-toolbar",{key:"978a466c43f01ab34dce1c76df7c6cc06a0ffcaa"},a("ion-segment",{key:"5a17923b91ec5792cde5cbb7c5d4d6bbb484446a",mode:"md",color:n.getAppColor(),scrollable:true,onIonChange:e=>this.segmentChanged(e),value:this.segment},a("ion-segment-button",{key:"52a426d8a3e9f1aec3666b56c9a6cfde94d89241",value:"information",layout:"icon-start"},a("ion-label",{key:"b8c64319660933b01afaa9fe2bf17e17d7535663"},this.segmentTitles.information))))),a("ion-content",{key:"76a984956c946914746df436ae4de8506602233a",class:"slides"},a("ion-fab",{key:"3fe29f074855e1acebb4a187f41e8d2199313aa4",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:d(2)}},a("ion-fab-button",{key:"b22886d1985c5ec019741a8ddd285f958db76d48",onClick:()=>r.goBack(),class:"fab-icon"},a("ion-icon",{key:"10644fbe9e437c97ca1f6050f9c1c9ebb1aaae78",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"f540de9ad6cd62fbf7481ee6cefbce50d8ac5506",class:"slider-contact swiper"},a("swiper-wrapper",{key:"beceb65d1a62e8d030f8e2145cbc6aa3b54afe69",class:"swiper-wrapper"},a("swiper-slide",{key:"b9fe95e01c14cb28959aaa2b7645cca37720d321",class:"swiper-slide"},a("ion-list",{key:"7fc1e808fba741ce2a04a195e3392c2d66b20985",class:"ion-no-padding"},a("ion-list-header",{key:"6653ba54c7cf9a61bfe57d68d35ca815a5b628c5"},a("my-transl",{key:"2000e6269efdbd46a94fabff5cf484989a6955e8",tag:"general-information",text:"General Information",isLabel:true})),a("app-item-detail",{key:"86ed65978946854bdb1a5d162735ac734b76048d",lines:"none",labelTag:"customer",labelText:"Customer",detailText:this.contact.customerId&&l.getCustomersDetails(this.contact.customerId)?l.getCustomersDetails(this.contact.customerId).fullName:null}),a("app-item-detail",{key:"72bd34a66997f9ec585c4008f05652f2ee9336e7",lines:"none",labelTag:"location",labelText:"Location",detailText:this.contact.customerLocationId&&l.getLocationsTypes(this.contact.customerLocationId)?l.getLocationsTypes(this.contact.customerLocationId)[0].locationName:null}),a("app-form-item",{key:"a9952c92c9b2eff51f029574710c2014b636d0b4","label-tag":"name","label-text":"Name",value:this.contact.firstName,"read-only":true}),a("app-form-item",{key:"a72b4a410fa11db577a812c96bf026a2e0c6eb46","label-tag":"surname","label-text":"Surname",value:this.contact.lastName,"read-only":true}),a("app-form-item",{key:"23df92e71b71dac0932b8b9267c7194a854f034d","label-tag":"work-position","label-text":"Work Position",value:this.contact.workPosition,"read-only":true}),a("app-form-item",{key:"222ff36019fc8d5210e42949c0dacabed9e7fd13","label-tag":"office-phone","label-text":"Office Phone",value:this.contact.officePhone,"read-only":true}),a("app-form-item",{key:"570fe88ec4bb816260097605f2c751e866011713","label-tag":"mobile-phone","label-text":"Mobile Phone",value:this.contact.mobilePhone,"read-only":true}),a("app-form-item",{key:"6a1542ad53727e42372eac05fa72c3e40d34085d","label-tag":"email","label-text":"Email",value:this.contact.email,"read-only":true}))))))]}get el(){return t(this)}};h.style=p;export{h as page_contact_details};