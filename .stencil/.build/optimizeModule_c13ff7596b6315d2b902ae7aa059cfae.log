import{r as e,h as a,f as d}from"./p-cbe60c68.js";import{O as c,aq as i,Q as t,h as f,b,U as s,ai as o,R as n,aP as l}from"./p-773bd3de.js";import{S as r}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const y="page-dive-site-details{}";const k=y;const p=class{constructor(a){e(this,a);this.markers=[];this.siteid=undefined;this.diveSite=undefined;this.diveTrips=undefined;this.divingCenters=undefined;this.titles=[{tag:"map"},{tag:"information"},{tag:"dive-profiles"},{tag:"diving-centers"},{tag:"next-trips",text:"Next Dive Trips"}];this.segment=0;this.slider=undefined}async componentWillLoad(){this.diveSite=await c.getDiveSite(this.siteid);this.diveTrips=await i.getTripsSummary(t,this.siteid);this.divingCenters=c.loadSiteDivingCenters(this.diveSite);let e=f.getMapDocs()[t].icon;e.size="large";let a=f.getMapDocs()[b].icon;a.size="small";this.markers.push({icon:e,latitude:this.diveSite.position.geopoint.latitude,longitude:this.diveSite.position.geopoint.longitude});this.divingCenters.siteDivingCenters.forEach((e=>{this.markers.push({name:e.displayName,icon:a,latitude:e.position.geopoint.latitude,longitude:e.position.geopoint.longitude})}));this.userRoles=s.userRoles}async componentDidLoad(){this.slider=new r(".slider-dive-site",{speed:400,spaceBetween:100,allowTouchMove:false,autoHeight:true});await customElements.whenDefined("app-map");this.mapElement=this.el.querySelector("#map");const e=this.el.querySelector("#map-container");e.setAttribute("style","height: "+o(this.diveSite)+"px");this.mapElement["mapLoaded"]().then((()=>{this.mapElement.triggerMapResize();this.setLinesForDiveSite()}));this.setLinesForDiveSite();this.mapElement.triggerMapResize();if(c.showNewDivePlans){this.segment=2}else{this.segment=0}}setLinesForDiveSite(){this.mapElement.triggerMapResize();const e=[this.diveSite];this.divingCenters.siteDivingCenters.forEach((async a=>{e.push(a);this.mapElement["createLine"](a.id,this.diveSite,a)}));this.mapElement["fitToBounds"](e)}render(){return[a("ion-header",{key:"2ee547a22fbdfacff99687c06e08e4e5b265885f"},a("app-item-cover",{key:"8aa3d4624948a2029efff119337595873211891d",item:this.diveSite})),a("ion-header",{key:"c54f07c85c637b92bc366fa14ad94125aac66e18"},a("ion-toolbar",{key:"7b3d73aff0d075eaf4af7fe714c6a85733d474db",color:"divesite",class:"no-safe-padding"},this.diveSite&&!this.diveSite.coverURL?a("ion-buttons",{slot:"start"},a("ion-button",{onClick:()=>n.goBack(),"icon-only":true},a("ion-icon",{name:"arrow-back"}))):undefined,a("ion-title",{key:"d170dfbd7c9946ffc0fed0e8f0871cbb0f3a859a"},this.diveSite.displayName))),a("app-header-segment-toolbar",{key:"47eb007e5df9232dcb7a118bd585eb386b4d9dd1",color:"divesite",swiper:this.slider,titles:this.titles}),a("ion-content",{key:"f7c92400dfae9727d84153ad4e50a013dd9070c6",class:"slides"},a("ion-fab",{key:"784010f78cb8567b595f495cd9fecbb0b73fa88f",vertical:"top",horizontal:"start",slot:"fixed",style:{marginTop:l(2)}},a("ion-fab-button",{key:"0e8f54f29428990c313e0770162d0d368c676f2e",onClick:()=>n.goBack(),class:"fab-icon"},a("ion-icon",{key:"61e78f88c4c9782e5cf267089f7c8fc280903893",name:"arrow-back-circle-outline"}))),a("swiper-container",{key:"d410c31fdc54bc938f7389758160d5868dd402ee",class:"slider-dive-site swiper"},a("swiper-wrapper",{key:"aa73aab97dd23d27622a4c7a8e4f962f21fb2ea1",class:"swiper-wrapper"},a("swiper-slide",{key:"795e1a0bc06ac5b0166a51d66ef951f1d2a7a570",class:"swiper-slide"},a("ion-list",{key:"b5c546976b5a0f294a0608b9d5764a5ab1edf681",class:"ion-no-padding"},a("ion-list-header",{key:"b721772b767d8ca8b295b503b225937720d47113"},a("ion-label",{key:"4cef45b9e7f47c50fa6c5e9eb8d4a66305d13d6c",color:"divesite"},a("my-transl",{key:"c53c81372cbe83c4135583d32eb3c4560d175b38",tag:"general-information",text:"General Information"}))),a("ion-item",{key:"46117ec21852a49ba4903afd671107d53081adb8"},a("ion-label",{key:"5e5a22470a016e11af284f8591f97bcb7cf0c058",class:"ion-text-wrap"},a("ion-text",{key:"0b8d64a44606b0182c935ec14027f2cd0bc3dab8",color:"divesite"},a("h3",{key:"45072464f2baad371fe88a8c8ce36edb65eb370b"},a("my-transl",{key:"2bf7449c87e32517ef621aa31c3ba35bfc25290a",tag:"site-type",text:"Site Type"}))),a("ion-text",{key:"2b94147281f379e77d2f583a15f16362fcd11784",color:"dark"},a("p",{key:"f1229bfc722cce036d7fb340a6d9780876063257"},c.getSiteTypeName(this.diveSite.type))))),a("ion-item",{key:"df480251585b3590b531ffc210f04b1f80f5e74e"},a("ion-label",{key:"7cd0dd7918a97d5805760494825a8b40a9156a3f",class:"ion-text-wrap"},a("ion-text",{key:"d19b444e9a058c3aa223428200e6efa696b3c93d",color:"dark"},a("p",{key:"4ca2ad4c4e6e2c845b613f0318ecef55933f3e50"},this.diveSite.description)))),a("ion-list-header",{key:"76ffd927411391e4cddf1fd159f59258ba0de843"},a("ion-label",{key:"1fd0c73c2123c6b4261dfb6978816b7ff0f1efd6",color:"divesite"},a("my-transl",{key:"e521e93f31185091a0d9ca84d389aac91b9aae78",tag:"site-details",text:"Site Details"}))),a("ion-item",{key:"b89929c72a3afd9470244a2c88c999220b61caa5"},a("ion-label",{key:"ee196746494e10c82c94f1c8a3d57c1039760230",class:"ion-text-wrap"},a("ion-text",{key:"8a2ad42a770ce85de0ee3d70a604278330f535fd",color:"divesite"},a("h3",{key:"0dc34170bc318b387f95ceee3ef575f1e1be4e3f"},a("my-transl",{key:"0c9dd5d82e884df60bedf10b47958dc3ecdc393d",tag:"entry-type",text:"Entry Type"}))),a("ion-text",{key:"50e46604e0e19180e4c1fdd59472ef791e1680a5",color:"dark"},a("p",{key:"e252821996ac0c07e11856d2f8c15e958581cb76"},c.getEntryTypeName(this.diveSite.information.entryType))))),a("ion-grid",{key:"7d0a043f61629a450483b734f6f5f962ef218ff6",class:"ion-no-padding"},a("ion-row",{key:"eabce250a69b88c128397b63275975044237e161"},a("ion-col",{key:"3d06efdee506018fa9a5b519528b44c3d5614d11"},a("ion-item",{key:"35f3f8c9d48d1656a3f2a3d4b3bb78cb3bd5435e"},a("ion-label",{key:"4baf2c6d0776142b867fe47b7a62d0c5e2bad49e",class:"ion-text-wrap"},a("ion-text",{key:"fd2b495a1b81d053000b6f8b6ffc6bbfbcfcdfe2",color:"divesite"},a("h3",{key:"2e781d729df245abfa697426feca87e0332c9b7c"},a("my-transl",{key:"0cbebd4a80bb7176e656f0f3eadd5d7bc3a941cf",tag:"min-depth",text:"Min. Depth"}))),a("ion-text",{key:"f15c74f719decb003544ad458be37c0c5c23d020",color:"dark"},a("p",{key:"2842f1885edbddf6ea1b5a63c7b0acc1e54d81dc"},this.diveSite.information.minDepth," m"))))),a("ion-col",{key:"32de434445832e5a3415abaae3191fca00b8089a"},a("ion-item",{key:"bcb09b628322d98f1fec7e7750567503e0d0d718"},a("ion-label",{key:"4f1814860b894abc3fe2a55b7006ceaab9e60f48",class:"ion-text-wrap"},a("ion-text",{key:"9dde040c787b7fefa9856a868207c6a77ea031bc",color:"dark"},a("ion-text",{key:"a42daf6796da8e04b622540869dcf4c31eeab8b6",color:"divesite"},a("h3",{key:"9d1fad5808d5eeef0fbf8d1b39cb6885037a0b5c"},a("my-transl",{key:"15b85b8e4025b8e0db6879778a4e065ade943746",tag:"max-depth",text:"Max. Depth"}))),a("p",{key:"851e97f7c7b5d27303f28b947baade75268c6dd0"},this.diveSite.information.maxDepth," m"))))))),a("ion-item",{key:"b42b6944c422da21f764e614ff95b7a048246576"},a("ion-label",{key:"137c31d4b8381918133baabb345fdd6b201eb5a7",class:"ion-text-wrap"},a("ion-text",{key:"4821aba97117a7578f98bb468fc635618316dcc5",color:"divesite"},a("h3",{key:"378ffa506cbbd8178b1669074b249d953cabf7f4"},a("my-transl",{key:"2267dfd36ecca8e7fb65e9f541f477631a4dbf13",tag:"avg-vis",text:"Average Visibility"}))),a("ion-text",{key:"dee5487730a54c121608c82ab9fdfb3748f7bfea",color:"dark"},a("p",{key:"9cfbf6cd11c81e28a6176d292a0165cf464633bd"},this.diveSite.information.avgViz," m")))),a("ion-list-header",{key:"fa79f2c612c725063993e95b0cc055457d124c47"},a("ion-label",{key:"c39bf973a60e2f5cb400c77f49b2f1a130eb2369",color:"divesite"},a("my-transl",{key:"be6d435a53e521546f7c9ef476bb40e8bfe662be",tag:"water-temp",text:"Water Temperature"}))),a("ion-grid",{key:"9a14ecc0a5c87287aa668c880d2453ef8b9ead78",class:"ion-no-padding"},a("ion-row",{key:"fb3e3a07c9d98cc0f12c2643f564a252c8d82fd6"},a("ion-col",{key:"d0aae44d548abfbc9fe77dfb0217583810dd5c4d"},a("ion-item",{key:"288ec6a6f2df0321944fe429935c9c8bc4222c7f"},a("ion-label",{key:"a0fe052b41f3a06ca16c133c137d753bc9ac9018",class:"ion-text-wrap"},a("ion-text",{key:"49d8279187ecab65ffbccf107e9ff1daebcac73e",color:"divesite"},a("h3",{key:"dbddfecd22f5d5dee6485ec451d8e3e5ad8e84a5"},a("my-transl",{key:"b3bef9c2146126a42da1200ca225b34c234f5c4d",tag:"spring",text:"Spring"}))),a("ion-text",{key:"ffe793ff3865fdeb317157155f18d353dee5ffc6",color:"dark"},a("p",{key:"d776013d76ad2dfe581b004084b3c50dde774775"},this.diveSite.information.waterTemp.spring," °C"))))),a("ion-col",{key:"d82e5ca5cf385489724043aae97ff6c904195437"},a("ion-item",{key:"061b5506e2b97303c5af21e64adbff31b788d0bc"},a("ion-label",{key:"8edb86545dbaf65741e431202d3add6e08d18a3c",class:"ion-text-wrap"},a("ion-text",{key:"a5a6a321471ba08654ecea79d74b47524e91711a",color:"divesite"},a("h3",{key:"db39d86d6053dd9779b0e1ef761d721cfbbc3144"},a("my-transl",{key:"253236a8729150fc2adfe9699d18faa7ae0d2bc1",tag:"summer",text:"Summer"}))),a("ion-text",{key:"28b38f0bd65ae41f83f819705c2dc3cdee5aeb88",color:"dark"},a("p",{key:"20b071e380baa2455c19abd5e59cc4120248361a"},this.diveSite.information.waterTemp.summer," °C")))))),a("ion-row",{key:"d5aff460861a968c29561b9a8f72f9a41c216822"},a("ion-col",{key:"842de1be7d88606e15a3fd8dad3b1a1f4b8b94cf"},a("ion-item",{key:"4d02dc888a3077fbbb7d0c1f2f6c25d691dc5d40"},a("ion-label",{key:"741ce957a59e9e304a121f623043420d712537bf",class:"ion-text-wrap"},a("ion-text",{key:"9866b7539ff0c8144ca923887442417fa0669c30",color:"divesite"},a("h3",{key:"def687c906f631e72c4dcd155b74949cd5e8c28b"},a("my-transl",{key:"c0b961c0809656fd9454ac0d9f300db8436e764b",tag:"autumn",text:"Autumn"}))),a("ion-text",{key:"90f8efb4e7a9771be9bff897a276f5a581c8ba63",color:"dark"},a("p",{key:"72418cd3b7096428cdb940a500869f565f9f5a6a"},this.diveSite.information.waterTemp.autumn," °C"))))),a("ion-col",{key:"4ee669c931d00e41e376fbff694a090c52522889"},a("ion-item",{key:"8be8c7bf645ba9271ef73e1a193fff0565142c1b"},a("ion-label",{key:"3d5a65116bad21347cf95346f20fb2173056360d",class:"ion-text-wrap"},a("ion-text",{key:"ad61b591c5fc9df8e6708aded32abc31221ae0f6",color:"divesite"},a("h3",{key:"07b136f4b8ce11753e58b5b3cf6c815dd20f9db2"},a("my-transl",{key:"9681a21211a6c38651adb46b1fcd3e140019db1c",tag:"winter",text:"Winter"}))),a("ion-text",{key:"a0e92f633e888820004dd1f6a08d03bdd403a13e",color:"dark"},a("p",{key:"fde3456c8df37a50976c1e7f8aee6b370195c346"},this.diveSite.information.waterTemp.winter," °C"))))))),this.diveSite.information.seabedComposition?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-comp",text:"Seabed Composition"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedComposition.map((e=>a("p",null,c.getSeabedCompositionName(e))))))):undefined,this.diveSite.information.seabedCover?a("ion-item",null,a("ion-label",{class:"ion-text-wrap"},a("ion-text",{color:"divesite"},a("h3",null,a("my-transl",{tag:"seabed-cover",text:"Seabed Cover"}))),a("ion-text",{color:"dark"},this.diveSite.information.seabedCover.map((e=>a("p",null,c.getSeabedCoverName(e))))))):undefined)),a("swiper-slide",{key:"55de6e0ff006d475b3f39f8f91d1d5db08e49b12",class:"swiper-slide"},a("div",{key:"f99c330c9b995d810e68fcf0d534cd13c50217fd",id:"map-container"},a("app-map",{key:"963eeebce263213d998d8470876aa1824ee876b0",id:"map",pageId:"dive-site-details",center:this.diveSite,markers:this.markers}))),a("swiper-slide",{key:"83a082450a80eedd57d7f3cd36dc5aff8e23d3b4",class:"swiper-slide"},a("ion-grid",{key:"f33ab0b4b113bdb0e27144bc7b1472718bb5a4c4"},a("ion-row",{key:"9b7abc6719b0bf828e6a0a9596990904da36924f",class:"ion-text-start"},this.diveSite.divePlans.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-dive-plan-card",{divePlan:e,edit:false}))))))),a("swiper-slide",{key:"66788ef489afe0e9424ac8dd702955fab91b0269",class:"swiper-slide"},a("ion-grid",{key:"2d41a70a12d5d1ad796c0e6ce5aa9b585fdfe7da"},a("ion-row",{key:"ac29d048340cf9f2b5cd8b6c440b96afe42552df",class:"ion-text-start"},this.diveSite.divingCenters.map((e=>a("ion-col",{"size-sm":"12","size-md":"6","size-lg":"4"},a("app-diving-center-card",{divingCenterId:e,startlocation:this.diveSite}))))))),a("swiper-slide",{key:"3f0747df2a8ac80f8b627aea36af601012c73239",class:"swiper-slide"},a("app-calendar",{key:"e07bcbeae42f3c07608c4b4ea81df97f5c448617",calendarId:"dive-site-calendar",addEvents:{trips:this.diveTrips}})))))]}get el(){return d(this)}};p.style=k;export{p as page_dive_site_details};