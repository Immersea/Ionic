import{r as e,h as t}from"./p-cbe60c68.js";import{aN as a,U as s}from"./p-30358c9d.js";import{E as i}from"./p-a9f4af61.js";import"./p-2578d979.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c7ee7cfe.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const l="page-support{}";const o=l;const n=class{constructor(t){e(this,t);this.email={name:"email",valid:false,value:""};this.subject={name:"subject",valid:false,value:""};this.body={name:"body",valid:false,value:""};this.network=false;this.send=false;this.scrollTop=0}componentWillLoad(){a.getStatus().then((e=>{if(e.connected){this.network=true}else{this.network=false}}));this.email.value=s&&s.userProfile?s.userProfile.email:"";this.email.valid=true}inputHandler(e){this[e.detail.name]=e.detail}checkFields(){if(this.email.valid&&this.subject.valid&&this.body.valid){this.send=true}else{this.send=false}this.emailSubject=encodeURI("[Mobile Decoplanner support] "+this.subject.value);this.emailBody=encodeURI("User:\n"+this.email.value+(s.userProfile&&s.userProfile.uid?" (id: "+s.userProfile.uid+")":"")+"\n\n\nProblem:\n"+this.body.value)}messagesent(){this.subject.value="";this.subject.valid=false;this.body.value="";this.body.valid=false;this.checkFields()}render(){return[t("ion-header",{key:"3b4f803ab96201414d6310db65073aa203935daf"},t("app-navbar",{key:"a8e4360a7f6b2dd000dbe44e2964a41ee6fbb8fb",tag:"support",text:"Support",color:i.getAppColor()})),t("ion-content",{key:"f898b6978d447cdf6b8c9e4e074cbd2faca04fe9",scrollEvents:true,onIonScroll:e=>this.scrollTop=e.detail.scrollTop},t("app-banner",{key:"27632b11398dd731c4c4d89eed8c97b5f591e379",scrollTopValue:this.scrollTop,heightPx:250,link:"assets/images/Jarrod-Stargate.jpg"}),t("app-form-item",{key:"26fb670f683426278eb317438d78d5db4f114cca","label-tag":"email","label-text":"Email",name:"email",lines:"full",value:this.email.value,"input-type":"email",onFormItemChanged:e=>this.inputHandler(e),onIsValid:()=>this.checkFields(),validator:["required","email"]}),t("app-form-item",{key:"8bc5df8e3bf09f7500c36e2ae5f99e34f29cb2f9","label-tag":"subject","label-text":"Subject",name:"subject",lines:"full",value:this.subject.value,"input-type":"text",onFormItemChanged:e=>this.inputHandler(e),onIsValid:()=>this.checkFields(),validator:["required",{name:"length",options:{min:5,max:null}}]}),t("app-form-item",{key:"e85bdb9660581c5cb2eeacb1339ac95f77afd771","label-tag":"text","label-text":"Text",name:"body",lines:"full",value:this.body.value,"input-type":"text","text-rows":"10",onFormItemChanged:e=>this.inputHandler(e),onIsValid:()=>this.checkFields(),validator:["required",{name:"length",options:{min:10,max:null}}]}),t("ion-button",{key:"f6fde83752555d34dda96cd82873954f93f9428a",expand:"block",href:"mailto:decoplan@gue.com?subject="+this.emailSubject+"&body="+this.emailBody,onClick:()=>this.messagesent(),disabled:!this.network||!this.send},t("ion-icon",{key:"9f2202a18b802fa890fa7717029df94c40f8e2d1",name:"send",slot:"start"}),t("my-transl",{key:"bca1ef3c61110e24082b1920120126509c6cc00d",tag:"send",text:"Send"})))]}};n.style=o;export{n as page_support};