import{r as e,h as t,H as c,f as i}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{m as o}from"./p-c2915cc5.js";import{l as s}from"./p-1af05547.js";import{E as n}from"./p-773bd3de.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const a="popover-select-search{}popover-select-search .boldText{font-weight:bold}";const d=a;const b=class{constructor(t){e(this,t);this.selectOptions=undefined;this.selectValueText=undefined;this.placeholder="Search";this.selectValueId=undefined;this.value=undefined;this.filteredOptions=undefined}componentWillLoad(){this.popover=this.el.closest("ion-popover");this.filteredOptions=s.exports.cloneDeep(this.selectOptions)}componentDidLoad(){const e=this.el.querySelector("ion-searchbar");if(e){e.componentOnReady().then((()=>{setTimeout((()=>{e.setFocus()}))}))}}handleSearch(e){let t="";const c=e.target;if(c)t=c.value.toLowerCase();this.filteredOptions=[];this.selectOptions.forEach((e=>{const c=this.getTextValue(e);if(s.exports.includes(s.exports.toLower(c),t)){this.filteredOptions.push(e)}}))}handleSelect(e){o.dismiss(e)}close(){o.dismiss()}getTextValue(e){let t=s.exports.cloneDeep(e);let c=null;for(let e=0;e<this.selectValueText.length;e++){const i=this.selectValueText[e];if(s.exports.isString(t[i])){c=(c?c+"-":"")+t[i]}else if(s.exports.isObject(t[i])){e++;c=(c?c+"-":"")+t[i][this.selectValueText[e]]}}return c}render(){return t(c,{key:"e27c64001c83525f195416bb8ffde4665fc6bc2d"},t("ion-header",{key:"2bd220ec293dd0f279d241aaed082022399f92e4",translucent:true},t("ion-toolbar",{key:"fada9ddfd9b243d48ba7d3209c6c65642e646ac9"},t("ion-grid",{key:"0f42558069903b1ebb6763705f686dc6071961aa",class:"ion-no-padding"},t("ion-row",{key:"05eed392cd678c616cea496c444497e8635cde4a"},t("ion-col",{key:"250b443986207c7562c73adbc348acf59bc15daa",size:"10"},t("ion-searchbar",{key:"b11af11283ab34f241599104894423b7e537ad40",animated:true,debounce:250,placeholder:this.placeholder,onIonInput:e=>this.handleSearch(e)})),t("ion-col",{key:"cb689e0cb12e857af320b0c08cea752a9dedb5e9",size:"1"},t("ion-button",{key:"02d2c19e0d052e00defa49e563c3ab60b6405798",color:n.getAppColor(),"icon-only":true,fill:"clear",onClick:this.close},t("ion-icon",{key:"d6e68062ca404bdb6accc45bbfa7fb2cb17b972e",name:"close"}))))))),t("ion-content",{key:"ebcfbb275271bf5cfaddc04ec4e87d599bfb6c12"},t("ion-list",{key:"42e2cf32e4bd4c4b3b9ab169b49096a3a2b5bb10"},this.filteredOptions.map((e=>t("ion-item",{button:true,onClick:()=>this.handleSelect(e),class:e[this.selectValueId]==this.value?"boldText":""},e[this.selectValueId]==this.value?t("ion-icon",{name:"checkmark"}):undefined,t("ion-label",null,this.getTextValue(e))))))))}get el(){return i(this)}};b.style=d;export{b as popover_select_search};