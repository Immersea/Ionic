import{r as e,h as t}from"./p-cbe60c68.js";import{S as a,R as i,aD as l,E as d,T as s}from"./p-944b5726.js";import{T as n}from"./p-2655e5fc.js";import{S as c}from"./p-a75993af.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const p="page-shape-details{}";const o=p;const b=class{constructor(t){e(this,t);this.titles=[{tag:"information",text:"Information"},{tag:"drawing",text:"Drawing",disabled:false}];this.itemId=undefined;this.shape=undefined;this.shapeTypes=undefined;this.updateView=true;this.slider=undefined}async componentWillLoad(){if(this.itemId){await this.loadShape()}else{a.dismissLoading();a.presentAlertError("No Item Id");i.goBack()}}async componentDidLoad(){this.slider=new c(".slider-detail-shapes",{speed:400,spaceBetween:0,allowTouchMove:false,autoHeight:true,slidesPerView:1,breakpoints:{768:{slidesPerView:1},992:{slidesPerView:2}}})}async loadShape(){try{this.shape=await l.getShape(this.itemId);this.shapeTypes=await l.getShapeTypes();this.checkDwg()}catch(e){a.dismissLoading();a.presentAlertError(e);i.goBack()}a.dismissLoading()}async checkDwg(){if(!this.shape.dwg){const e=this.shapeTypes.find((e=>e.typeId==this.shape.shapeTypeId));if(e){this.shape.dwg=e.dwg}if(!this.shape.dwg){this.titles[1].disabled=true;this.updateView=!this.updateView}}}updateSlider(){this.updateView=!this.updateView;setTimeout((()=>{this.slider?this.slider.update():undefined}),100)}async editShape(){const e=await l.presentShapeUpdate(this.itemId);e.onDidDismiss().then((()=>this.loadShape()))}deleteShape(){l.deleteShape(this.itemId);i.goBack()}duplicateShape(){l.duplicateShape(this.itemId);i.goBack()}render(){return[t("ion-header",{key:"f51620007681a4baf6795ea5ab5ffb1b215a06da"},t("app-navbar",{key:"62aa21aed760294b960d91b2d8623a043e634d1f",text:this.shape.shapeName,color:"trasteel",backButton:true,rightButtonText:n.isRefraDBAdmin()?{icon:"create",fill:"outline",tag:"edit",text:"Edit"}:null,rightButtonFc:()=>this.editShape()})),t("app-header-segment-toolbar",{key:"55ad2b67d19fc83a0fcfa4021116c924a2a1dea1",color:d.getAppColor(),swiper:this.slider,titles:this.titles,noToolbar:true}),t("ion-content",{key:"762cf6942d05344545354282a1e8d69a16eae523",class:"slides"},t("swiper-container",{key:"e6996486c1220261a05056d56254e86ee0721443",class:"slider-detail-shapes swiper"},t("swiper-wrapper",{key:"2d4d8ab2d62d803f560a027dfbf6cbf02cd7eefc",class:"swiper-wrapper"},t("swiper-slide",{key:"0d182b34de25b3af572026dea24cd86492c2561b",class:"swiper-slide"},t("ion-list",{key:"4a6d5acd5a9e5893467760033fd68d8112e604ad",class:"ion-no-padding"},t("app-item-detail",{key:"bc6c73a49d8b0ad6762eef3618619dd1bce2fd6a",lines:"none",labelTag:"shape_type",labelText:"Shape Type",detailText:l.getShapeTypeName(this.shape.shapeTypeId)["en"]}),t("app-item-detail",{key:"731f333c9c1044217446c6e76cc89bc36504b131",lines:"none",labelTag:"name",labelText:"Name",detailText:this.shape.shapeName}),t("app-item-detail",{key:"b0e1620a21e65e910ff793aa148fbb15c5ef6a1d",lines:"none",labelTag:"shortName",labelText:"Short Name",detailText:this.shape.shapeShortName}),t("app-item-detail",{key:"5d46c90075843d8839438c34539b7785dcbaa083",lines:"none",labelText:"H",detailText:this.shape.H}),t("app-item-detail",{key:"5d5db7b8acd91f8d7502c9b437310a9c04ca7c50",lines:"none",labelText:"H1",detailText:this.shape.H1}),t("app-item-detail",{key:"c0e072b4baf9fda2f0ce12178d0752d2e99078d9",lines:"none",labelText:"H2",detailText:this.shape.H2}),t("app-item-detail",{key:"1d837ba18009fb94db98dc5f26441ce571877518",lines:"none",labelText:"L",detailText:this.shape.L}),t("app-item-detail",{key:"200ddd6fe07c3207b96effa786b8c9ab32ee4fac",lines:"none",labelText:"L1",detailText:this.shape.L1}),t("app-item-detail",{key:"32ae40017ee1a7e5b35be2656824400dbf746c18",lines:"none",labelText:"La",detailText:this.shape.La}),t("app-item-detail",{key:"cb96b5d95d5809c456a40ab3c7fd27489219d26d",lines:"none",labelText:"Lb",detailText:this.shape.Lb}),t("app-item-detail",{key:"f1451f6adc277e43c66cb899933f2b9b8221e6a4",lines:"none",labelText:"A",detailText:this.shape.A}),t("app-item-detail",{key:"40bd0b788c11185d93f1fd7124d1712b04fbd90a",lines:"none",labelText:"A1",detailText:this.shape.A1}),t("app-item-detail",{key:"3cce9d0396c58683cd193c2845c9012938a50831",lines:"none",labelText:"B",detailText:this.shape.B}),t("app-item-detail",{key:"09efc6aefe793499577f9e2f13587ae29f719840",lines:"none",labelText:"B1",detailText:this.shape.B1}),t("app-item-detail",{key:"a3869b3e7f044a426d882401925d2a7c775f65fb",lines:"none",labelText:"ANG",detailText:this.shape.ANG}),t("app-item-detail",{key:"59701ac8f04b249dee3624529a8cdbe87ce93489",lines:"none",labelText:"ANG1",detailText:this.shape.ANG1}),t("app-item-detail",{key:"d859564375628a08fe11762fc1416d2f918cc5ca",lines:"none",labelText:"D",detailText:this.shape.D}),t("app-item-detail",{key:"6aa2a9e32b269f5f5d6ffc2890e90bd5fbd6e1aa",lines:"none",labelText:"D1",detailText:this.shape.D1}),t("app-item-detail",{key:"4aad986edc4e38bca5f364f119912169ab44f0da",lines:"none",labelText:"D2",detailText:this.shape.D2}),t("app-item-detail",{key:"71db4f050f25e13e35f0294eae4b4e05055f04c1",lines:"none",labelText:"D3",detailText:this.shape.D3}),t("app-item-detail",{key:"fec5621830b178b74510c0dd8f8dfe2462f0d586",lines:"none",labelText:"D4",detailText:this.shape.D4}),t("app-item-detail",{key:"04feaf629b7f084eb33a6757ff5be012e91efd3e",lines:"none",labelText:"De",detailText:this.shape.De}),t("app-item-detail",{key:"721e35771cce6cce2f0b6483e67fdd0b77f3600c",lines:"none",labelText:"Di",detailText:this.shape.Di}),t("app-item-detail",{key:"68a15c97b1d31299befe90cad43ef09b623fc2c3",lines:"none",labelText:"N",detailText:this.shape.N}),t("app-item-detail",{key:"b5d62b9322dcdcc32d2f72275bd934397f3cbfe2",lines:"none",labelText:"Radius",appendText:this.shape.radius_max>0?" MIN":null,detailText:this.shape.radius}),t("app-item-detail",{key:"e16e486abe211aabfc4467a9f175bd4a10d5d61d",lines:"none",labelText:"Radius",appendText:" MAX",detailText:this.shape.radius_max}),t("app-item-detail",{key:"680e198d6ddac6e2fdd4e6cf0bdd065519197e42",lines:"none",labelText:"Volume",detailText:this.shape.volume})),n.isRefraDBAdmin()?t("ion-grid",null,t("ion-row",null,t("ion-col",null,t("ion-button",{color:"danger",fill:"outline",expand:"block",onClick:()=>this.deleteShape()},t("ion-icon",{name:"trash",slot:"start"}),t("ion-label",null,s.getTransl("delete","Delete")))),t("ion-col",null,t("ion-button",{color:"tertiary",fill:"outline",expand:"block",onClick:()=>this.duplicateShape()},t("ion-icon",{name:"duplicate",slot:"start"}),t("ion-label",null,s.getTransl("copy","Copy")))))):undefined),this.shape.dwg?t("swiper-slide",{class:"swiper-slide"},t("app-banner",{heightPx:500,backgroundCoverFill:false,link:this.shape.dwg?this.shape.dwg.url:null})):undefined)))]}};b.style=o;export{b as page_shape_details};