import{r as e,e as i,h as t,H as s,f as c}from"./p-cbe60c68.js";import{S as n,aj as o,T as a}from"./p-773bd3de.js";import{l as r}from"./p-1af05547.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-c2915cc5.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const p="popover-search-diving-course{}popover-search-diving-course ion-list{min-height:300px}";const h=p;const l=class{constructor(t){e(this,t);this.certSelected=i(this,"certSelected",7);this.item=undefined;this.popover=undefined;this.updateView=false}async componentWillLoad(){this.agencies=await n.getDivingAgencies();this.localAgencies=o.agencies;!this.item?this.item={agencyId:null,agencyName:null,certificationId:null}:undefined}componentDidLoad(){this.popover=this.el.closest("ion-popover");this.setSelectAgency()}setSelectAgency(){const e=this.el.querySelector("#selectAgency");const i={header:a.getTransl("diving-agency","Diving Agency")};e.interfaceOptions=i;e.placeholder=a.getTransl("select","Select");r.exports.each(this.localAgencies,(i=>{let t=document.createElement("ion-select-option");t.value=i.ag_name;t.textContent=i.ag_name;e.appendChild(t)}));this.updateView=!this.updateView}updateAgency(e){this.item.agencyName=e.detail.value;const i=r.exports.findIndex(this.agencies,(e=>e["id"]==this.item.agencyName));this.item.agencyId=i>0?e.detail.value:""}updateCertification(e){this.item.certificationId=e.detail.value;if(this.popover){this.popover.dismiss(this.item)}this.certSelected.emit(this.item)}render(){return t(s,{key:"31fe81958b986837a5109690422dc76861618be7"},this.popover?t("ion-toolbar",null,t("ion-title",null,t("my-transl",{tag:"diving-course",text:"Diving Course"}))):undefined,t("ion-item",{key:"5c93cbca92c0c7422977f0b0aec9c3b09de1f0bd"},t("ion-select",{key:"2503f7c0361e275495419efa40c7663c5987384b",label:a.getTransl("diving-agency","Diving Agency"),id:"selectAgency",onIonChange:e=>this.updateAgency(e),value:this.item.agencyName})),t("app-form-item",{key:"54012965c574cbb2667150c23730a16ef759577a","label-tag":"certification","label-text":"Certification",lines:"inset",value:this.item.certificationId,name:"certification","input-type":"text",onFormItemChanged:e=>this.updateCertification(e),validator:["required"]}))}get el(){return c(this)}};l.style=h;export{l as popover_search_diving_course};