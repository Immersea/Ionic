import{r as e,h as c,H as t,f as i}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n as o}from"./p-5d4a8e1f.js";import{l as s}from"./p-1af05547.js";import{E as a}from"./p-a9f4af61.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-e9c4f463.js";const n="popover-select-search{}popover-select-search .boldText{font-weight:bold}";const f=n;const r=class{constructor(c){e(this,c);this.selectOptions=undefined;this.selectValueText=undefined;this.placeholder="Search";this.selectValueId=undefined;this.value=undefined;this.filteredOptions=undefined}componentWillLoad(){this.popover=this.el.closest("ion-popover");this.filteredOptions=s.exports.cloneDeep(this.selectOptions)}componentDidLoad(){const e=this.el.querySelector("ion-searchbar");if(e){e.componentOnReady().then((()=>{setTimeout((()=>{e.setFocus()}))}))}}handleSearch(e){let c="";const t=e.target;if(t)c=t.value.toLowerCase();this.filteredOptions=[];this.selectOptions.forEach((e=>{const t=this.getTextValue(e);if(s.exports.includes(s.exports.toLower(t),c)){this.filteredOptions.push(e)}}))}handleSelect(e){o.dismiss(e)}close(){o.dismiss()}getTextValue(e){let c=s.exports.cloneDeep(e);let t=null;for(let e=0;e<this.selectValueText.length;e++){const i=this.selectValueText[e];if(s.exports.isString(c[i])){t=(t?t+"-":"")+c[i]}else if(s.exports.isObject(c[i])){e++;t=(t?t+"-":"")+c[i][this.selectValueText[e]]}}return t}render(){return c(t,{key:"e50443894e2d01c6cb7998e8512cbe5f9a805733"},c("ion-header",{key:"936778b6ea3bfdc166edacd031a6c16c6fa2a544",translucent:true},c("ion-toolbar",{key:"e2ae965df9fed2bfc23cd6ba767d9ba6ca9c17f7"},c("ion-grid",{key:"64174732a2af70fc7d7e7b9451520b5c2f28657d",class:"ion-no-padding"},c("ion-row",{key:"01591f872ab09a36882bcd0841a02bc2370c7f17"},c("ion-col",{key:"4ae66bf1c724147ec8c120e7bf126470f01660e7",size:"10"},c("ion-searchbar",{key:"f7b806ce5f8a9c32fa81ecdaf8f1f484a804dac0",animated:true,debounce:250,placeholder:this.placeholder,onIonInput:e=>this.handleSearch(e)})),c("ion-col",{key:"0ffaf755b91ad0e6730cf8ac514bc3fa0e4e2aa9",size:"1"},c("ion-button",{key:"80660b60888699e53a80182808ce8114ad36644c",color:a.getAppColor(),"icon-only":true,fill:"clear",onClick:this.close},c("ion-icon",{key:"20c3479f5f0a233520d4d1c31fb60834134c0b47",name:"close"}))))))),c("ion-content",{key:"7c936b64226c306599ccb1bc20936eefb6b4f6ce"},c("ion-list",{key:"3eb47a1f2d65205edbf0eb4c9d8ad91ceb6c5c1f"},this.filteredOptions.map((e=>c("ion-item",{button:true,onClick:()=>this.handleSelect(e),class:e[this.selectValueId]==this.value?"boldText":""},e[this.selectValueId]==this.value?c("ion-icon",{name:"checkmark"}):undefined,c("ion-label",null,this.getTextValue(e))))))))}get el(){return i(this)}};r.style=f;export{r as popover_select_search};