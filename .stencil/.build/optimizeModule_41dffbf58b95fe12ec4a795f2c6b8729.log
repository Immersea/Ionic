import{r as e,h as t}from"./p-cbe60c68.js";import{J as a,F as o,i as s,l as c}from"./p-30358c9d.js";import{l as i}from"./p-1af05547.js";import{T as r}from"./p-87afedc7.js";import"./p-2578d979.js";import"./p-e9c4f463.js";import"./p-a9f4af61.js";import"./p-c7ee7cfe.js";import"./p-694b8ade.js";import"./p-5d4a8e1f.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-7ee16e8d.js";const p="page-contacts{}";const n=p;const d=class{constructor(t){e(this,t);this.contactsList=[];this.filteredContactsList=[];this.loading=true}componentWillLoad(){a.contactsList$.subscribe((async e=>{const t=[];e.map((e=>{const a=i.exports.cloneDeep(e);const s=o.getCustomersDetails(e.customerId);if(s){a.customerId=s.fullName;t.push(a)}}));this.contactsList=t;this.loading=false}))}componentDidLoad(){}addContact(){a.presentContactUpdate()}render(){return[t("ion-header",{key:"32698e312e7cd257029c10cd4b7c3b40adab82eb"},t("app-navbar",{key:"54b532a1b7339c4adce72b5fba481b4bffc69289",tag:"contacts",text:"Contacts",color:"trasteel"}),t("app-search-toolbar",{key:"4f815ea98790d4ee1f28a21fdcceec0c69c015e8",searchTitle:"contacts",list:this.contactsList,orderFields:["lastName","firstName"],color:"trasteel",placeholder:"Search by name",filterBy:["lastName","firstName","customerId"],onFilteredList:e=>this.filteredContactsList=e.detail})),t("ion-content",{key:"e88bf9bc57a15ccbe84750b5db4398127a2e2241"},r.isCustomerDBAdmin()?t("ion-fab",{vertical:"top",horizontal:"end",slot:"fixed",edge:true},t("ion-fab-button",{onClick:()=>this.addContact(),color:"trasteel"},t("ion-icon",{name:"add"}))):undefined,t("app-infinite-scroll",{key:"dabf5ca57b0f78a8a7c825ee10abbd0d230894a0",list:this.filteredContactsList,loading:this.loading,showFields:["lastName","firstName"],returnField:"id",groupBy:["customerId"],icon:s.getMapDocs(c).icon.name,onItemClicked:e=>a.presentContactDetails(e.detail)}))]}};d.style=n;export{d as page_contacts};