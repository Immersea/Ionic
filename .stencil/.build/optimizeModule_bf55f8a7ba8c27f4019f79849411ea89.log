import{r as e,h as t,H as a,f as o}from"./p-cbe60c68.js";import"./p-c7ee7cfe.js";import{n as i}from"./p-5d4a8e1f.js";import{am as n,ap as s}from"./p-736235c6.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-694b8ade.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";import"./p-1819cfda.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-46038295.js";import"./p-7ee16e8d.js";const c="popover-shapes-filter{min-width:var(--popover-width)}";const l=c;const d=class{constructor(t){e(this,t);this.filter=undefined;this.shapeTypes=undefined;this.dwg=undefined}async componentWillLoad(){this.popover=this.el.closest("ion-popover");this.shapeTypes=await n.getShapeTypes();this.adjustPopoverWidth("900px")}handleFilter(e){this.filter[e.detail.name]=e.detail.value}async handleSelect(e){this.filter.shapeTypeId=e.detail.value;const t=new s(this.filter);await n.setDwgForShape(t);this.dwg=t.dwg}adjustPopoverWidth(e){this.popover.style.setProperty("--popover-width",e)}close(){i.dismiss()}save(){i.dismiss(this.filter)}render(){return t(a,{key:"aa3318d04b9e886924d076e0cd4ee7cf180643ea"},t("ion-header",{key:"7477b80ee3f7995e2075343651320ce8ac2e5c12",translucent:true},t("ion-toolbar",{key:"67d968740c33b79dee1d8778a2898f8533fd0c80"},t("ion-title",{key:"2c22f8c651d1cf46b95c3ffc2a2e077d1178e68d"},"Filter Shapes"))),t("ion-content",{key:"a009c89a928f77010b27b20d014dcba4e55d0666"},t("ion-grid",{key:"94f2115e17a210d698def4a103d51b7ab5d0a25d"},t("ion-row",{key:"761fbb4576067fd59d598321348d9b96caeb1aa4"},t("ion-col",{key:"0bd4e77c4282b0bd6e46fd12373513425595392f"},t("ion-list",{key:"9301d4d200e93c5c18a47a921755263afb48d34b"},t("ion-grid",{key:"ea1ac6849a17179097f2d3cadf886df4f49a4c5c"},t("ion-row",{key:"35c07f1caf20b5feb22be499d89e753a0d5802be"},t("ion-col",{key:"eee58ac54010e107566ba1fa5479a0ff376a0fc0"},t("app-select-search",{key:"7cb7b5300919da61cc4f741aad19de6b743a1221",label:{tag:"shape_type",text:"Shape Type"},value:this.filter.shapeTypeId,lines:"inset",selectFn:e=>this.handleSelect(e),selectOptions:this.shapeTypes,selectValueId:"typeId",selectValueText:["typeName","en"]})))),Object.keys(this.filter).map((e=>!e.includes("operator")&&e!=="shapeTypeId"?t("ion-row",null,t("ion-col",null,t("app-form-item",{"label-text":e,value:this.filter[e],name:e,"input-type":"number",onFormItemChanged:e=>this.handleFilter(e)})),t("ion-col",{size:"1"},t("ion-select",{color:"trasteel",interface:"action-sheet",onIonChange:t=>this.filter[e+"_operator"]=t.detail.value,value:this.filter[e+"_operator"]},t("ion-select-option",{value:">="},t("ion-label",null,">=")),t("ion-select-option",{value:">"},t("ion-label",null,">")),t("ion-select-option",{value:"="},t("ion-label",null,"=")),t("ion-select-option",{value:"<"},t("ion-label",null,"<")),t("ion-select-option",{value:"<="},t("ion-label",null,"<="))))):undefined)))),t("ion-col",{key:"0ed36c8715d55dcb59a26098fe8c24d29c85b770"},t("app-banner",{key:"2e8e235813b16411222a1fe0fb938f309cde3549",scrollTopValue:0,heightPx:300,backgroundCover:false,link:this.dwg?this.dwg.url:null}))))),t("ion-footer",{key:"a23e85879c9bdd9d5e7ba6204be060bb1352a6ec"},t("app-modal-footer",{key:"5aae6e2619f8b4d63451bfc994fd41de768f4a8f",saveTag:{tag:"filter",text:"Filter"},onCancelEmit:()=>this.close(),onSaveEmit:()=>this.save()})))}get el(){return o(this)}};d.style=l;export{d as popover_shapes_filter};