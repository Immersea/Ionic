import{r as e,e as t,h as i}from"./p-cbe60c68.js";import{O as n,aW as s,T as a,E as o}from"./p-773bd3de.js";import"./p-c7ee7cfe.js";import{b as d}from"./p-c2915cc5.js";import"./p-694b8ade.js";import"./p-1af05547.js";import"./p-e9c4f463.js";import"./p-3647f076.js";import"./p-9c77ce6f.js";import"./p-c11a967f.js";import"./p-ae1763fb.js";import"./p-c5936999.js";import"./p-6879854f.js";const c="app-dive-plan-card{width:100%;height:100%}";const l=c;const r=class{constructor(i){e(this,i);this.viewEmit=t(this,"viewEmit",7);this.removeEmit=t(this,"removeEmit",7);this.divePlan=undefined;this.edit=false}componentWillLoad(){this.diveSite=n.diveSitesList.find((e=>e.id===this.divePlan.dives[0].diveSiteId))}async viewDivePlan(e){e.stopPropagation();const t=await s.presentDiveTemplateUpdate(this.divePlan);if(t){this.viewEmit.emit(t)}}async removeDivePlan(e){e.stopPropagation();const t=await d.create({header:a.getTransl("delete-dive-header","Delete dive?"),message:a.getTransl("delete-dive-message","This dive plan will be deleted! Are you sure?"),buttons:[{text:a.getTransl("cancel","Cancel"),role:"cancel",handler:()=>{}},{text:a.getTransl("ok","OK"),handler:()=>{this.removeEmit.emit()}}]});t.present()}render(){return i("ion-card",{key:"8c49d27716ec6be6505d3bf84257567d10c562ce",onClick:e=>this.edit?this.viewDivePlan(e):undefined},this.diveSite?i("app-item-cover",{item:this.diveSite}):undefined,i("ion-card-header",{key:"769d97a157dbf29c6f3251580402ca042dbb1831"},i("ion-item",{key:"9219505f6df8d3b1a9637686f28f412985ce2485",class:"ion-no-padding",lines:"none"},this.edit?i("ion-button",{"icon-only":true,slot:"end",color:"danger",fill:"clear",onClick:e=>this.removeDivePlan(e)},i("ion-icon",{name:"trash-bin-outline"})):undefined,i("ion-card-title",{key:"7accf10347d33b388344abad6e7591de52543edf"},this.divePlan.configuration.stdName)),i("ion-card-subtitle",{key:"586028f5d251a9d920d76e254ffb1aa05623f64e"},this.divePlan.dives[0].getProfilePointsDetails().map((e=>i("p",{class:"ion-text-start"},e))))),i("ion-card-content",{key:"717f7e5ea1d184410c57e77577935217bb947529"},this.divePlan.configuration.configuration.bottom.length>0?i("p",null,i("my-transl",{tag:"bottom-tanks",text:"Bottom Tanks"}),":"):undefined,this.divePlan.configuration.configuration.bottom.map((e=>i("p",null,e.name+"->"+e.gas.toString()))),this.divePlan.configuration.configuration.deco.length>0?i("p",null,i("my-transl",{tag:"deco-tanks",text:"Deco Tanks"}),":"):undefined,this.divePlan.configuration.configuration.deco.map((e=>i("p",null,e.name+"->"+e.gas.toString())))),!this.edit?i("ion-button",{expand:"full",color:o.isDecoplanner()?"gue-blue":"planner",onClick:()=>s.createNewDivePlan(this.divePlan)},i("my-transl",{tag:"plan-dive",text:"Plan a Dive"})):undefined)}};r.style=l;export{r as app_dive_plan_card};