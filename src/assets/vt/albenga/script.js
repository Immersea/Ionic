if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7,![]);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA){var bB=this['_getRootPlayer']();var bC=bB['getActivePlayerWithViewer'](bB['getMainViewer']());var bD=bC?bB['getMediaFromPlayer'](bC):undefined;var bE;if('media'in bA){var bF=bA['media'];var bG=Number(bF);bE=isNaN(bG)?this['setMediaByName'](bF):this['setMediaByIndex'](bG-0x1);}else if('media-index'in bA){bE=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bE=this['setMediaByName'](bA['media-name']);}if(bE==undefined){bE=this['setMediaByIndex'](0x0);}if(bE!=undefined){var bH=bE['get']('player');var bI=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bE['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bE,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bM=bB['getPlayListWithItem'](bE);if(bM){switch(bE['get']('class')){case'PanoramaPlayListItem':var bN=parseFloat(bA['yaw'])||undefined;var bO=parseFloat(bA['pitch'])||undefined;bB['setPanoramaCameraWithSpot'](bM,bE,bN,bO);break;case'Model3DPlayListItem':var bP=['yaw','pitch','x','y','z','distance'];var bQ={};for(var bR=0x0;bR<bP['length'];++bR){var bS=bP[bR];var bT=parseFloat(bA[bS]);if(!isNaN(bT))bQ[bS]=bT;}bB['setModel3DCameraSpot'](bM,bE,bQ);break;}}}}['bind'](this);if(bH){var bJ=bH['get']('viewerArea')==bB['getMainViewer']();var bK=bB['getMediaFromPlayer'](bH);if(bJ&&bD==bE['get']('media')||!bJ&&bK==bE['get']('media')){bI();return bE!=undefined;}}var bL=function(){bE['unbind']('begin',bL,this);bI();};bE['bind']('begin',bL,bB);}return bE!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bU=function(){var bV;var bW=function(){var bZ=this['_getRootPlayer']();bV=bZ['get']('lockedOrientation');bZ['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bX=function(){bW();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);this['reload'](!![]);}else{bW();}var bY=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bV);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],bY);var c0=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c0)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],bY);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bU);}};TDV['Tour']['prototype']['_updateParams']=function(c1,c2){if(c2&&'language'in c1){var c3=c1['language'];if(this['locManager']['hasLocale'](c3)){this['setLocale'](c3);}}var c4=function(c6,c7,c8){var c9=c7['split'](',');for(var ca=0x0,cb=c9['length'];ca<cb;++ca){c6['call'](this,c9[ca]['split']('+'),c8,'and');}};var c5=function(cc){var cd=this['_getRootPlayer']();var ce=cd['getActiveMediaWithViewer'](cd['getMainViewer']());if(ce['get']('class')!='Model3D')return;var cf=ce['get']('objects');var cg=[];cc['split']('+')['forEach'](function(ch){var ci=ch['split'](',');var cj=ci['shift']();if(cj in cd&&ci['length']%0x3==0x0){var ck=ci[0x0],cl=ci[0x1],cm=ci[0x2];var cn=cf['some'](function(cs){return cs['get']('class')=='MeasureModel3DObject'&&ck==cs['get']('x')&&cl==cs['get']('y')&&cm==cs['get']('z');});if(cn)return;var co=[];var cp=_cloneMeasureModel3DObject['call'](this,this[cj]);cp['set']('mode','view');cp['set']('x',ck);cp['set']('y',cl);cp['set']('z',cm);for(var cq=0x3;cq<ci['length'];cq+=0x3){var cr=this['createInstance']('MeasureModel3DObjectPoint');cr['set']('x',ci[cq]);cr['set']('y',ci[cq+0x1]);cr['set']('z',ci[cq+0x2]);co['push'](cr);}cp['set']('points',co);cg['push'](cp);}}['bind'](cd));if(cg['length']>0x0){ce['set']('objects',cf['concat'](cg));}};if('hide-components-tags'in c1||'hct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['hide-components-tags']||c1['hct'],![]);if('show-components-tags'in c1||'sct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['show-components-tags']||c1['sct'],!![]);if('hide-overlays-tags'in c1||'hot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['hide-overlays-tags']||c1['hot'],![]);if('show-overlays-tags'in c1||'sot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['show-overlays-tags']||c1['sot'],!![]);if('hide-overlays-names'in c1||'hon'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['hide-overlays-names']||c1['hon'])['split'](','),![]);if('show-overlays-names'in c1||'son'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['show-overlays-names']||c1['son'])['split'](','),!![]);if('show-object-ids'in c1||'sobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['show-object-ids']||c1['sobjids'])['split'](','),!![]);if('hide-object-ids'in c1||'hobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['hide-object-ids']||c1['hobjids'])['split'](','),![]);if('variant'in c1)this['setModel3DVariant'](decodeURIComponent(c1['variant']));if('measures'in c1)c5['call'](this,decodeURIComponent(c1['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(ct,cu,cv,cw){TDV['EventDispatcher']['call'](this);this['rootPlayer']=ct;this['locales']={};this['defaultLocale']=cv;this['queryParam']=cw;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cx in cu){this['registerLocale'](cx,cu[cx]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cy,cz){var cA=[cy,cy['split']('-')[0x0]];for(var cB=0x0;cB<cA['length'];++cB){cy=cA[cB];if(!(cy in this['locales'])){this['locales'][cy]=cz;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cC){delete this['locales'][cC];if(cC==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cD){return cD in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cE){var cF;var cG=cE['split']('-')[0x0];var cH=[cE,cG];for(var cI=0x0;cI<cH['length'];++cI){var cK=cH[cI];if(cK in this['locales']){cF=cK;break;}}if(cF===undefined){for(var cK in this['locales']){if(cK['indexOf'](cG)==0x0){cF=cK;break;}}}if(cF===undefined){cF=this['defaultLocale'];}var cL=this['locales'][cF];if(cL!==undefined&&this['currentLocaleID']!=cF){this['currentLocaleID']=cF;var cM=this;if(typeof cL=='string'){var cN=new XMLHttpRequest();cN['onreadystatechange']=function(){if(cN['readyState']==0x4){if(cN['status']==0xc8){cM['locales'][cF]=cM['currentLocaleMap']=cM['_parsePropertiesContent'](cN['responseText']);cM['dispatchEvent'](cM['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cL+'\x20can\x27t\x20be\x20loaded';}}};var cO=cL;if(this['queryParam'])cO+=(cO['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cN['open']('GET',cO);cN['send']();}else{this['currentLocaleMap']=cL;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cP){function cQ(cU){return/^\d+$/['test'](cU);}var cR=this['currentLocaleMap'][cP];if(cR&&arguments['length']>0x2){var cS=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cT=arguments;cR=cR['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cV,cW){if(cQ(cW))cW=cT[parseInt(cW)+0x1];else if(cS!==undefined)cW=cS[cW];if(typeof cW=='string')cW=this['currentLocaleMap'][cW]||cW;else if(typeof cW=='function')cW=cW['call'](this['rootPlayer']);return cW!==undefined?cW:'';}['bind'](this));}return cR;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cX){cX=cX['replace'](/(^|\n)#[^\n]*/g,'');var cY={};var cZ=cX['split']('\x0a');for(var d0=0x0,d1=cZ['length'];d0<d1;++d0){var d2=cZ[d0]['trim']();if(d2['length']==0x0){continue;}var d3=d2['indexOf']('=');if(d3==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d0);continue;}var d4=d2['substr'](0x0,d3)['trim']();var d5=d2['substr'](d3+0x1)['trim']();var d6;while((d6=d5['lastIndexOf']('\x5c'))!=-0x1&&d6==d5['length']-0x1&&++d0<d1){d5=d5['substr'](0x0,d5['length']-0x2);d2=cZ[d0];if(d2['length']==0x0)break;d5+='\x0a'+d2;d5=d5['trim']();}cY[d4]=d5;}return cY;};TDV['Tour']['HistoryData']=function(d7){this['playList']=d7;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(d8){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==d8){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],d8);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(d9,da){return typeof da=='string'?d9[da['replace']('this.','')]:da;}function _initModels(){var db=this['getByClassName']('Model3D');db['forEach'](function(dc){this['getPlayListItems'](dc)['forEach'](function(dd){_initModel3DItem['call'](this,dd);}['bind'](this));}['bind'](this));}function _initModel3DItem(de){var df=de['get']('player');if(!df)return;var dg=df['get']('viewerArea');if(!dg)return;var dh=de['get']('media');var di;de['bind']('begin',function(){_initModel['call'](this,dh);di=dg['get']('doubleClickAction');dg['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dj){if(dj['get']('class')=='PanoramaPlayer'&&dj['get']('viewerArea')==dg){dj['set']('model3DPlayer',df);}});},this);de['bind']('stop',function(){dg['set']('doubleClickAction',di);},this);}function _initModel(dk){var dl=dk['get']('data');if(!dl)dk['set']('data',dl={});if(!dl['panoramaLocations']||dl['isInitialized'])return;var dm=0xb4/Math['PI'];var dn=dk['get']('worldUnitToMeters')||0x1;var dp=dl['maxDistanceObjectsVisible']||0x0;var dq=dl['panoramaLocations'];var dr=[];var ds=this['get']('data')['surfaceSelectionHotspotMode'];var dt=ds=='hotspotEnabled';dq['forEach'](function(dA){dA=_getObject(this,dA);var dB=dA['get']('data');var dC=dk['getDistanceToFloor']([dA['get']('x'),dA['get']('y'),dA['get']('z')]);var dD=_getObject(this,dB['panorama']);var dE=dq['filter'](function(dN){return dD!=_getObject(this,_getObject(this,dN)['get']('data')['panorama']);}['bind'](this))['map'](function(dO){dO=_getObject(this,dO);var dP=dO['get']('data');var dQ=!!dP['excludeSurfaceSelectionModel'];var dR=dO['get']('x')-dA['get']('x'),dS=dO['get']('y')-dA['get']('y'),dT=dO['get']('z')-dA['get']('z');var dU=Math['atan2'](dR,-dT)*dm;var dV=Math['atan2'](dS,Math['sqrt'](dR*dR+dT*dT))*dm;var dW=Math['sqrt'](dR*dR+dS*dS+dT*dT);var dX=dk['getDistanceToFloor']([dO['get']('x'),dO['get']('y'),dO['get']('z')]);if(dC!==undefined&&dX!==undefined)dS=dX-dC;var dY=Math['sqrt'](dR*dR+dS*dS+dT*dT);return{'yaw':dU,'pitch':dV,'width':dP['width'],'height':dP['height'],'opacity':dP['opacity'],'anchorX':dP['anchorX']?dP['anchorX']:0.5,'anchorY':dP['anchorY']?dP['anchorY']:0.5,'transparentAreaActive':!!dP['transparentAreaActive'],'actions':dP['actions'],'position':{'x':dO['get']('x'),'y':dO['get']('y'),'z':dO['get']('z')},'image':_getObject(this,dP['image']),'distance':dW*dn,'floorDistance':dY*dn,'panorama':_getObject(this,dP['panorama']),'backwardYaw':dU-0xb4-dO['get']('yaw'),'excludeSurfacePanorama':dQ};}['bind'](this));dE['sort'](function(dZ,e0){return dZ['distance']-e0['distance'];});var dF=[],dG=(dD['get']('adjacentPanoramas')||[])['concat']();var dH=dk['get']('maxNearestObjectsVisible');var dI=dl['showOnlyHotspotsLineSightInPanoramas'];var dJ={'x':dA['get']('x'),'y':dA['get']('y'),'z':dA['get']('z')};dE['forEach'](function(e1){if(e1['panorama']==dD||dH>0x0&&dF['length']>=dH||dp>0x0&&e1['distance']>dp||dI&&dk['testIntersection'](dJ,e1['position']))return;var e2=dv['call'](this,e1['panorama'],e1['yaw']-dA['get']('yaw'),e1['pitch'],e1['width'],e1['height'],e1['anchorX'],e1['anchorY'],e1['opacity'],e1['transparentAreaActive'],e1['image'],dt&&!e1['excludeSurfacePanorama']);var e3=dw['call'](this,e1['panorama'],e1['yaw']-dA['get']('yaw'),e1['backwardYaw'],e1['floorDistance'],!e1['excludeSurfacePanorama']);dF['push'](e2);var e4=dG['findIndex'](function(e6){return e6['get']('panorama')==e1['panorama'];});if(e4!=-0x1)dG['splice'](e4,0x1);dG['push'](e3);e2['get']('areas')[0x0]['bind']('click',du['bind'](this,dD,e1['panorama'],dk,!![]),this);e3['bind']('select',du['bind'](this,dD,e1['panorama'],dk,!![]),this);var e5=e1['actions'];if(e5){dz['call'](this,e2,e5);if('click'in e5)e3['bind']('select',new Function('event',e5['click']),this);}}['bind'](this));dD['set']('overlays',(dD['get']('overlays')||[])['concat'](dF));dD['set']('adjacentPanoramas',dG);dD['set']('modelLocations',(dD['get']('modelLocations')||[])['concat'](dA));var dK=!dk['get']('surfaceSelectionEnabled')||!!dB['excludeSurfaceSelectionModel'];var dL;if(dK){dL=dx['call'](this,dA['get']('x'),dA['get']('y'),dA['get']('z'),dB['width'],dB['height'],dB['anchorX']?dB['anchorX']:0.5,dB['anchorY']?dB['anchorY']:0.5,dB['opacity'],!!dB['transparentAreaActive'],dl['showOnlyHotspotsLineSight'],_getObject(this,dB['image']));dL['set']('translationLineColor',dB['translationLineColor']!=null?dB['translationLineColor']:'#ffffff');dL['set']('translationLineOpacity',dB['translationLineOpacity']!=null?dB['translationLineOpacity']:0x1);dL['set']('translationLineVisible',dB['translationLineVisible']!=null?dB['translationLineVisible']:![]);dL['set']('translationLineWidth',dB['translationLineWidth']!=null?dB['translationLineWidth']:0x1);dL['set']('translationLength',dB['translationLength']!=null?dB['translationLength']:dl['showOnlyHotspotsLineSight']&&(dB['translationY']==null||dB['translationY']==0x0)?dB['height']/0x2:undefined);dL['set']('translationX',dB['translationX']!=null?dB['translationX']:0x0);dL['set']('translationY',dB['translationY']!=null&&dB['translationY']!=0x0?dB['translationY']:dl['showOnlyHotspotsLineSight']?0x1:0x0);dL['set']('translationZ',dB['translationZ']!=null?dB['translationZ']:0x0);}else dL=dy['call'](this,dA['get']('x'),dA['get']('y'),dA['get']('z'));var dM=dB['actions'];if(dM){dz['call'](this,dL,dM);}dL['bind']('click',du['bind'](this,dk,dD,dk,![]),this);dr['push'](dL);}['bind'](this));dk['set']('objects',(dk['get']('objects')||[])['concat'](dr));dl['isInitialized']=!![];function du(e7,e8,e9,ea){var eb=this['getPlayListsWithMedia'](e7,!![])['filter'](function(ei){return this['getMediaFromPlayer'](ei['get']('items')[ei['get']('selectedIndex')]['get']('player'))==e7;}['bind'](this));if(eb['length']==0x0)return;var ec=this['getPlayListItemByMedia'](eb[0x0],e7);var ed=ec['get']('player')['get']('viewerArea');var ee;this['getPlayListsWithMedia'](e8)['forEach'](function(ej){var ek=this['getPlayListItemByMedia'](ej,e8);if(ek['get']('player')['get']('viewerArea')==ed){if(ea&&ec['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){ef();ek['bind']('begin',eh,this);}ej['set']('selectedIndex',ej['get']('items')['indexOf'](ek));}}['bind'](this));function ef(){ee=e9['get']('objects')['filter'](function(el){var em=el['get']('data');return em&&em['isLocation'];});ee['forEach'](function(en){en['set']('enabled',![]);});}function eg(){ee['forEach'](function(eo){eo['set']('enabled',!![]);});}function eh(ep){ep['source']['unbind']('begin',eh,this);eg();}}function dv(eq,er,es,et,eu,ev,ew,ex,ey,ez,eA){var eB=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eA,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':ey?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':er,'pitch':es,'width':et,'height':eu,'offsetX':ev*et,'offsetY':ew*eu,'opacity':ex!=undefined?ex:0x1}]});eB['get']('items')[0x0]['set']('image',ez);return eB;}function dw(eC,eD,eE,eF,eG){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eC['get']('id'),'backwardYaw':eE,'yaw':eD,'distance':eF,'enabledInSurfaceSelection':eG});}function dx(eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR){var eS=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eH,'y':eI,'z':eJ,'anchorX':eM,'anchorY':eN,'depthTest':eQ,'transparentAreaActive':eP,'hideBasedOnDistance':!![],'width':eK,'height':eL,'opacity':eO!=undefined?eO:0x1,'data':{'isLocation':!![]}});eS['set']('image',eR);return eS;}function dy(eT,eU,eV){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':eT,'y':eU,'z':eV,'depthTest':![],'data':{'isLocation':!![]}});}function dz(eW,eX){Object['keys'](eX)['forEach'](function(eY){if(eW['hasEvent'](eY))eW['bind'](eY,new Function('event',eX[eY]),this);}['bind'](this));}}function _findLocationWithPanorama(eZ){var f0=this['getByClassName']('Model3D');for(var f1=0x0,f2=f0['length'];f1<f2;++f1){var f3=f0[f1];var f4=f3['get']('data');if(f4&&f4['panoramaLocations']){var f5=f4['panoramaLocations']['find'](function(f6){f6=_getObject(this,f6);return _getObject(this,f6['get']('data')['panorama'])==eZ;}['bind'](this));if(f5)return _getObject(this,f5);}}return undefined;}function _getPlayersWithViewer(f7){var f8=this['getCurrentPlayers']();var f9=f8['length'];while(f9-->0x0){var fa=f8[f9];if(fa['get']('viewerArea')!=f7){f8['splice'](f9,0x1);}}return f8;}function _createInstance(fb,fc,fd){var fe=fb['createInstance'](fc);if(fd){fe['set']('id',fd);fb[fd]=fe;}return fe;}function _createInstanceFromObj(ff,fg){return fh(fg);function fh(fi,fj){if(typeof fi=='object'){if('class'in fi){try{fj=_createInstance(ff,fi['class'],fi['id']);}catch(fn){fj=fi;}}else{fj=fi;}}var fk=function(fo,fp){if('set'in fj)fj['set'](fo,fp);else fj[fo]=fp;};for(var fl in fi){var fm=fi[fl];if(typeof fm=='object'&&fm!==null)fk(fl,fh(fm,fj));else if(typeof fm=='string'&&fm['indexOf']('this.')==0x0)fk(fl,ff[fm['replace']('this.','')]);else fk(fl,fm);}return fj;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fq,fr){for(var fs in fq){var ft=fq[fs];if(typeof ft=='object'&&ft!==null)this['assignObjRecursively'](fq[fs],fr[fs]||(fr[fs]={}));else fr[fs]=ft;}return fr;};TDV['Tour']['Script']['autotriggerAtStart']=function(fu,fv,fw){var fx=function(fy){fv();if(fw==!![])fu['unbind']('change',fx,this);};fu['bind']('change',fx,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fz,fA,fB){var fC=function(){fD['unbind']('stop',fC,this);if(fB==fF['get']('backgroundColor')&&fI==fF['get']('backgroundColorRatios')){fF['set']('backgroundColor',fG);fF['set']('backgroundColorRatios',fH);}};var fD=fz['get']('items')[fA];var fE=fD['get']('player');var fF=fE['get']('viewerArea');var fG=fF['get']('backgroundColor');var fH=fF['get']('backgroundColorRatios');var fI=[0x0];if(fB!=fG||fI!=fH){fF['set']('backgroundColor',fB);fF['set']('backgroundColorRatios',fI);fD['bind']('stop',fC,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fJ,fK,fL){var fM=function(){fN['unbind']('stop',fM,this);if(fQ==fP['get']('backgroundOpacity')){fP['set']('opacity',fQ);}};var fN=fJ['get']('items')[fK];var fO=fN['get']('player');var fP=fO['get']('viewerArea');var fQ=fP['get']('backgroundOpacity');if(fL!=fQ){fP['set']('backgroundOpacity',fL);fN['bind']('stop',fM,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(fR,fS){var fT=fR['get']('selectedIndex');if(fT>=0x0&&fS>=0x0&&fT!=fS){var fU=fR['get']('items')[fT];var fV=fR['get']('items')[fS];var fW=fU['get']('player');var fX=fV['get']('player');if((fW['get']('class')=='PanoramaPlayer'||fW['get']('class')=='Video360Player')&&(fX['get']('class')=='PanoramaPlayer'||fX['get']('class')=='Video360Player')){var fY=this['clonePanoramaCamera'](fV['get']('camera'));this['setCameraSameSpotAsMedia'](fY,fU['get']('media'));var fZ=fY['get']('initialPosition');if(fZ['get']('yaw')==undefined||fZ['get']('pitch')==undefined||fZ['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](fV['get']('media'),fY);}}};TDV['Tour']['Script']['clone']=function(g0,g1){var g2=this['rootPlayer']['createInstance'](g0['get']('class'));var g3=g0['get']('id');if(g3){var g4=g3+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);g2['set']('id',g4);this[g4]=g2;}for(var g5=0x0;g5<g1['length'];++g5){var g6=g1[g5];var g7=g0['get'](g6);if(g7!=null)g2['set'](g6,g7);}return g2;};TDV['Tour']['Script']['cloneBindings']=function(g8,g9,gb){var gc=g8['getBindings'](gb);for(var gd=0x0;gd<gc['length'];++gd){var ge=gc[gd];if(typeof ge=='string')ge=new Function('event',ge);g9['bind'](gb,ge,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gf){var gg=this['clone'](gf,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gh=['initialSequence','idleSequence'];for(var gi=0x0;gi<gh['length'];++gi){var gj=gh[gi];var gk=gf['get'](gj);if(gk){var gl=this['clone'](gk,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gg['set'](gj,gl);var gm=gk['get']('movements');var gn=[];var go=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gp=0x0;gp<gm['length'];++gp){var gq=gm[gp];var gr=this['clone'](gq,go);var gs=gq['getBindings']('end');if(gs['length']>0x0){for(var gt=0x0;gt<gs['length'];++gt){var gu=gs[gt];if(typeof gu=='string'){gu=gu['replace'](gf['get']('id'),gg['get']('id'));gu=new Function('event',gu);gr['bind']('end',gu,this);}}}gn['push'](gr);}gl['set']('movements',gn);}}return gg;};TDV['Tour']['Script']['copyObjRecursively']=function(gv){var gw={};for(var gx in gv){var gy=gv[gx];if(typeof gy=='object'&&gy!==null)gw[gx]=this['copyObjRecursively'](gv[gx]);else gw[gx]=gy;}return gw;};TDV['Tour']['Script']['copyToClipboard']=function(gz){if(navigator['clipboard']){navigator['clipboard']['writeText'](gz);}else{var gA=document['createElement']('textarea');gA['value']=gz;gA['style']['position']='fixed';document['body']['appendChild'](gA);gA['focus']();gA['select']();try{document['execCommand']('copy');}catch(gB){}document['body']['removeChild'](gA);}};TDV['Tour']['Script']['createTween']=function(gC,gD,gE,gF,gG){var gH=this['rootPlayer']['createInstance']('Effect');var gI=this['get']('data')['tweensState'];if(!gI){this['get']('data')['tweensState']=gI={};}var gJ='get'in gC&&typeof gC['get']==='function';var gK=(gJ&&gC['get']('id')?gC['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gL={};for(var gM in gD){var gN=gD[gM];if(gM['startsWith']('on')&&(typeof gN==='function'||typeof gN==='string')){var gO=gM['slice'](0x2);if(typeof gN==='string')gN=eval('('+gN+')');gH['bind'](gO['charAt'](0x0)['toLowerCase']()+gO['slice'](0x1),gN,this);}else if(typeof gN==='string'&&gN['startsWith']('#')){var gP=parseInt('0x'+(gJ?gC['get'](gM)['slice'](0x1):gC[gM]['slice'](0x1)));var gQ=parseInt('0x'+gN['slice'](0x1));gL[gM]={'color':!![],'initialRGB':[gP>>0x10&0xff,gP>>0x8&0xff,gP&0xff],'finalRGB':[gQ>>0x10&0xff,gQ>>0x8&0xff,gQ&0xff]};gI[gK+gM]=gH;}else{gL[gM]=gJ?gC['get'](gM):gC[gM];gI[gK+gM]=gH;}}gH['set']('duration',(gE||0x0)*0x3e8);gH['set']('easing',gF||'cubic_in_out');gH['set']('animationDirection',gG||'normal');gH['bind']('end',function(){for(var gR in gL){if(gI[gK+gR]==gH)delete gI[gK+gR];}this['disposeInstance'](gH);},this);gH['bind']('frame',function(){var gS=gH['getPosition']();for(var gT in gL){var gU=gL[gT];if(gI[gK+gT]!=gH)continue;if(typeof gU==='object'&&'color'in gU){var gV=Math['round'](gU['initialRGB'][0x0]+(gU['finalRGB'][0x0]-gU['initialRGB'][0x0])*gS);var gW=Math['round'](gU['initialRGB'][0x1]+(gU['finalRGB'][0x1]-gU['initialRGB'][0x1])*gS);var gX=Math['round'](gU['initialRGB'][0x2]+(gU['finalRGB'][0x2]-gU['initialRGB'][0x2])*gS);gU='#'+((0x1<<0x18)+(gV<<0x10)+(gW<<0x8)+gX)['toString'](0x10)['slice'](0x1);}else{gU=gU+(gD[gT]-gU)*gS;}if(gJ)gC['set'](gT,gU);else gC[gT]=gU;}},this);return gH;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(gY,gZ,h0,h1){var h2=undefined;var h3=function(h7){if(h7['data']['previousSelectedIndex']==gZ){if(h1)h1['call'](this);if(h0&&h2)h2['unbind']('end',h0,this);gY['unbind']('change',h3,this);}};if(h0){var h4=gY['get']('items')[gZ];var h5=h4['get']('class');if(h5=='PanoramaPlayListItem'||h5=='Model3DPlayListItem'){var h6=h4['get']('camera');if(h6!=undefined){h2=h6['get']('initialSequence');if(h2==undefined)h2=h6['get']('idleSequence');}}else{h2=h4['get']('media');}if(h2){h2['bind']('end',h0,this);}}gY['bind']('change',h3,this);};TDV['Tour']['Script']['executeJS']=function(h8){try{eval(h8);}catch(h9){console['log']('Javascript\x20error:\x20'+h9);console['log']('\x20\x20\x20code:\x20'+h8);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(ha){var hb=ha['get']('buttonPlayPause');if(typeof hb!=='undefined'&&ha['get']('state')=='playing'){if(!Array['isArray'](hb))hb=[hb];for(var hc=0x0;hc<hb['length'];++hc)hb[hc]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hd){var he=this['getActivePlayerWithViewer'](hd);if(he==undefined){return undefined;}return this['getMediaFromPlayer'](he);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hf){var hg=this['getActivePlayersWithViewer'](hf);return hg['length']>0x0?hg[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hh){var hi=this['getCurrentPlayers']();var hj=hi['length'];var hk=[];while(hj-->0x0){var hl=hi[hj];if(hl['get']('viewerArea')==hh){var hm=hl['get']('class');if(hm=='PanoramaPlayer'&&(hl['get']('panorama')!=undefined||hl['get']('video')!=undefined)||(hm=='VideoPlayer'||hm=='Video360Player')&&hl['get']('video')!=undefined||hm=='PhotoAlbumPlayer'&&hl['get']('photoAlbum')!=undefined||hm=='MapPlayer'&&hl['get']('map')!=undefined||hm=='Model3DPlayer'&&hl['get']('model')!=undefined)hk['push'](hl);}}return hk;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hn){var ho=undefined;var hp=undefined;switch(hn['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':ho='PanoramaPlayer';hp='panorama';break;case'Video360':ho='PanoramaPlayer';hp='video';break;case'PhotoAlbum':ho='PhotoAlbumPlayer';hp='photoAlbum';break;case'Map':ho='MapPlayer';hp='map';break;case'Video':ho='VideoPlayer';hp='video';break;case'Model3D':ho='Model3DPlayer';hp='media';break;}if(ho!=undefined){var hq=this['getByClassName'](ho);for(var hr=0x0;hr<hq['length'];++hr){var hs=hq[hr];if(hs['get'](hp)==hn){return hs;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var ht=this['getByClassName']('PanoramaPlayer');ht=ht['concat'](this['getByClassName']('VideoPlayer'));ht=ht['concat'](this['getByClassName']('Video360Player'));ht=ht['concat'](this['getByClassName']('PhotoAlbumPlayer'));ht=ht['concat'](this['getByClassName']('MapPlayer'));ht=ht['concat'](this['getByClassName']('Model3DPlayer'));return ht;};TDV['Tour']['Script']['getGlobalAudio']=function(hu){var hv=window['currentGlobalAudios'];if(hv!=undefined&&hu['get']('id')in hv){hu=hv[hu['get']('id')]['audio'];}return hu;};TDV['Tour']['Script']['getMediaByName']=function(hw){var hx=this['getByClassName']('Media');for(var hy=0x0,hz=hx['length'];hy<hz;++hy){var hA=hx[hy];var hB=hA['get']('data');if(hB&&hB['label']==hw){return hA;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hC,hD){return this['_getObjectsByTags'](hC,['Media'],'tags2Media',hD);};TDV['Tour']['Script']['getAudioByTags']=function(hE,hF){return this['_getObjectsByTags'](hE,['Audio'],'tags2Media',hF);};TDV['Tour']['Script']['getOverlaysByTags']=function(hG,hH){return this['_getObjectsByTags'](hG,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject'],'tags2Overlays',hH);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hI){var hJ=this['get']('data');var hK='groupname2Overlays';var hL=hJ[hK];if(!hL){var hM=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hJ[hK]=hL={};for(var hN=0x0;hN<hM['length'];++hN){var hO=hM[hN];var hP=this['getByClassName'](hO);for(var hQ=0x0,hR=hP['length'];hQ<hR;++hQ){var hS=hP[hQ];var hT=hS['get']('data');if(hT&&hT['group']){var hU=hL[hT['group']];if(!hU)hL[hT['group']]=hU=[];hU['push'](hS);}}}}return hL[hI]||[];};TDV['Tour']['Script']['getRootOverlay']=function(hV){var hW=hV['get']('class');var hX=hW['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var hY=hW['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(hX||hY){var hZ=this['get']('data');var i0='overlays';var i1=hZ[i0];if(!i1){var i2=['HotspotPanoramaOverlay'];i1=[];for(var i3=0x0;i3<i2['length'];++i3){var i4=i2[i3];i1=i1['concat'](this['getByClassName'](i4));}hZ[i0]=i1;}var i5=hX?'areas':'items';for(var i6=0x0,i7=i1['length'];i6<i7;++i6){var i8=i1[i6];var i9=i8['get'](i5);if(i9){for(var ia=0x0;ia<i9['length'];++ia){if(i9[ia]==hV)return i8;}}}}return hV;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(ib){var ic=this['getOverlaysByGroupname'](ib);if(ic['length']>0x1){ic['sort'](function(il,im){var io=il['get']('data')['groupIndex'];var ip=im['get']('data')['groupIndex'];return io-ip;});for(var ie=0x0,ig=ic['length'];ie<ig;++ie){var ih=ic[ie];var ii=ic[(ie+0x1)%ig];var ij=ih['get']('class');var ik=ih;if(ij=='HotspotPanoramaOverlay'){ik=ih['get']('areas')[0x0];}ik['bind']('click',function(iq,ir){this['setOverlaysVisibility']([iq],![]);this['setOverlaysVisibility']([ir],!![]);}['bind'](this,ih,ii),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(is,it){return this['_getObjectsByTags'](is,['UIComponent'],'tags2Components',it);};TDV['Tour']['Script']['_getObjectsByTags']=function(iu,iv,iw,ix){var iy=this['get']('data');var iz=iy[iw];if(!iz){iy[iw]=iz={};for(var iA=0x0;iA<iv['length'];++iA){var iB=iv[iA];var iC=this['getByClassName'](iB);for(var iE=0x0,iG=iC['length'];iE<iG;++iE){var iI=iC[iE];var iJ=iI['get']('data');if(iJ&&iJ['tags']){var iK=iJ['tags'];for(var iN=0x0,iO=iK['length'];iN<iO;++iN){var iP=iK[iN];if(iP in iz)iz[iP]['push'](iI);else iz[iP]=[iI];}}}}}var iQ=undefined;ix=ix||'and';for(var iE=0x0,iG=iu['length'];iE<iG;++iE){var iR=iz[iu[iE]];if(!iR)continue;if(!iQ)iQ=iR['concat']();else{if(ix=='and'){for(var iN=iQ['length']-0x1;iN>=0x0;--iN){if(iR['indexOf'](iQ[iN])==-0x1)iQ['splice'](iN,0x1);}}else if(ix=='or'){for(var iN=iR['length']-0x1;iN>=0x0;--iN){var iI=iR[iN];if(iQ['indexOf'](iI)==-0x1)iQ['push'](iI);}}}}return iQ||[];};TDV['Tour']['Script']['getComponentByName']=function(iS){var iT=this['getByClassName']('UIComponent');for(var iU=0x0,iV=iT['length'];iU<iV;++iU){var iW=iT[iU];var iX=iW['get']('data');if(iX!=undefined&&iX['name']==iS){return iW;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var iY='MainViewer';return this[iY]||this[iY+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(iZ){switch(iZ['get']('class')){case'PanoramaPlayer':return iZ['get']('panorama')||iZ['get']('video');case'VideoPlayer':case'Video360Player':return iZ['get']('video');case'PhotoAlbumPlayer':return iZ['get']('photoAlbum');case'MapPlayer':return iZ['get']('map');case'Model3DPlayer':return iZ['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(j0){switch(j0['get']('class')){case'Video360':var j1=j0['get']('video');if(j1 instanceof Array){var j2=0x0;for(var j3=0x0;j3<j1['length'];j3++){var j4=j1[j3];if(j4['get']('width')>j2)j2=j4['get']('width');}return j2;}else{return j4['get']('width');}default:return j0['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(j5){switch(j5['get']('class')){case'Video360':var j6=j5['get']('video');if(j6 instanceof Array){var j7=0x0;for(var j8=0x0;j8<j6['length'];j8++){var j9=j6[j8];if(j9['get']('height')>j7)j7=j9['get']('height');}return j7;}else{return j9['get']('height');}default:return j5['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(ja){switch(ja['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jb=ja['get']('overlays')['concat']()||[];var jc=ja['get']('frames');for(var jd=0x0;jd<jc['length'];++jd){jb=jb['concat'](jc[jd]['get']('overlays')||[]);}return jb;case'Video360':case'Map':return ja['get']('overlays')||[];case'Model3D':return ja['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(je,jf){var jg=this['getOverlays'](je);for(var jh=0x0,ji=jg['length'];jh<ji;++jh){var jj=jg[jh];var jk=jj['get']('data');if(jk!=undefined&&jk['label']==jf){return jj;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jl,jm,jn){var jo=[];var jp=this['getOverlays'](jl);var jq=this['getOverlaysByTags'](jm,jn);for(var jr=0x0,js=jp['length'];jr<js;++jr){var jt=jp[jr];if(jq['indexOf'](jt)!=-0x1)jo['push'](jt);}return jo;};TDV['Tour']['Script']['getPixels']=function(ju){var jv=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](ju);if(jv==undefined){return 0x0;}var jw=parseFloat(jv[0x1]);var jx=jv[0x4];var jy=this['rootPlayer']['get']('actualWidth')/0x64;var jz=this['rootPlayer']['get']('actualHeight')/0x64;switch(jx){case'vw':return jw*jy;case'vh':return jw*jz;case'vmin':return jw*Math['min'](jy,jz);case'vmax':return jw*Math['max'](jy,jz);default:return jw;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jA,jB){var jC=[];var jD=this['getByClassName']('PlayList');for(var jE=0x0,jF=jD['length'];jE<jF;++jE){var jG=jD[jE];if(jB&&jG['get']('selectedIndex')==-0x1)continue;var jH=this['getPlayListItemByMedia'](jG,jA);if(jH!=undefined&&jH['get']('player')!=undefined)jC['push'](jG);}return jC;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jI){var jJ=this['getByClassName']('PlayList');var jK=function(jM){var jN=jM['get']('items');for(var jO=jN['length']-0x1;jO>=0x0;--jO){var jP=jN[jO];var jQ=jP['get']('player');if(jQ!==undefined&&jQ['get']('viewerArea')==jI)return!![];}return![];};for(var jL=jJ['length']-0x1;jL>=0x0;--jL){if(!jK(jJ[jL]))jJ['splice'](jL,0x1);}return jJ;};TDV['Tour']['Script']['getPlayListWithItem']=function(jR){var jS=this['getByClassName']('PlayList');for(var jT=jS['length']-0x1;jT>=0x0;--jT){var jU=jS[jT];var jV=jU['get']('items');for(var jW=jV['length']-0x1;jW>=0x0;--jW){var jX=jV[jW];if(jX==jR)return jU;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(jY,jZ){var k0=this['getPlayListsWithMedia'](jY,jZ);return k0['length']>0x0?k0[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(k1,k2){var k3=k1['get']('items');for(var k4=0x0,k5=k3['length'];k4<k5;++k4){var k6=k3[k4];if(k6['get']('media')==k2)return k6;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(k7,k8){var k9=this['getPlayListItemByMedia'](k7,k8);return k9?k7['get']('items')['indexOf'](k9):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(ka,kb){var kc=function(){switch(ka['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kc!=undefined){var kd=this['getByClassName'](kc);for(var ke=kd['length']-0x1;ke>=0x0;--ke){var kf=kd[ke];if(kf['get']('media')!=ka||kb!=undefined&&kf['get']('player')!=kb){kd['splice'](ke,0x1);}}return kd;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kg){var kh=this['get']('data')['history'][kg['get']('id')];if(kh!=undefined){kh['back']();}};TDV['Tour']['Script']['historyGoForward']=function(ki){var kj=this['get']('data')['history'][ki['get']('id')];if(kj!=undefined){kj['forward']();}};TDV['Tour']['Script']['init']=function(){var kk=this['get']('data')['history'];var kl=function(ku){var kv=ku['source'];var kw=kv['get']('selectedIndex');if(kw<0x0)return;var kx=kv['get']('id');if(!kk['hasOwnProperty'](kx))kk[kx]=new TDV['Tour']['HistoryData'](kv);kk[kx]['add'](kw);};var km=this['getByClassName']('PlayList');for(var ko=0x0,kp=km['length'];ko<kp;++ko){var kq=km[ko];kq['bind']('change',kl,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kr=this['getByClassName']('ThumbnailList');kr=kr['concat'](this['getByClassName']('ThumbnailGrid'));kr=kr['concat'](this['getByClassName']('DropDown'));function ky(kz){var kA=kz['source']['get']('playList');var kB=kA['get']('selectedIndex');if(kB>=0x0){this['skip3DTransitionOnce'](kA['get']('items')[kB]['get']('player'));}}for(var ko=0x0,ks=kr['length'];ko<ks;++ko){var kt=kr[ko];kt['bind']('change',ky,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kC,kD,kE){if(window['dataLayer']){window['dataLayer']['push']({'event':kD,'label':kE,'category':kC});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kC,kD,kE);}if(window['gtag']){window['gtag']('event',kD,{'category':kC,'label':kE});}};TDV['Tour']['Script']['initAnalytics']=function(){var kG=this['getByClassName']('Panorama');kG=kG['concat'](this['getByClassName']('Video360'));kG=kG['concat'](this['getByClassName']('Map'));kG=kG['concat'](this['getByClassName']('Model3D'));for(var kJ=0x0,kM=kG['length'];kJ<kM;++kJ){var kN=kG[kJ];var kP=kN['get']('data');var kQ=kP?kP['label']:'';var kR=this['getOverlays'](kN);for(var kS=0x0,kT=kR['length'];kS<kT;++kS){var kU=kR[kS];var kV=kU['get']('data')!=undefined?kQ+'\x20-\x20'+kU['get']('data')['label']:kQ;switch(kU['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var kW=kU['get']('areas');for(var kX=0x0;kX<kW['length'];++kX){kW[kX]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',kV),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':kU['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',kV),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':kU['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',kV),this,![]);kU['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',kV),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':kU['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',kV),this,![]);break;}}}var kY=this['getByClassName']('UIComponent');for(var kJ=0x0,kM=kY['length'];kJ<kM;++kJ){var kZ=kY[kJ];var l0=kZ['getBindings']('click');if(l0['length']>0x0){var l1=kZ['get']('data')['name'];kZ['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',l1),this,![]);}}var l2=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var l3={};for(var kJ=0x0,kM=l2['length'];kJ<kM;++kJ){var l4=l2[kJ];var kG=l4['get']('media');if(!(kG['get']('id')in l3)){var kP=kG['get']('data');l4['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',kP?kP['label']:undefined),this,![]);l3[kG['get']('id')]=l4;}}if(TDV['Remote']!=undefined){var l5=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(l6){l5=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+l6);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(l7){var l8=new Date();l8['setTime'](Date['now']()-l5);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+l7+'\x20Duration:\x20'+l8['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(l9,la,lb){var lc={"timeout":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"shadowBlurRadius":4,"backgroundColor":"#ffffff","paddingLeft":80,"shadowColor":"#000000","gap":15,"shadow":true,"shadowSpread":4,"icon":{"width":62,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","height":72},"paddingTop":45,"shadowVerticalLength":0,"buttonsContainer":{"width":"100%","gap":10,"horizontalAlign":"center"},"horizontalAlign":"center","paddingRight":80,"title":{"paddingBottom":20,"fontFamily":"Arial","fontSize":40,"fontColor":"#000000","textAlign":"center","fontWeight":"bold"},"paddingBottom":55,"shadowOpacity":0.3,"shadowHorizontalLength":0,"button":{"paddingRight":25,"paddingBottom":12,"fontFamily":"Arial","fontWeight":"bold","paddingLeft":25,"paddingTop":12,"fontColor":"#ffffff","horizontalAlign":"center","backgroundColor":"#009fe3","fontSize":15,"verticalAlign":"middle"}}},"score":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"calification":{"paddingTop":15,"paddingBottom":10,"fontFamily":"Arial","paddingLeft":100,"fontWeight":"bold","width":"100%","fontColor":"#009fe3","textAlign":"center","paddingRight":100,"fontSize":30,"verticalAlign":"middle"},"minWidth":500,"backgroundColor":"#ffffff","paddingLeft":20,"shadowBlurRadius":4,"shadowVerticalLength":0,"shadow":true,"maxWidth":1500,"shadowSpread":4,"description":{"paddingTop":15,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"fontWeight":"normal","fontColor":"#000000","textAlign":"center","fontFamily":"Arial","fontSize":16},"paddingTop":20,"shadowColor":"#000000","timeContainer":{"paddingTop":10,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"width":"100%","gap":5,"horizontalAlign":"center","verticalAlign":"middle"},"statsContainer":{"paddingTop":15,"paddingBottom":15,"overflow":"scroll","paddingRight":100,"paddingLeft":100,"gap":20,"horizontalAlign":"center","contentOpaque":true,"verticalAlign":"middle"},"horizontalAlign":"center","paddingRight":20,"content":{"width":"100%","horizontalAlign":"center"},"title":{"paddingTop":50,"paddingBottom":15,"fontFamily":"Arial","fontSize":50,"fontColor":"#000000","textAlign":"center","fontWeight":"bold"},"stats":{"borderSize":1,"minWidth":150,"label":{"fontColor":"#000000","fontFamily":"Arial","fontSize":15,"fontWeight":"normal"},"height":150,"gap":0,"secondaryValue":{"fontColor":"#000000","fontFamily":"Arial","fontSize":20,"fontWeight":"bold"},"horizontalAlign":"center","mainValue":{"fontColor":"#000000","fontFamily":"Arial","fontSize":40,"fontWeight":"bold"},"verticalAlign":"middle","borderRadius":75,"borderColor":"#009fe3","layout":"vertical","title":{"paddingTop":10,"fontFamily":"Arial","paddingLeft":5,"fontWeight":"normal","fontColor":"#000000","paddingRight":5,"fontSize":20}},"paddingBottom":20,"buttonsContainer":{"paddingTop":35,"paddingBottom":50,"paddingRight":100,"paddingLeft":100,"width":"100%","gap":8,"horizontalAlign":"center","verticalAlign":"middle","button":{"paddingRight":25,"paddingBottom":12,"fontFamily":"Arial","fontWeight":"bold","paddingLeft":25,"paddingTop":12,"fontColor":"#ffffff","horizontalAlign":"center","backgroundColor":"#009fe3","fontSize":15,"verticalAlign":"middle"}},"shadowOpacity":0.3,"closeButton":{"width":45,"iconHeight":18,"height":45,"backgroundColor":"#009fe3","iconWidth":18,"iconColor":"#ffffff","iconLineWidth":2},"shadowHorizontalLength":0}},"question":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"minWidth":500,"paddingLeft":20,"backgroundOpacity":1,"shadowColor":"#000000","shadow":true,"paddingTop":20,"buttonsContainer":{"horizontalAlign":"right","verticalAlign":"bottom","button":{"backgroundColor":"#000000","paddingLeft":25,"backgroundOpacity":0.7,"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","borderRadius":3,"paddingTop":10,"paddingRight":25,"fontSize":18,"paddingBottom":10,"verticalAlign":"middle"}},"closeButton":{"width":45,"iconHeight":18,"height":45,"backgroundColor":"#009FE3","iconWidth":18,"iconColor":"#FFFFFF","iconLineWidth":2},"paddingBottom":20,"shadowOpacity":0.3,"paddingRight":20,"shadowHorizontalLength":0,"width":"60%","shadowBlurRadius":4,"height":"60%","shadowSpread":4,"shadowVerticalLength":0,"horizontalAlign":"center","backgroundColor":"#ffffff","borderRadius":5,"option":{"gap":10,"label":{"width":38,"height":38,"fontWeight":"bold","backgroundOpacity":0.2,"fontColor":"#ffffff","fontFamily":"Arial","horizontalAlign":"center","backgroundColor":"#000000","verticalAlign":"middle","borderRadius":19,"pressedBackgroundOpacity":1,"incorrect":{"width":38,"height":38,"fontWeight":"bold","backgroundOpacity":1,"fontColor":"#ffffff","fontFamily":"Arial","horizontalAlign":"center","backgroundColor":"#ed1c24","verticalAlign":"middle","borderRadius":19,"pressedBackgroundOpacity":1,"fontSize":18},"fontSize":18,"correct":{"width":38,"height":38,"fontWeight":"bold","backgroundOpacity":1,"fontColor":"#ffffff","fontFamily":"Arial","horizontalAlign":"center","backgroundColor":"#39b54a","verticalAlign":"middle","borderRadius":19,"pressedBackgroundOpacity":1,"fontSize":18}},"text":{"paddingTop":9,"selected":{"paddingTop":9,"fontColor":"#000000","textAlign":"left","fontFamily":"Arial","fontSize":18},"fontFamily":"Arial","fontSize":18,"fontColor":"#404040","textAlign":"left","verticalAlign":"middle"}},"title":{"paddingTop":25,"paddingBottom":40,"paddingRight":50,"paddingLeft":50,"fontWeight":"bold","fontColor":"#000000","textAlign":"center","fontFamily":"Arial","fontSize":20},"mediaContainer":{"width":"70%","buttonNext":{"width":25,"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII="},"height":"100%","buttonPrevious":{"width":25,"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC"},"viewerArea":{"playbackBarHeadBorderColor":"#ffffff","playbackBarBackgroundOpacity":0.5,"backgroundOpacity":1,"playbackBarRight":0,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarBorderSize":0,"playbackBarHeadShadowBlurRadius":2,"playbackBarHeadShadowSpread":2,"playbackBarHeadHeight":14,"playbackBarBottom":5,"playbackBarHeadShadowColor":"#000000","playbackBarProgressBackgroundColor":"#3399ff","playbackBarBorderRadius":0,"playbackBarHeadBorderSize":3,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadShadow":true,"playbackBarBackgroundColor":"#000000","backgroundColor":"#e6e6e6","playbackBarHeadOpacity":1,"playbackBarHeight":6,"playbackBarLeft":0,"playbackBarHeadBorderRadius":7,"playbackBarHeadWidth":14,"playbackBarProgressOpacity":0.5,"playbackBarHeadShadowVerticalLength":0}},"bodyContainer":{"width":"100%","paddingBottom":30,"height":"100%","paddingLeft":30,"gap":35,"layout":"horizontal","paddingRight":30},"optionsContainer":{"width":"30%","gap":10,"overflow":"scroll","height":"100%","contentOpaque":true}}}};var ld=this['get']('data');var le=ld['createQuizConfig']['call'](this);lp['call'](this,le);le['playList']=l9;le['player']=this;le['theme']='theme'in le?this['mixObject'](lc,le['theme']):lc;if(le['questions']){lo['call'](this,le['questions']);for(var lf=0x0;lf<le['questions']['length'];++lf){var lg=le['questions'][lf];lo['call'](this,lg['options']);}}if(le['objectives']){lo['call'](this,le['objectives']);}if(le['califications']){lo['call'](this,le['califications']);}if(le['score']){this[le['score']['id']]=le['score'];}if(le['question']){this[le['question']['id']]=le['question'];}if(le['timeout']){this[le['timeout']['id']]=le['timeout'];}var lh=le['data']&&le['data']['titlesScale']?le['data']['titlesScale']:0x1;var li=le['data']&&le['data']['bodyScale']?le['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lj=this['mixObject'](le['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*li,'paddingLeft':0xa,'paddingRight':0xa}}}});le['theme']=lj;}var lk=document['getElementById']('metaViewport');var ll=lk?/initial-scale=(\d+(\.\d+)?)/['exec'](lk['getAttribute']('content')):undefined;var lm=ll?ll[0x1]:0x1;ld['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lm,'maxHeight':0x258/lm,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};ld['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lh,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var ln=new TDV['Quiz'](le);ln['setMaxListeners'](0x32);if(lb===!![]){ln['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((ln['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+ln['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(ln['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+ln['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)ln['finish']();}['bind'](this));}if(la===!![]){ln['start']();}ld['quiz']=ln;ld['quizConfig']=le;function lo(lq){for(var lr=0x0;lr<lq['length'];++lr){var ls=lq[lr];if('id'in ls)this[ls['id']]=ls;}}function lp(lt){for(var lu in lt){var lv=lt[lu];if(typeof lv=='object'&&lv!==null)lp['call'](this,lv);else if(typeof lv=='string'&&lv['startsWith']('this.'))lt[lu]=_getObject(this,lv);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lw){var lx=this['get']('data')['quiz'];var ly=this['get']('data')['quizConfig'];var lz=ly['objectives'];var lA=0x0;for(var lB=0x0,lC=lz['length'];lB<lC;++lB){var lD=lz[lB];lA+=lx['getObjective'](lD['id'],lw);}return lA;};TDV['Tour']['Script']['_initSplitViewer']=function(lE){function lF(){var m0=lE['get']('actualWidth');lQ['get']('children')[0x0]['set']('width',m0);lR['get']('children')[0x0]['set']('width',m0);var m1=lU['get']('left');var m2=typeof m1=='string'?lG(m1):m1;m2+=lU['get']('actualWidth')*0.5;lQ['set']('width',lH(m2));lR['set']('width',lH(m0-m2));}function lG(m3){return parseFloat(m3['replace']('%',''))/0x64*lE['get']('actualWidth');}function lH(m4){return m4/lE['get']('actualWidth')*0x64+'%';}function lI(m5){lJ(m5['source']);}function lJ(m6){var m7=m6==lW?lV:lW;if(lX&&m6!=lX||!m6||!m7)return;var m8=m7['get']('camera')['get']('initialPosition')['get']('yaw')-m6['get']('camera')['get']('initialPosition')['get']('yaw');m7['setPosition'](m6['get']('yaw')+m8,m6['get']('pitch'),m6['get']('roll'),m6['get']('hfov'));}function lK(m9){lX=m9['source'];}function lL(ma){lM(ma['source']);}function lM(mb){var mc=mb['get']('viewerArea');if(mc==lS){if(lV){lV['get']('camera')['set']('hoverFactor',lY);}lV=mb;lX=lV;if(lV){lY=lV['get']('camera')['get']('hoverFactor');lV['get']('camera')['set']('hoverFactor',0x0);}}else if(mc==lT){if(lW){lW['get']('camera')['set']('hoverFactor',lZ);}lW=mb;lX=lV;if(lW){lZ=lW['get']('camera')['get']('hoverFactor');lW['get']('camera')['set']('hoverFactor',0x0);}}lJ(mb);}function lN(md){var me=this['getCurrentPlayers']();var mf=me['length'];while(mf-->0x0){var mh=me[mf];if(mh['get']('viewerArea')!=md){me['splice'](mf,0x1);}}for(mf=0x0;mf<me['length'];++mf){var mh=me[mf];mh['bind']('preloadMediaShow',lL,this);mh['bind']('cameraPositionChange',lI,this);mh['bind']('userInteractionStart',lK,this);if(mh['get']('panorama'))lM(mh);}return me;}function lO(mi){lM(this['getActivePlayerWithViewer'](mi['source']));lJ(lX);}var lP=lE['get']('children');var lQ=lP[0x0];var lR=lP[0x1];var lS=lQ['get']('children')[0x0];var lT=lR['get']('children')[0x0];var lU=lP[0x2];var lV,lW,lX;var lY,lZ;lN['call'](this,lS);lN['call'](this,lT);lS['bind']('mouseDown',lO,this);lT['bind']('mouseDown',lO,this);lE['bind']('resize',function(){lU['set']('left',(lE['get']('actualWidth')-lU['get']('actualWidth'))*0.5);lF();},this);lU['bind']('mouseDown',function(mj){var mk=mj['pageX'];var ml=function(mm){var mn=mm['pageX'];var mo=mk-mn;var mp=lE['get']('actualWidth');var mq=lU['get']('left');var mr=(typeof mq=='string'?lG(mq):mq)-mo;if(mr<0x0){mn-=mr;mr=0x0;}else if(mr+lU['get']('actualWidth')>=mp){mn-=mr-(mp-lU['get']('actualWidth'));mr=mp-lU['get']('actualWidth');}lU['set']('left',mr);lF();mk=mn;};this['bind']('mouseMove',ml,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',ml,this);},this);},this);lF();};TDV['Tour']['Script']['_initTwinsViewer']=function(ms){function mt(){var mO=ms['get']('actualWidth');mE['get']('children')[0x0]['set']('width',mO);mF['get']('children')[0x0]['set']('width',mO);var mP=mI['get']('left');var mQ=typeof mP=='string'?mu(mP):mP;mQ+=mI['get']('actualWidth')*0.5;mE['set']('width',mv(mQ));mF['set']('width',mv(mO-mQ));}function mu(mR){return parseFloat(mR['replace']('%',''))/0x64*ms['get']('actualWidth');}function mv(mS){return mS/ms['get']('actualWidth')*0x64+'%';}function mw(mT){mx(mT['source']);}function mx(mU){var mV=mU==mK?mJ:mK;if(mL&&mU!=mL||!mU||!mV)return;var mW=mV['get']('camera')['get']('initialPosition')['get']('yaw')-mU['get']('camera')['get']('initialPosition')['get']('yaw');mV['setPosition'](mU['get']('yaw')+mW,mU['get']('pitch'),mU['get']('roll'),mU['get']('hfov'));}function my(mX){mL=mX['source'];}function mz(mY){mA(mY['source']);}function mA(mZ){var n0=mZ['get']('viewerArea');if(n0==mG){if(mJ){mJ['get']('camera')['set']('hoverFactor',mM);}mJ=mZ;mL=mJ;if(mJ){mM=mJ['get']('camera')['get']('hoverFactor');mJ['get']('camera')['set']('hoverFactor',0x0);}}else if(n0==mH){if(mK){mK['get']('camera')['set']('hoverFactor',mN);}mK=mZ;mL=mJ;if(mK){mN=mK['get']('camera')['get']('hoverFactor');mK['get']('camera')['set']('hoverFactor',0x0);}}mx(mZ);}function mB(n1){var n2=this['getCurrentPlayers']();var n3=n2['length'];while(n3-->0x0){var n5=n2[n3];if(n5['get']('viewerArea')!=n1){n2['splice'](n3,0x1);}}for(n3=0x0;n3<n2['length'];++n3){var n5=n2[n3];n5['bind']('preloadMediaShow',mz,this);n5['bind']('cameraPositionChange',mw,this);n5['bind']('userInteractionStart',my,this);if(n5['get']('panorama'))mA(n5);}return n2;}function mC(n6){mA(this['getActivePlayerWithViewer'](n6['source']));mx(mL);}var mD=ms['get']('children');var mE=mD[0x0];var mF=mD[0x1];var mG=mE['get']('children')[0x0];var mH=mF['get']('children')[0x0];var mI=mD[0x2];var mJ,mK,mL;var mM,mN;mB['call'](this,mG);mB['call'](this,mH);mG['bind']('mouseDown',mC,this);mH['bind']('mouseDown',mC,this);ms['bind']('resize',function(){mI['set']('left',(ms['get']('actualWidth')-mI['get']('actualWidth'))*0.5);mt();},this);mt();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var n7=this['getByClassName']('PanoramaPlayer');return n7['length']>0x0&&n7[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(n8){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](n8['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(n9,na){var nb='keepVisibility_'+n9['get']('id');var nc=this['getKey'](nb);if(nc==undefined&&na){this['registerKey'](nb,na);}else if(nc!=undefined&&!na){this['unregisterKey'](nb);}};TDV['Tour']['Script']['_initItemWithComps']=function(nd,ne,nf,ng,nh,ni,nj,nk){var nl=nd['get']('items')[ne];var nm=nl['get']('media');var nn=nm['get']('loop')==undefined||nm['get']('loop');var no=nk>0x0;var np=this['rootPlayer'];var nq=function(ny){var nz=ni?ni['get']('class'):undefined;var nA=undefined;switch(nz){case'FadeInEffect':case'FadeOutEffect':nA=np['createInstance'](ny?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nA=np['createInstance'](ny?'SlideInEffect':'SlideOutEffect');break;}if(nA){nA['set']('duration',ni['get']('duration'));nA['set']('easing',ni['get']('easing'));if(nz['indexOf']('Slide')!=-0x1)nA['set'](ny?'from':'to',ni['get'](ni['get']('class')=='SlideInEffect'?'from':'to'));}return nA;};var nr=function(){for(var nB=0x0,nC=nf['length'];nB<nC;++nB){var nD=nf[nB];if(nk>0x0){this['setComponentVisibility'](nD,!nh,0x0,nq(!nh));}else{var nE='visibility_'+nD['get']('id');if(this['existsKey'](nE)){if(this['getKey'](nE))this['setComponentVisibility'](nD,!![],0x0,nq(!![]));else this['setComponentVisibility'](nD,![],0x0,nq(![]));this['unregisterKey'](nE);}}}nl['unbind']('end',nr,this);if(!nn)nm['unbind']('end',nr,this);};var ns=function(){nl['unbind']('stop',ns,this,!![]);nl['unbind']('stop',ns,this);nl['unbind']('begin',ns,this,!![]);nl['unbind']('begin',ns,this);for(var nF=0x0,nG=nf['length'];nF<nG;++nF){this['keepCompVisible'](nf[nF],![]);}};var nt=function(nH,nI,nJ){var nK=function(){var nL=function(nP,nQ,nR){np['setComponentVisibility'](nP,nQ,nI,nR,nQ?'showEffect':'hideEffect',![]);if(nJ>0x0){var nS=nI+nJ+(nR!=undefined?nR['get']('duration'):0x0);np['setComponentVisibility'](nP,!nQ,nS,nq(!nQ),nQ?'hideEffect':'showEffect',!![]);}};for(var nM=0x0,nN=nf['length'];nM<nN;++nM){var nO=nf[nM];if(nh=='toggle'){if(!nO['get']('visible'))nL(nO,!![],nq(!![]));else nL(nO,![],nq(![]));}else{nL(nO,nh,nq(nh));}}nl['unbind'](nH,nK,this);if(nH=='end'&&!nn)nm['unbind'](nH,nK,this);};nl['bind'](nH,nK,this);if(nH=='end'&&!nn)nm['bind'](nH,nK,this);};if(ng=='begin'){for(var nu=0x0,nv=nf['length'];nu<nv;++nu){var nw=nf[nu];this['keepCompVisible'](nw,!![]);if(no){var nx='visibility_'+nw['get']('id');this['registerKey'](nx,nw['get']('visible'));}}nl['bind']('stop',ns,this,!![]);nl['bind']('stop',ns,this);nl['bind']('begin',ns,this,!![]);nl['bind']('begin',ns,this);if(no){nl['bind']('end',nr,this);if(!nn)nm['bind']('end',nr,this);}}else if(ng=='end'&&nk>0x0){nt('begin',nk,0x0);nk=0x0;}if(ng!=undefined)nt(ng,nj,nk);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(nT,nU,nV){var nW=nT['get']('selectedIndex');var nX=nT['get']('items')['length'];var nY=(nW+nU)%nX;while(nY<0x0){nY=nX+nY;}if(nW!=nY){if(nV){var nZ=nT['get']('items')[nY];this['skip3DTransitionOnce'](nZ['get']('player'));}nT['set']('selectedIndex',nY);}};TDV['Tour']['Script']['mixObject']=function(o0,o1){return this['assignObjRecursively'](o1,this['copyObjRecursively'](o0));};TDV['Tour']['Script']['downloadFile']=function(o2){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var o3=document['createElement']('a');o3['href']=o2;o3['setAttribute']('target','_blank');if(o3['download']!==undefined){var o4=o2['substring'](o2['lastIndexOf']('/')+0x1,o2['length']);o3['download']=o4;}if(document['createEvent']){var o5=document['createEvent']('MouseEvents');o5['initEvent']('click',!![],!![]);o3['dispatchEvent'](o5);return;}}window['open'](o2,'_blank');};TDV['Tour']['Script']['openLink']=function(o6,o7){if(!o6||o6==location['href']){return;}if(!o7)o7='_blank';if(o7=='_top'||o7=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var o8=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(o8&&o7=='_blank'){if(o6['startsWith']('files/')){o6='/'+o6;}if(o6['startsWith']('//')){o6='https:'+o6;}else if(o6['startsWith']('/')){var o9=window['location']['href']['split']('/');o9['pop']();o6=o9['join']('/')+o6;}var oa=o6['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oa)==-0x1||o6['startsWith']('file://'))&&window['hasOwnProperty']('require')){var ob=window['require']('electron')['shell'];ob['openExternal'](o6);}else{window['open'](o6,o7);}}else if(o8&&(o7=='_top'||o7=='_self')){window['location']=o6;}else{var oc=this['get']('data')['tour'];if(oc['isMobileApp']()&&oc['isIOS']())o6='blank:'+o6;var od=window['open'](o6,o7);od['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(oe,of){var og=oe['get']('media');var oh=_findLocationWithPanorama['call'](this,og);if(!oh){of['call'](this);return;}var oi=oh['get']('model');var oj=oe['get']('player')['get']('viewerArea');var ol=this['getActivePlayersWithViewer'](oj);var on=ol['length']==0x1?ol['find'](function(ov){return this['getMediaFromPlayer'](ov)==oi;}['bind'](this)):undefined;if(on){of['call'](this);}else{var ol=_getPlayersWithViewer['call'](this,oj);var on=ol['find'](function(ow){return ow['get']('class')=='Model3DPlayer';});var oo,op;if(!on){on=this['createInstance']('Model3DPlayer');on['set']('viewerArea',oj);}else{var oq=this['getByClassName']('Model3DPlayListItem');oo=oq['find'](function(ox){return ox['get']('player')==on;}['bind'](this));}if(!oo){oo=this['createInstance']('Model3DPlayListItem');oo['set']('player',on);_initModel3DItem['call'](this,oo);}oo['set']('media',oi);var or=oh['get']('forceModelLoading');var os=oj['get']('translationTransitionEnabled');oh['set']('forceModelLoading',!![]);oj['set']('translationTransitionEnabled',![]);var ot=function(){oo['unbind']('begin',ot,this);of['call'](this);};var ou=function(){oe['unbind']('begin',ou,this);oh['set']('forceModelLoading',or);oj['set']('translationTransitionEnabled',os);if(op)this['disposeInstance'](op);};oe['bind']('begin',ou,this);if(oo['get']('state')=='playing')ot['call'](this);else{oo['bind']('begin',ot,this);op=this['createInstance']('PlayList');op['set']('items',[oo]);op['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oy){var oz=this['getCurrentPlayers']();var oA=oz['length'];while(oA-->0x0){var oB=oz[oA];if(oB['get']('state')=='playing'||oB['get']('data')&&oB['get']('data')['playing']||oB['get']('viewerArea')&&oB['get']('viewerArea')['get']('id')==this['getMainViewer']()||oB['get']('camera')&&oB['get']('camera')['get']('idleSequence')&&oB['get']('camera')['get']('timeToIdle')>0x0&&oB['get']('state')=='playing'||oB['get']('class')=='Model3DPlayer'&&oB['get']('model')&&oB['get']('model')['get']('camera')['get']('state')=='playing'){var oC=this['getMediaFromPlayer'](oB);if(oy&&oC&&oC['get']('class')!='Video360'&&'pauseCamera'in oB){oB['pauseCamera']();}else{oB['pause']();}}else{oz['splice'](oA,0x1);}}return oz;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oD,oE,oF){var oG=function(){if(oD['get']('selectedIndex')!=oE){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oF,!![]);this['executeFunctionWhenChange'](oD,oE,oG,oG);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oH,oI){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oJ=this['getByClassName']('VideoPanoramaOverlay');oJ=oJ['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var oL=oJ['length']-0x1;oL>=0x0;--oL){var oM=oJ[oL];if(oM['get']('video')['get']('hasAudio')==![])oJ['splice'](oL,0x1);}var oN=this['getByClassName']('Audio')['concat'](oJ);var oO={};if(window['currentGlobalAudios']!=undefined)oN=oN['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(oS){if(!oS['allowResume'])oO[oS['audio']['get']('id')]=oS['audio'];return oS['audio'];}));var oP=[];for(var oL=0x0,oQ=oN['length'];oL<oQ;++oL){var oR=oN[oL];if(oR&&oR['get']('state')=='playing'&&(oH==undefined||oH['indexOf'](oR)==-0x1)){if(oR['get']('id')in oO){oR['stop']();}else{oR['pause']();oP['push'](oR);}}}if(oI||oP['length']>0x0)window['pausedAudiosLIFO']['push'](oP);return oP;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var oT=window['pausedAudiosLIFO']['pop']();if(!oT)return;for(var oU=0x0,oV=oT['length'];oU<oV;++oU){var oW=oT[oU];if(oW['get']('state')=='paused')oW['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(oX){var oY=window['currentGlobalAudios'];if(oY){var oZ=oY[oX['get']('id')];if(oZ)oX=oZ['audio'];}if(oX['get']('state')=='playing')oX['pause']();};TDV['Tour']['Script']['playAudioList']=function(p0,p1){if(p0['length']==0x0)return;if(p0['length']==0x1&&p1){var p2=p0[0x0];p2['set']('loop',!![]);this['playGlobalAudio'](p2,!![],null,!![]);}else{var p3=-0x1;var p4;var p5=this['playGlobalAudio'];var p6=function(){if(++p3>=p0['length']){if(!p1)return;p3=0x0;}p4=p0[p3];p5(p4,!![],p6,!![]);};p6();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(p7,p8,p9,pa){var pb=this['getActiveMediaWithViewer'](this['getMainViewer']());var pc=this['getFirstPlayListWithMedia'](pb,!![]);var pd=this['getPlayListItemByMedia'](pc,pb);var pe=pc['get']('items')['indexOf'](pd);return this['playGlobalAudioWhilePlay'](pc,pe,p7,p8,p9,pa);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pf,pg,ph,pi,pj,pk){var pl=function(pu){if(pu['data']['previousSelectedIndex']==pg){this['stopGlobalAudio'](ph);if(pp){var pv=po['get']('media');var pw=pv['get']('audios');pw['splice'](pw['indexOf'](ph),0x1);pv['set']('audios',pw);}pf['unbind']('change',pl,this);if(pj)pj();}};var pn=window['currentGlobalAudios'];if(pn&&ph['get']('id')in pn){ph=pn[ph['get']('id')]['audio'];if(ph['get']('state')!='playing'){ph['play']();}return ph;}pf['bind']('change',pl,this);var po=pf['get']('items')[pg];var pp=po['get']('class')=='PanoramaPlayListItem';if(pp){var pq=po['get']('media');var pn=(pq['get']('audios')||[])['slice']();if(ph['get']('class')=='MediaAudio'){var pr=this['rootPlayer']['createInstance']('PanoramaAudio');pr['set']('autoplay',![]);pr['set']('audio',ph['get']('audio'));pr['set']('loop',ph['get']('loop'));pr['set']('id',ph['get']('id'));this['cloneBindings'](ph,pr,'end');this['cloneBindings'](ph,pr,'stateChange');ph=pr;}pn['push'](ph);pq['set']('audios',pn);}var ps=this['playGlobalAudio'](ph,pi,function(){pf['unbind']('change',pl,this);if(pj)pj['call'](this);});if(pk===!![]){var pt=function(){if(ps['get']('state')=='playing'){this['pauseGlobalAudios']([ps],!![]);}else if(ps['get']('state')=='stopped'){this['resumeGlobalAudios']();ps['unbind']('stateChange',pt,this);}};ps['bind']('stateChange',pt,this);}return ps;};TDV['Tour']['Script']['playGlobalAudio']=function(px,py,pz,pA){var pB=function(){px['unbind']('end',pB,this);this['stopGlobalAudio'](px);if(pz)pz['call'](this);};px=this['getGlobalAudio'](px);var pC=window['currentGlobalAudios'];if(!pC){pC=window['currentGlobalAudios']={};}pC[px['get']('id')]={'audio':px,'asBackground':pA||![],'allowResume':py};if(px['get']('state')=='playing'){return px;}if(!px['get']('loop')){px['bind']('end',pB,this);}px['play']();return px;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pD){var pE=-0x1;this['bind']('userInteraction',pF['bind'](this),this);pF();function pF(){if(pE!=-0x1)clearTimeout(pE);pE=setTimeout(function(){var pG=this['get']('data')['tour'];if(pG)pG['reload']();}['bind'](this),pD*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pH,pI){for(var pJ=0x0;pJ<pH['length'];++pJ){var pK=pH[pJ];var pL=this['getMediaFromPlayer'](pK);if(!pL)continue;if(pI&&pL['get']('class')!='Video360'&&'pauseCamera'in pK){pK['resumeCamera']();}else if(pK['get']('state')!='playing'){var pM=pK['get']('data');if(!pM){pM={};pK['set']('data',pM);}pM['playing']=!![];var pN=function(){if(pK['get']('state')=='playing'){delete pM['playing'];pK['unbind']('stateChange',pN,this);}};pK['bind']('stateChange',pN,this);pK['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(pO){var pP=window['currentGlobalAudios'];var pQ=this;if(pP){Object['keys'](pP)['forEach'](function(pR){var pS=pP[pR];if(!pO||pO&&!pS['asBackground']){pQ['stopGlobalAudio'](pS['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(pT){var pU=window['currentGlobalAudios'];if(pU){var pV=pU[pT['get']('id')];if(pV){pT=pV['audio'];delete pU[pT['get']('id')];if(Object['keys'](pU)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(pT)pT['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(pW,pX){var pY=this['getCurrentPlayerWithMedia'](pX);if(pY!=undefined){var pZ=pW['get']('initialPosition');pZ['set']('yaw',pY['get']('yaw'));pZ['set']('pitch',pY['get']('pitch'));pZ['set']('hfov',pY['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(q0,q1,q2,q3,q4,q5){var q6=this['getKey']('keepVisibility_'+q0['get']('id'));if(q6)return;this['unregisterKey']('visibility_'+q0['get']('id'));var q7=function(){if(q4){q0['set'](q4,q3);}q0['set']('visible',q1);if(q0['get']('class')=='ViewerArea'){try{if(q1)q0['restart']();else if(q0['get']('playbackState')=='playing')q0['pause']();}catch(qc){};}};var q8='effectTimeout_'+q0['get']('id');if(!q5&&window['hasOwnProperty'](q8)){var qa=window[q8];if(qa instanceof Array){for(var qb=0x0;qb<qa['length'];qb++){clearTimeout(qa[qb]);}}else{clearTimeout(qa);}delete window[q8];}else if(q1==q0['get']('visible')&&!q5)return;if(q2&&q2>0x0){var qa=setTimeout(function(){if(window[q8]instanceof Array){var qd=window[q8];var qe=qd['indexOf'](qa);qd['splice'](qe,0x1);if(qd['length']==0x0){delete window[q8];}}else{delete window[q8];}q7();},q2);if(window['hasOwnProperty'](q8)){window[q8]=[window[q8],qa];}else{window[q8]=qa;}}else{q7();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qf,qg,qh,qi){qf['set']('yaw',qg);qf['set']('pitch',qh);qf['set']('maximumAngle',qi);};TDV['Tour']['Script']['setLocale']=function(qj){this['stopTextToSpeech']();var qk=this['get']('data')['localeManager'];if(qk)this['get']('data')['localeManager']['setLocale'](qj);else{this['get']('data')['defaultLocale']=qj;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(ql,qm,qn){var qo=function(){if(ql['get']('selectedIndex')==qm){var qp=ql['get']('items')[qn];this['skip3DTransitionOnce'](qp['get']('player'));ql['set']('selectedIndex',qn);}};this['executeFunctionWhenChange'](ql,qm,qo);};TDV['Tour']['Script']['setMapLocation']=function(qq,qr){var qs=function(){qq['unbind']('stop',qs,this);qt['set']('mapPlayer',null);};qq['bind']('stop',qs,this);var qt=qq['get']('player');qt['set']('mapPlayer',qr);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qu){var qv=undefined;if(qu>=0x0&&qu<this['mainPlayList']['get']('items')['length']){qv=this['mainPlayList']['get']('items')[qu];var qw=qv['get']('media');var qx=qw['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qw):null;if(qx){this['startPanoramaWithModel']['call'](this,qv,function(){this['mainPlayList']['set']('selectedIndex',qu);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qu);}}return qv;};TDV['Tour']['Script']['setMainMediaByName']=function(qy){var qz=this['getMainViewer']();var qA=this['_getPlayListsWithViewer'](qz);for(var qB=0x0,qC=qA['length'];qB<qC;++qB){var qD=qA[qB];var qE=qD['get']('items');for(var qF=0x0,qG=qE['length'];qF<qG;++qF){var qH=qE[qF];var qI=qH['get']('media')['get']('data');if(qI!==undefined&&qI['label']==qy&&qH['get']('player')['get']('viewerArea')==qz){qD['set']('selectedIndex',qF);return qH;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qJ,qK,qL,qM,qN,qO){if(qJ['length']==0x0)return;var qP,qQ;var qR=this['getMainViewer']();if(qL&&!(qL===!![])){var qS=this['getPlayListsWithMedia'](qL);for(var qT=0x0;qT<qS['length'];++qT){var qU=qS[qT];var qW=this['getPlayListItemByMedia'](qU,qL);if(qW&&qW['get']('player')&&qW['get']('player')['get']('viewerArea')==qR){qP=qU;qQ=qP['get']('items')['indexOf'](qW);break;}}if(!qP&&qS['length']>0x0){qP=qS[0x0];qQ=this['getPlayListItemIndexByMedia'](qP,qL);}if(!qP)qL=!![];}if(qL===!![]){var qX=this['getActiveMediaWithViewer'](qR);if(qX){qP=this['getFirstPlayListWithMedia'](qX,!![]);var qW=this['getPlayListItemByMedia'](qP,qX);qQ=qP['get']('items')['indexOf'](qW);}else{qL=null;}}var qY=[];var qZ=function(){var r7=qY['concat']();var r8=![];var r9=function(rc){var rd=rc['source']['get']('state');if(rd=='playing'){if(!r8){r8=!![];this['pauseGlobalAudios'](qY,!![]);}}else if(rd=='stopped'){r7['splice'](r7['indexOf'](rc['source']),0x1);if(r7['length']==0x0){this['resumeGlobalAudios']();}rc['source']['unbind']('stateChange',r9,this);}}['bind'](this);for(var ra=0x0,rb=qY['length'];ra<rb;++ra){qY[ra]['bind']('stateChange',r9,this);}}['bind'](this);var r0=function(){for(var re=0x0,rf=qJ['length'];re<rf;++re){var rg=qJ[re];qY['push'](this['playGlobalAudio'](rg,qM));}if(qN)qZ();}['bind'](this);var r1=function(){for(var rh=0x0,ri=qJ['length'];rh<ri;++rh){var rj=qJ[rh];qY['push'](this['playGlobalAudioWhilePlay'](qP,qQ,rj,qM));}if(qN)qZ();}['bind'](this);var r2=function(){for(var rk=0x0,rl=qJ['length'];rk<rl;++rk){this['pauseGlobalAudio'](qJ[rk]);}}['bind'](this);var r3=function(){for(var rm=0x0,rn=qJ['length'];rm<rn;++rm){this['stopGlobalAudio'](qJ[rm]);}}['bind'](this);var r4=function(){for(var ro=0x0,rp=qJ['length'];ro<rp;++ro){if(this['getGlobalAudio'](qJ[ro])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qK=='playPause'||qK=='playStop'){if(r4()){if(qK=='playPause'){r2();}else if(qK=='playStop'){r3();}}else{if(qN){if(qK=='playStop'){this['stopGlobalAudios'](!![]);}}if(qP){r1();}else{r0();}}}else if(qK=='play'||qK=='forcePlay'){if(qK=='forcePlay')r3();if(qP||qL===!![]){if(qO){var r5=qP?qP['get']('items')[qQ]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(r5&&r5['pauseCamera']){var r6=qJ['concat']();endCallback=function(rq){r6['splice'](r6['indexOf'](rq),0x1);if(r6['length']==0x0)r5['resumeCamera']();}['bind'](this);r5['pauseCamera']();}}r1();}else{r0();}}else if(qK=='stop'){r3();}else if(qK=='pause'){r2();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rr,rs,rt,ru,rv,rw,rx){var ry=this['getAudioByTags'](rr,rs);this['executeAudioAction'](ry,rt,ru,rv,rw,rx);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rz,rA){var rB=rz['get']('items')[rA];var rC=rB['get']('player');var rD=rC['get']('viewerArea');var rE=this['getByClassName']('PlayList');for(var rF of rE){if(rF==rz)continue;var rG=rF['get']('selectedIndex');if(rG!=-0x1){var rH=rF['get']('items')[rG];rC=rH['get']('player');if(rC&&rC['get']('viewerArea')==rD)rF['set']('selectedIndex',-0x1);}}rz['set']('selectedIndex',rA);};TDV['Tour']['Script']['setMediaBehaviour']=function(rI,rJ,rK,rL){var rM=this;var rN=function(sa){if(sa['data']['state']=='stopped'&&rL){rR['call'](this,!![]);}};var rO=function(){rX['unbind']('begin',rO,rM);var sb=rX['get']('media');var sc=sb['get']('class');if(sc!='Panorama'&&sc!='Model3D'||sb['get']('camera')!=undefined&&sb['get']('camera')['get']('initialSequence')!=undefined){rY['bind']('stateChange',rN,rM);}};var rP=function(){var sd=rU['get']('selectedIndex');if(sd!=-0x1){rW=sd;rR['call'](this,![]);}};var rQ=function(){rR['call'](this,![]);};var rR=function(se){if(!rU)return;var sf=rX['get']('media');if((sf['get']('class')=='Video360'||sf['get']('class')=='Video')&&sf['get']('loop')==!![]&&!se)return;rI['set']('selectedIndex',-0x1);if(s5&&s4!=-0x1){if(s5){if(s4>0x0&&s5['get']('movements')[s4-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sg=s6['get']('initialPosition');var sh=sg['get']('yaw');var si=sg['get']('pitch');var sj=sg['get']('hfov');var sk=s5['get']('movements')[s4-0x1];var sl=sk['get']('targetYaw');var sm=sk['get']('targetPitch');var sn=sk['get']('targetHfov');if(sl!==undefined)sg['set']('yaw',sl);if(sm!==undefined)sg['set']('pitch',sm);if(sn!==undefined)sg['set']('hfov',sn);var so=function(sr){sg['set']('yaw',sh);sg['set']('pitch',si);sg['set']('hfov',sj);s0['unbind']('end',so,this);};s0['bind']('end',so,this);}s5['set']('movementIndex',s4);}}if(rY){rX['unbind']('begin',rO,this);rY['unbind']('stateChange',rN,this);for(var sp=0x0;sp<s7['length'];++sp){s7[sp]['unbind']('click',rQ,this);}}if(s3){var sq=this['getMediaFromPlayer'](rY);if((rU==this['mainPlayList']||rU['get']('items')['length']>0x1)&&(sq==undefined||sq==rX['get']('media'))){rU['set']('selectedIndex',rW);}if(rI!=rU)rU['unbind']('change',rP,this);}else{s1['set']('visible',s2);}rU=undefined;};if(!rK){var rS=rI['get']('selectedIndex');var rT=rS!=-0x1?rI['get']('items')[rI['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rT){rK=this['getMediaFromPlayer'](rT);}}var rU=undefined;if(rK){var rV=this['getPlayListsWithMedia'](rK,!![]);if(rV['indexOf'](rI)!=-0x1){rU=rI;}else if(rV['indexOf'](this['mainPlayList'])!=-0x1){rU=this['mainPlayList'];}else if(rV['length']>0x0){rU=rV[0x0];}}if(!rU){rI['set']('selectedIndex',rJ);return;}var rW=rU['get']('selectedIndex');var rX=rI['get']('items')[rJ];var rY=rX['get']('player');var rZ=this['getMediaFromPlayer'](rY);if(rI['get']('selectedIndex')==rJ&&rZ==rX['get']('media')||rW==-0x1){return;}if(rI['get']('selectedIndex')==rJ&&rZ!=rX['get']('media'))rI['set']('selectedIndex',-0x1);var s0=rU['get']('items')[rW];var s1=rY['get']('viewerArea');var s2=s1['get']('visible');var s3=s1==s0['get']('player')['get']('viewerArea');if(s3){if(rI!=rU){rU['set']('selectedIndex',-0x1);rU['bind']('change',rP,this);}}else{s1['set']('visible',!![]);}var s4=-0x1;var s5=undefined;var s6=s0['get']('camera');if(s6){s5=s6['get']('initialSequence');if(s5){s4=s5['get']('movementIndex');}}rI['set']('selectedIndex',rJ);var s7=[];var s8=function(ss){var st=rY['get'](ss);if(st==undefined)return;if(Array['isArray'](st))s7=s7['concat'](st);else s7['push'](st);};s8('buttonStop');for(var s9=0x0;s9<s7['length'];++s9){s7[s9]['bind']('click',rQ,this);}rX['bind']('begin',rO,rM);this['executeFunctionWhenChange'](rI,rJ,rL?rQ:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(su,sv,sw,sx){var sy=function(){switch(sw){case'triggerClick':this['triggerOverlay'](su,'click');break;case'stop':case'play':case'pause':su[sw]();break;case'togglePlayPause':case'togglePlayStop':if(su['get']('state')=='playing')su[sw=='togglePlayPause'?'pause':'stop']();else su['play']();break;}if(sx){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sD=su['get']('id');window['overlaysDispatched'][sD]=!![];setTimeout(function(){delete window['overlaysDispatched'][sD];},0x3e8);}};if(sx&&window['overlaysDispatched']!=undefined&&su['get']('id')in window['overlaysDispatched'])return;var sz=this['getFirstPlayListWithMedia'](sv,!![]);if(sz!=undefined){var sA=this['getPlayListItemByMedia'](sz,sv);var sB=sA['get']('player');if(sz['get']('items')['indexOf'](sA)!=sz['get']('selectedIndex')||this['isPanorama'](sA['get']('media'))&&sB['get']('rendererPanorama')!=sA['get']('media')){var sC=function(sE){sA['unbind']('begin',sC,this);sy['call'](this);};sA['bind']('begin',sC,this);return;}}sy['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sF,sG,sH){var sI='overlayEffects';var sJ=undefined;var sK=this['getKey'](sI);if(!sK){sK={};this['registerKey'](sI,sK);}for(var sL=0x0,sM=sF['length'];sL<sM;++sL){var sN=sF[sL];if(!sN)continue;if(sH&&sH>0x0){sK[sN['get']('id')]=setTimeout(sO['bind'](this,sN),sH);}else{sO['call'](this,sN);}}function sO(sP){var sQ=sP['get']('id');var sR=sK[sQ];if(sR){clearTimeout(sR);delete sR[sQ];}var sS=sG=='toggle'?!sP['get']('enabled'):sG;sP['set']('enabled',sS);var sU=sP['get']('data');if(sS&&sU&&'group'in sU){var sV=this['getOverlaysByGroupname'](sU['group']);for(var sW=0x0,sX=sV['length'];sW<sX;++sW){var sZ=sV[sW];if(sZ!=sP)sZ['set']('enabled',!sS);}}if(!sJ)sJ=this['getByClassName']('AdjacentPanorama');for(var t0=0x0,t1=sJ['length'];t0<t1;++t0){var t2=sJ[t0];var sU=t2['get']('data');if(!sU)continue;var sZ=this[sU['overlayID']];if(sZ&&sZ==sP){t2['set']('enabled',sZ['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(t3,t4,t5,t6,t7){var t8=t5?this['getPanoramaOverlaysByTags'](t5,t3,t6):this['getOverlaysByTags'](t3,t6);this['setOverlaysVisibility'](t8,t4,t7);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(t9,ta,tb,tc,td){var te=this['getComponentsByTags'](t9,td);for(var tf=0x0,tg=te['length'];tf<tg;++tf){var th=te[tf];if(ta=='toggle')th['get']('visible')?tc(th):tb(th);else ta?tb(th):tc(th);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(ti,tj,tk,tl,tm){var tn=ti['get']('selectedIndex');var to=ti['get']('items');var tp=tj['get']('media');var tq=tp['get']('camera');if(tq['get']('state')=='playing')tq['stop']();if(tn>=0x0&&to[tn]==tj&&tp['get']('isLoaded')){tq['set']('yaw',tq['get']('yaw')%0x168);this['createTween'](tq,tk,tl,tm)['play']();}else{this['startModel3DWithCameraSpot'](tp,tk);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(tr,ts,tt){var tu=tr['get']('selectedIndex');var tv=tr['get']('items');var tw=ts['get']('media');if(tv[tu]==ts&&tw['get']('isLoaded')){tt['play']();}else{var tx=tt['get']('movements');var ty={};if(tx['length']>0x0){var tz=tx[0x0];if(tz['get']('class')=='TargetModel3DCameraMovement'){var tA=['x','y','z','yaw','pitch','fov','distance'];for(var tB in tA){tB=tA[tB];var tC=tz['get']('target'+tB['charAt'](0x0)['toUpperCase']()+tB['slice'](0x1));if(tC!==undefined){ty[tB]=tC;}}}}this['startModel3DWithCameraSpot'](tw,ty);var tD=function(){ts['unbind']('begin',tD,this);tt['play']();};ts['bind']('begin',tD,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(tE,tF){var tG=this['getActiveMediaWithViewer'](tF||this['getMainViewer']());if(tG!=undefined&&(tG['get']('class')['indexOf']('Panorama')!=-0x1||tG['get']('class')=='Video360')){var tH=tE['get']('media');var tI=this['clonePanoramaCamera'](tE['get']('camera'));this['setCameraSameSpotAsMedia'](tI,tG);this['startPanoramaWithCamera'](tH,tI);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(tJ,tK,tL,tM,tN){var tO=tJ['get']('selectedIndex');var tP=tJ['get']('items');var tQ=tK['get']('player');if(tP[tO]==tK||tQ['get']('rendererPanorama')==tK['get']('media')){if(tL===undefined)tL=tQ['get']('yaw');if(tM===undefined)tM=tQ['get']('pitch');if(tN===undefined)tN=tQ['get']('hfov');tQ['moveTo'](tL,tM,tQ['get']('roll'),tN);}else{var tR=tK['get']('media');var tS=this['clonePanoramaCamera'](tK['get']('camera'));var tT=tS['get']('initialPosition');if(tL!==undefined)tT['set']('yaw',tL);if(tM!==undefined)tT['set']('pitch',tM);if(tN!==undefined)tT['set']('hfov',tN);this['startPanoramaWithCamera'](tR,tS);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(tU){var tV=this['getByClassName']('HotspotPanoramaOverlay');var tW=this['getByClassName']('PanoramaPlayer');var tX=tU=='hotspotEnabled';var tY=tU=='circleEnabled';var tZ=!!tU;tV['forEach'](function(u0){var u1=u0['get']('data');if(u1&&u1['hasPanoramaAction']==!![])u0['set']('enabledInSurfaceSelection',tX);});tW['forEach'](function(u2){u2['set']('adjacentPanoramaPositionsEnabled',tY);u2['set']('surfaceSelectionEnabled',tZ);});this['get']('data')['surfaceSelectionHotspotMode']=tU;};TDV['Tour']['Script']['setValue']=function(u3,u4,u5){try{if('set'in u3)u3['set'](u4,u5);else u3[u4]=u5;}catch(u6){}};TDV['Tour']['Script']['setStartTimeVideo']=function(u7,u8){var u9=this['getPlayListItems'](u7);var ua=[];var ub=function(){for(var uf=0x0;uf<u9['length'];++uf){var ug=u9[uf];ug['set']('startTime',ua[uf]);ug['unbind']('stop',ub,this);}};for(var uc=0x0;uc<u9['length'];++uc){var ud=u9[uc];var ue=ud['get']('player');if(!ue)continue;if(ue['get']('video')==u7&&ue['get']('state')=='playing'){ue['seek'](u8);}else{ua['push'](ud['get']('startTime'));ud['set']('startTime',u8);ud['bind']('stop',ub,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(uh,ui){if(uh&&ui)this['setStartTimeVideo'](uh,ui['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(uj){if(uj&&uj['get']('class')=='PanoramaPlayer'){var uk=uj['get']('viewerArea');if(uk&&uk['get']('translationTransitionEnabled')==!![]){var ul=function(){uj['unbind']('preloadMediaShow',ul,this);uk['set']('translationTransitionEnabled',!![]);};uk['set']('translationTransitionEnabled',![]);uj['bind']('preloadMediaShow',ul,this);}}};TDV['Tour']['Script']['shareSocial']=function(um,un,uo,up,uq){if(un==undefined){un=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uo){un+=this['updateDeepLink'](up,![]);}un=function(us){switch(us){case'email':return'mailto:?body='+encodeURIComponent(un);case'facebook':var ut=un['indexOf']('?')!=-0x1;un=un['replace']('#','?');if(ut){var uu=un['lastIndexOf']('?');un=un['substring'](0x0,uu)+'&'+un['substring'](uu+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(un);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(un);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+un;case'telegram':return'https://t.me/share/url?url='+un;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+un;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(un);default:return un;}}(um);if(uq){for(var ur in uq){un+='&'+ur+'='+uq[ur];}}if(um=='clipboard')this['copyToClipboard'](un);else this['openLink'](un,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uv,uw,ux,uy){var uz=function(uD){for(var uE=0x0,uF=uw['length'];uE<uF;uE++){var uG=uw[uE];if(!uy||uy(uG,uD))uG['set']('visible',uD);}};if(this['get']('isMobile')){uz['call'](this,!![]);}else{var uA=-0x1;var uB=function(){uz['call'](this,!![]);if(uA>=0x0)clearTimeout(uA);uv['bind']('rollOut',uC,this);};var uC=function(){var uH=function(){uz['call'](this,![]);};uv['unbind']('rollOut',uC,this);uA=setTimeout(uH['bind'](this),ux);};uv['bind']('rollOver',uB,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(uI,uJ,uK,uL){var uM=this['_getObjectsByTags'](uJ,['InnerModel3DObject'],'tags2Overlays',uK)['filter'](function(uN){return uI['get']('objects')['indexOf'](uN)!=-0x1;}['bind'](this));this['setObjectsVisibility'](uM,uL);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(uO,uP,uQ){var uR=uP['map'](function(uS){return this['getModel3DInnerObject'](uO,uS);}['bind'](this));this['setObjectsVisibility'](uR,uQ);};TDV['Tour']['Script']['setObjectsVisibility']=function(uT,uU){uT['forEach'](function(uV){if(uV)uV['set']('enabled',uU==='toggle'?!uV['get']('enabled'):uU);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(uW,uX){var uY=uW['get']('objects');for(var uZ=0x0,v0=uY['length'];uZ<v0;++uZ){var v1=uY[uZ];if(v1['get']('class')=='InnerModel3DObject'&&v1['get']('objectId')==uX)return v1;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(v2,v3,v4,v5,v6,v7){var v8=this;var v9=function(){window['resumeAudiosBlocked']=![];v4['set']('selectedIndex',-0x1);v8['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](ve,!![]);if(vd){this['unbind']('resize',vb,this);}v2['unbind']('close',v9,this);};var va=function(){v2['hide']();};var vb=function(){var vf=function(vw){return v2['get'](vw)||0x0;};var vg=v8['get']('actualWidth');var vh=v8['get']('actualHeight');var vi=v8['getMediaWidth'](v3);var vj=v8['getMediaHeight'](v3);var vk=parseFloat(v5)/0x64;var vl=parseFloat(v6)/0x64;var vm=vk*vg;var vn=vl*vh;var vo=vf('footerHeight');var vp=vf('headerHeight');if(!vp){var vq=vf('closeButtonIconHeight')+vf('closeButtonPaddingTop')+vf('closeButtonPaddingBottom');var vr=v8['getPixels'](vf('titleFontSize'))+vf('titlePaddingTop')+vf('titlePaddingBottom');vp=vq>vr?vq:vr;vp+=vf('headerPaddingTop')+vf('headerPaddingBottom');}var vs=vm-vf('bodyPaddingLeft')-vf('bodyPaddingRight')-vf('paddingLeft')-vf('paddingRight');var vt=vn-vp-vo-vf('bodyPaddingTop')-vf('bodyPaddingBottom')-vf('paddingTop')-vf('paddingBottom');var vu=vs/vt;var vv=vi/vj;if(vu>vv){vm=vt*vv+vf('bodyPaddingLeft')+vf('bodyPaddingRight')+vf('paddingLeft')+vf('paddingRight');}else{vn=vs/vv+vp+vo+vf('bodyPaddingTop')+vf('bodyPaddingBottom')+vf('paddingTop')+vf('paddingBottom');}if(vm>vg*vk){vm=vg*vk;}if(vn>vh*vl){vn=vh*vl;}v2['set']('width',vm);v2['set']('height',vn);v2['set']('x',(vg-vf('actualWidth'))*0.5);v2['set']('y',(vh-vf('actualHeight'))*0.5);};if(v7){this['executeFunctionWhenChange'](v4,0x0,va);}var vc=v3['get']('class');var vd=vc=='Video'||vc=='Video360';v4['set']('selectedIndex',0x0);if(vd){this['bind']('resize',vb,this);vb();v4['get']('items')[0x0]['get']('player')['play']();}else{v2['set']('width',v5);v2['set']('height',v6);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var ve=this['pauseCurrentPlayers'](!![]);v2['bind']('close',v9,this);v2['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vx,vy,vz,vA,vB,vC,vD,vE,vF,vG,vH,vI){var vJ=![];var vK=function(){w1['unbind']('loaded',vN,this);vR['call'](this);};var vL=function(){w1['unbind']('click',vL,this);if(w5!=undefined){clearTimeout(w5);}};var vM=function(){setTimeout(vV,0x0);};var vN=function(){this['unbind']('click',vK,this);w0['set']('visible',!![]);vV();w2['set']('visible',!![]);w1['unbind']('loaded',vN,this);w1['bind']('resize',vM,this);w5=setTimeout(vO['bind'](this),0xc8);};var vO=function(){w5=undefined;if(vE){w1['bind']('click',vL,this);vQ['call'](this);}w1['bind']('userInteractionStart',vW,this);w1['bind']('userInteractionEnd',vX,this);w1['bind']('backgroundClick',vR,this);if(vy){w1['bind']('click',vT,this);w1['set']('imageCursor','hand');}w2['bind']('click',vR,this);if(vH)vH['call'](this);};var vP=function(){if(vE&&w5){clearTimeout(w5);w5=undefined;}};var vQ=function(){if(vE){vP();w5=setTimeout(vR['bind'](this),vE);}};var vR=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);vJ=!![];if(w5)clearTimeout(w5);if(w6)clearTimeout(w6);if(vE)vL();if(vI)vI['call'](this);w1['set']('visible',![]);if(vC&&vC['get']('duration')>0x0){vC['bind']('end',vS,this);}else{w1['set']('image',null);}w2['set']('visible',![]);w0['set']('visible',![]);this['unbind']('click',vK,this);w1['unbind']('backgroundClick',vR,this);w1['unbind']('userInteractionStart',vW,this);w1['unbind']('userInteractionEnd',vX,this,!![]);w1['unbind']('resize',vM,this);if(vy){w1['unbind']('click',vT,this);w1['set']('cursor','default');}w2['unbind']('click',vR,this);this['resumePlayers'](w4,vF==null||vG);if(vG){this['resumeGlobalAudios']();}if(vF){this['stopGlobalAudio'](vF);}};var vS=function(){w1['set']('image',null);vC['unbind']('end',vS,this);};var vT=function(){w1['set']('image',vU()?vx:vy);};var vU=function(){return w1['get']('image')==vy;};var vV=function(){var w7=w1['get']('actualWidth')-w1['get']('imageLeft')-w1['get']('imageWidth')+0xa;var w8=w1['get']('imageTop')+0xa;if(w7<0xa)w7=0xa;if(w8<0xa)w8=0xa;w2['set']('right',w7);w2['set']('top',w8);};var vW=function(){vP();if(w6){clearTimeout(w6);w6=undefined;}else{w2['set']('visible',![]);}};var vX=function(){vQ['call'](this);if(!vJ){w6=setTimeout(vY,0x12c);}};var vY=function(){w6=undefined;w2['set']('visible',!![]);vV();};var vZ=function(w9){var wa=w9['get']('data');if(wa&&'extraLevels'in wa){var wb=this['rootPlayer']['createInstance'](w9['get']('class'));var wc=wa['extraLevels'];for(var wd=0x0;wd<wc['length'];wd++){var we=wc[wd];if(typeof we=='string')wc[wd]=this[we['replace']('this.','')];}wb['set']('levels',w9['get']('levels')['concat'](wc));w9=wb;}return w9;};this['getMainViewer']()['set']('toolTipEnabled',![]);var w0=this['veilPopupPanorama'];var w1=this['zoomImagePopupPanorama'];var w2=this['closeButtonPopupPanorama'];if(vD){for(var w3 in vD){w2['set'](w3,vD[w3]);}}var w4=this['pauseCurrentPlayers'](vF==null||!vG);if(vG){this['pauseGlobalAudios'](null,!![]);}if(vF){this['playGlobalAudio'](vF,!![]);}var w5=undefined;var w6=undefined;vx=vZ['call'](this,vx);if(vy)vy=vZ['call'](this,vy);w1['bind']('loaded',vN,this);setTimeout(function(){this['bind']('click',vK,this,![]);}['bind'](this),0x0);w1['set']('image',vx);w1['set']('customWidth',vz);w1['set']('customHeight',vA);w1['set']('showEffect',vB);w1['set']('hideEffect',vC);w1['set']('visible',!![]);return w1;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(wf,wg,wh,wi,wj,wk,wl,wm){var wn=this['isCardboardViewMode']();if(wf['get']('visible')||!wn&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wn){var wo=this['zoomImagePopupPanorama'];var wp=wf['get']('showDuration');var wq=wf['get']('hideDuration');var ws=this['pauseCurrentPlayers'](wk==null||!wl);var wt=wf['get']('popupMaxWidth');var wu=wf['get']('popupMaxHeight');var wv=function(){var wz=function(){if(!this['isCardboardViewMode']())wf['set']('visible',![]);};wf['unbind']('showEnd',wv,this);wf['set']('showDuration',0x1);wf['set']('hideDuration',0x1);this['showPopupImage'](wh,wi,wf['get']('popupMaxWidth'),wf['get']('popupMaxHeight'),null,null,wg,wj,wk,wl,wz,ww);};var ww=function(){var wA=function(){wf['unbind']('hideEnd',wA,this);if(wm)wm();};var wB=function(){wf['unbind']('showEnd',wB,this);wf['bind']('hideEnd',wA,this,!![]);wf['set']('visible',![]);wf['set']('showDuration',wp);wf['set']('popupMaxWidth',wt);wf['set']('popupMaxHeight',wu);};this['resumePlayers'](ws,wk==null||!wl);var wC=wo['get']('imageWidth');var wD=wo['get']('imageHeight');wf['bind']('showEnd',wB,this,!![]);wf['set']('showDuration',0x1);wf['set']('hideDuration',wq);wf['set']('popupMaxWidth',wC);wf['set']('popupMaxHeight',wD);if(wf['get']('visible'))wB();else wf['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};wf['bind']('showEnd',wv,this,!![]);}else{var wx=function(){this['resumePlayers'](ws,wk==null||wl);if(wl){this['resumeGlobalAudios']();}if(wk){this['stopGlobalAudio'](wk);}if(wi){wf['set']('image',wh);wf['unbind']('click',wy,this);}wf['unbind']('hideEnd',wx,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wm)wm();};var wy=function(){wf['set']('image',wf['get']('image')==wh?wi:wh);};var ws=this['pauseCurrentPlayers'](wk==null||!wl);if(wl){this['pauseGlobalAudios'](null,!![]);}if(wk){this['playGlobalAudio'](wk,!![]);}if(wi)wf['bind']('click',wy,this);wf['bind']('hideEnd',wx,this,!![]);}wf['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(wE,wF,wG,wH,wI){var wJ=![];var wK=function(){wE['unbind']('showEnd',wK);wO['bind']('click',wM,this);wN();wO['set']('visible',!![]);}['bind'](this);var wL=function(){wJ=!![];if(!wE['get']('loop'))wM();}['bind'](this);var wM=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);wE['set']('visible',![]);wO['set']('visible',![]);wO['unbind']('click',wM,this);wE['unbind']('end',wL,this);wE['unbind']('hideEnd',wM,this,!![]);this['resumePlayers'](wQ,!![]);if(wG){this['resumeGlobalAudios']();}if(wH)wH();if(wI&&wJ)wI();}['bind'](this);var wN=function(){var wR=0xa;var wS=0xa;wO['set']('right',wR);wO['set']('top',wS);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var wO=this['closeButtonPopupPanorama'];if(wF){for(var wP in wF){wO['set'](wP,wF[wP]);}}window['resumeAudiosBlocked']=!![];var wQ=this['pauseCurrentPlayers'](!![]);if(wG){this['pauseGlobalAudios']();}wE['bind']('end',wL,this,!![]);wE['bind']('showEnd',wK,this,!![]);wE['bind']('hideEnd',wM,this,!![]);wE['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(wT,wU,wV){if(wT['get']('visible')==!![]){return;}var wW=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wV){this['resumeGlobalAudios']();}wX();this['resumePlayers'](x0,!wV);wT['unbind']('close',wW,this);};var wX=function(){wT['unbind']('click',wX,this);if(wY!=undefined){clearTimeout(wY);}};var wY=undefined;if(wU){var wZ=function(){wT['hide']();};wT['bind']('click',wX,this);wY=setTimeout(wZ,wU);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(wV){this['pauseGlobalAudios'](null,!![]);}var x0=this['pauseCurrentPlayers'](!wV);wT['bind']('close',wW,this);wT['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(x1,x2){var x3=this['getByClassName']('PlayList');if(x3['length']==0x0)return;var x4=window['currentPanoramasWithCameraChanged']==undefined||!(x1['get']('id')in window['currentPanoramasWithCameraChanged']);if(!x4){return;}var x5=x1['get']('camera');x2=Object['assign']({},x2);if(!x1['get']('isLoaded')){var x6=[];var x7={};for(var x9 in x2){var xa='initial'+x9['charAt'](0x0)['toUpperCase']()+x9['slice'](0x1);x7[xa]=x5['get'](xa);x2[xa]=x2[x9];delete x2[x9];}for(var xc=0x0,xd=x3['length'];xc<xd;++xc){var xe=x3[xc];var xf=xe['get']('items');for(var xg=0x0,xh=xf['length'];xg<xh;++xg){var xj=xf[xg];if(xj['get']('media')==x1&&xj['get']('class')=='Model3DPlayListItem'){x6['push'](xj);}}}if(x6['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xk=x1['get']('id');window['currentPanoramasWithCameraChanged'][xk]=x6;var xl=function(){if(xk in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xk];}for(var xm=0x0;xm<x6['length'];xm++){x6[xm]['unbind']('begin',xl,this);}for(var xn in x7){x5['set'](xn,x7[xn]);}};for(var xc=0x0;xc<x6['length'];xc++){var xj=x6[xc];xj['bind']('begin',xl,this);}}}else{for(var x9 in x2){x5['set'](x9,x2[x9]);}x5['setStoredPosition'](x2);}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xo,xp){var xq=this['getByClassName']('PlayList');if(xq['length']==0x0)return;var xr=window['currentPanoramasWithCameraChanged']==undefined||!(xo['get']('id')in window['currentPanoramasWithCameraChanged']);var xs=[];for(var xu=0x0,xv=xq['length'];xu<xv;++xu){var xw=xq[xu];var xx=xw['get']('items');for(var xy=0x0,xz=xx['length'];xy<xz;++xy){var xB=xx[xy];if(xB['get']('media')==xo&&(xB['get']('class')=='PanoramaPlayListItem'||xB['get']('class')=='Video360PlayListItem')){if(xr){xs['push']({'camera':xB['get']('camera'),'item':xB});}xB['set']('camera',xp);}}}if(xs['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xC=xo['get']('id');window['currentPanoramasWithCameraChanged'][xC]=xs;var xD=function(){if(xC in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xC];}for(var xF=0x0;xF<xs['length'];xF++){xs[xF]['item']['set']('camera',xs[xF]['camera']);xs[xF]['item']['unbind']('end',xD,this);}};for(var xu=0x0;xu<xs['length'];xu++){var xE=xs[xu];var xB=xE['item'];this['skip3DTransitionOnce'](xB['get']('player'));xB['bind']('end',xD,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(xG,xH){var xI=xG['get']('initialSequence');xI['pause']();var xJ=function(){xI['play']();};setTimeout(xJ,xH);};TDV['Tour']['Script']['syncPlaylists']=function(xK){var xL=function(xT,xU){for(var xV=0x0,xW=xK['length'];xV<xW;++xV){var xX=xK[xV];if(xX!=xU){var xY=xX['get']('items');for(var xZ=0x0,y0=xY['length'];xZ<y0;++xZ){if(xY[xZ]['get']('media')==xT){if(xX['get']('selectedIndex')!=xZ){xX['set']('selectedIndex',xZ);}break;}}}}};var xM=function(y1){var y2=y1['source'];var y3=y2['get']('selectedIndex');if(y3<0x0)return;var y4=y2['get']('items')[y3]['get']('media');xL(y4,y2);};var xN=function(y5){var y6=y5['source']['get']('panoramaMapLocation');if(y6){var y7=y6['get']('map');xL(y7);}};for(var xP=0x0,xR=xK['length'];xP<xR;++xP){xK[xP]['bind']('change',xM,this);}var xS=this['getByClassName']('MapPlayer');for(var xP=0x0,xR=xS['length'];xP<xR;++xP){xS[xP]['bind']('panoramaMapLocation_change',xN,this);}};TDV['Tour']['Script']['translate']=function(y8){return this['get']('data')['localeManager']['trans'](y8);};TDV['Tour']['Script']['triggerOverlay']=function(y9,ya){if(y9['get']('areas')!=undefined){var yb=y9['get']('areas');for(var yc=0x0;yc<yb['length'];++yc){yb[yc]['trigger'](ya);}}else{y9['trigger'](ya);}};TDV['Tour']['Script']['updateDeepLink']=function(yd){yd=yd||{};var ye=this['mainPlayList']['get']('selectedIndex');var yf;var yg;if(ye>=0x0){yf='#media='+(ye+0x1);yg=this['mainPlayList']['get']('items')[ye]['get']('media');}else{yg=this['getActiveMediaWithViewer'](this['getMainViewer']());if(yg!=undefined){var yi=yg['get']('data');if(yi){yf='#media-name='+yi['label'];}}}if(yg){if(yd['includeCurrentView']===!![]){var yj=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yj){switch(yj['get']('class')){case'PanoramaPlayer':var yk=yj['get']('yaw');var yl=yj['get']('pitch');if(!isNaN(yk)&&!isNaN(yl))yf+='&yaw='+yk['toFixed'](0x2)+'&pitch='+yl['toFixed'](0x2);break;case'Model3DPlayer':var ym=yj['get']('model');var yn=ym['get']('camera');var yo=[];yo['push']('yaw='+yn['get']('yaw')['toFixed'](0x2));yo['push']('pitch='+yn['get']('pitch')['toFixed'](0x2));yo['push']('x='+yn['get']('x')['toFixed'](0x5));yo['push']('y='+yn['get']('y')['toFixed'](0x5));yo['push']('z='+yn['get']('z')['toFixed'](0x5));if(yn['get']('class')=='OrbitModel3DCamera')yo['push']('distance='+yn['get']('distance')['toFixed'](0x5));yf+='&'+yo['join']('&');break;}}}if(yd['includeCurrentVisibleHotspots']===!![]){var yp=this['getOverlays'](yg);var yq=[];var yr=[];for(var ys=0x0,yt=yp['length'];ys<yt;++ys){var yu=yp[ys];var yv=yu['get']('enabled');var yi=yu['get']('data');if(yv===undefined||!yi||!yi['label'])continue;var yw=encodeURIComponent(yi['label']);var yx=yi['group'];if(yv!=yi['defaultEnabledValue']){if(yv){yq['push'](yw);}else if(!yx){yr['push'](yw);}}}if(yq['length']>0x0)yf+='&son='+yq['join'](',');if(yr['length']>0x0)yf+='&hon='+yr['join'](',');if(yg['get']('class')=='Model3D'){var yy=yg['get']('variant');if(yy)yf+='&variant='+yy;var yz=yg['get']('objects');var yA=[];var yB=[];yz['forEach'](function(yD){if(yD['get']('class')=='InnerModel3DObject')(yD['get']('enabled')?yA:yB)['push'](yD['get']('objectId'));});if(yA['length']>0x0)yf+='&sobjids='+yA['join'](',');if(yB['length']>0x0)yf+='&hobjids='+yB['join'](',');}}if(yd['includeCurrentMeasureModel3DObjects']===!![]&&yg['get']('class')=='Model3D'){var yC=[];yg['get']('objects')['forEach'](function(yE){if(yE['get']('class')=='MeasureModel3DObject'&&yE['get']('mode')!='create'){var yF=[yE['get']('data')['id'],yE['get']('x'),yE['get']('y'),yE['get']('z')];yE['get']('points')['forEach'](function(yG){yF['push'](yG['get']('x'),yG['get']('y'),yG['get']('z'));});if(yF['length']>0x4){yC['push'](yF['join'](','));}}});if(yC['length']>0x0)yf+='&measures='+yC['join']('+');}}if(yf&&yd['setHash']===!![]){location['hash']=yf;}return yf;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(yH,yI,yJ){var yK=function(){var yM=yH['get']('selectedIndex');if(yM>=0x0){var yN=function(){yQ['unbind']('begin',yN);yO(yM);};var yO=function(yR){var yS=yQ['get']('media');var yT=yS['get']('data');var yU=yT!==undefined?yT['description']:undefined;yP(yU);};var yP=function(yV){if(yV!==undefined){yI['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+yV+'</SPAN></div>');}else{yI['set']('html','');}var yW=yI['get']('html');yI['set']('visible',yW!==undefined&&yW);};var yQ=yH['get']('items')[yM];if(yI['get']('html')){yP('Loading...');yQ['bind']('begin',yN);}else{yO(yM);}}};var yL=function(){yI['set']('html',undefined);yH['unbind']('change',yK,this);yJ['unbind']('stop',yL,this);};if(yJ){yJ['bind']('stop',yL,this);}yH['bind']('change',yK,this);yK();};TDV['Tour']['Script']['updateVideoCues']=function(yX,yY){var yZ=yX['get']('items')[yY];var z0=yZ['get']('media');if(z0['get']('cues')['length']==0x0)return;var z1=yZ['get']('player');var z2=[];var z3=function(){if(yX['get']('selectedIndex')!=yY){z0['unbind']('cueChange',z4,this);yX['unbind']('change',z3,this);}};var z4=function(z5){var z6=z5['data']['activeCues'];for(var z7=0x0,z8=z2['length'];z7<z8;++z7){var z9=z2[z7];if(z6['indexOf'](z9)==-0x1&&(z9['get']('startTime')>z1['get']('currentTime')||z9['get']('endTime')<z1['get']('currentTime')+0.5)){z9['trigger']('end');}}z2=z6;};z0['bind']('cueChange',z4,this);yX['bind']('change',z3,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(za,zb){var zc=this['get'](zb);for(var zd in za){za[zd]['set']('visible',zc);}};TDV['Tour']['Script']['quizStart']=function(){var ze=this['get']('data')['quiz'];return ze?ze['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zf=this['get']('data')['quiz'];return zf?zf['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zg=this['get']('data')['quiz'];return zg?zg['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zh=this['get']('data')['quiz'];return zh?zh['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zi){var zj=this['get']('data')['quiz'];if(zj)zj['setItemFound'](zi);};TDV['Tour']['Script']['quizShowQuestion']=function(zk){var zl=this['get']('data');var zm=zl['quiz'];var zn;if(zm){var zo=this['pauseCurrentPlayers'](!![]);var zp=this[zk];var zq;if(!zp['media']){zq=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zq={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zr=this['get']('data')['tour']['getNotchValue']();if(zr>0x0){zq=this['mixObject'](zq||{},{'theme':{'window':{'width':undefined,'left':zr,'right':zr}}});}}var zs=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zp['title'];if(zs)this['textToSpeech'](zp['title'],zk);zn=zm['showQuestion'](zk,zq);zn['then'](function(zt){if(zs)this['stopTextToSpeech']();this['resumePlayers'](zo,!![]);}['bind'](this));}return zn;};TDV['Tour']['Script']['quizShowScore']=function(zu){var zv=this['get']('data');var zw=zv['quiz'];if(zw){if(this['get']('isMobile')){zu=zu||{};zu=this['mixObject'](zu,zv[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zw['showScore'](zu);}};TDV['Tour']['Script']['quizShowTimeout']=function(zx,zy){var zz=this['get']('data');var zA=zz['quiz'];if(zA){if(this['get']('isMobile')){zy=zy||{};zy=this['mixObject'](zy,zz[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}zA['showTimeout'](zx,zy);}};TDV['Tour']['Script']['stopTextToSpeech']=function(zB){if(window['speechSynthesis']&&(zB==undefined||this['t2sLastID']==zB)){var zC=window['speechSynthesis'];if(zC['speaking']){zC['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(zD){return this['t2sLastID']==zD?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(zE,zF,zG){if(this['get']('mute')){return;}var zH=this['get']('data');var zI=zH['disableTTS']||![];if(zI)return;if(zF!=undefined&&this['t2sLastID']!=zF||zF==undefined){zG=zG||0x0;if(this['t2sLastID']&&zG>this['t2sLastPriority']){return;}var zJ=zH['tour'];var zK=zH['textToSpeechConfig'];var zL=zH['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var zM=window['speechSynthesis'];if(zM['speaking']){zM['cancel']();}var zN=new SpeechSynthesisUtterance(zE);if(zL)zN['lang']=zL;var zO;if(zK){zN['volume']=zK['volume'];zN['pitch']=zK['pitch'];zN['rate']=zK['rate'];if(zK['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zN['onend']=function(){this['t2sLastID']=null;if(zO)clearInterval(zO);if(zK['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){zO=setInterval(function(){zM['pause']();zM['resume']();},0xbb8);}zM['speak'](zN);this['t2sLastPriority']=zG;this['t2sLastID']=zF;}else if(zJ['isMobileApp']()){if(!zJ['isIOS']()){var zP=function(zQ,zR){var zS={'command':'tts','type':zQ};if(zR)zS=this['mixObject'](zS,zR);android['sendJSON'](JSON['stringify'](zS));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(zK['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);zP('stop');if(zK){zP('init',{'volume':zK['volume'],'pitch':zK['pitch'],'rate':zK['rate'],'language':zL});if(zK['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zP('play',{'text':zE,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(zT){var zU=zT['get']('class');var zV;if(zU=='HTMLText'){var zW=zT['get']('html');if(zW){zV=this['htmlToPlainText'](zW,{'linkProcess':function(zX,zY){return zY;}});}}else if(zU=='BaseButton'){zV=zT['get']('label');}else if(zU=='Label'){zV=zT['get']('text');}if(zV){this['textToSpeech'](zV,zT['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(zZ){var A0=zZ['get']('id');if(this['getStateTextToSpeech'](A0)!='playing')this['textToSpeechComponent'](zZ);else this['stopTextToSpeech'](A0);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function A1(A3){var A4=A3['source'];this['textToSpeech'](A4['get']('toolTip'),A4['get']('id'),0x1);}function A2(A5){var A6=A5['source'];this['stopTextToSpeech'](A6['get']('id'));}setTimeout(function(){var A7=this['getByClassName']('UIComponent');for(var A8=0x0,A9=A7['length'];A8<A9;++A8){var Aa=A7[A8];var Ab=Aa['get']('toolTip');if(!!Ab||Aa['get']('class')=='ViewerArea'){Aa['bind']('toolTipShow',A1,this);Aa['bind']('toolTipHide',A2,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(Ac){var Ad=this['getActivePlayerWithViewer'](Ac);if(Ad&&Ad['get']('class')=='PanoramaPlayer')Ad['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Ae,Af){var Ag=function(Au,Av){var Aw='';for(var Ax=0x0;Ax<Av;Ax+=0x1){Aw+=Au;}return Aw;};var Ah=null;var Ai=null;var Aj='underline';var Ak='indention';var Al='-';var Am=0x3;var An='-';var Ao=![];if(!!Af){if(typeof Af['linkProcess']==='function'){Ah=Af['linkProcess'];}if(typeof Af['imgProcess']==='function'){Ai=Af['imgProcess'];}if(!!Af['headingStyle']){Aj=Af['headingStyle'];}if(!!Af['listStyle']){Ak=Af['listStyle'];}if(!!Af['uIndentionChar']){Al=Af['uIndentionChar'];}if(!!Af['listIndentionTabs']){Am=Af['listIndentionTabs'];}if(!!Af['oIndentionChar']){An=Af['oIndentionChar'];}if(!!Af['keepNbsps']){Ao=Af['keepNbsps'];}}var Ap=Ag(Al,Am);var Aq=String(Ae)['replace'](/\n|\r/g,'\x20');const Ar=Aq['match'](/<\/body>/i);if(Ar){Aq=Aq['substring'](0x0,Ar['index']);}const As=Aq['match'](/<body[^>]*>/i);if(As){Aq=Aq['substring'](As['index']+As[0x0]['length'],Aq['length']);}Aq=Aq['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Aq=Aq['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Aq=Aq['replace'](/<img([^>]*)>/gi,function(Ay,Az){var AA='';var AB='';var AC=/src="([^"]*)"/i['exec'](Az);var AD=/alt="([^"]*)"/i['exec'](Az);if(AC!==null){AA=AC[0x1];}if(AD!==null){AB=AD[0x1];}if(typeof Ai==='function'){return Ai(AA,AB);}if(AB===''){return'![image]\x20('+AA+')';}return'!['+AB+']\x20('+AA+')';});function At(){return function(AE,AF,AG,AH){var AI=0x0;if(AG&&/start="([0-9]+)"/i['test'](AG)){AI=/start="([0-9]+)"/i['exec'](AG)[0x1]-0x1;}var AJ='<p>'+AH['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(AK,AL){var AM=0x0;var AN=AL['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(AF==='o'&&AM===0x0){AI+=0x1;AM+=0x1;return'<br\x20/>'+AI+Ag(An,Am-String(AI)['length']);}return'<br\x20/>'+Ap;});return AN;})+'</p>';return AJ;};}if(Ak==='linebreak'){Aq=Aq['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Ak==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Aq)){Aq=Aq['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,At());}}if(Aj==='linebreak'){Aq=Aq['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Aj==='underline'){Aq=Aq['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(AO,AP){return'\x0a&nbsp;\x0a'+AP+'\x0a'+Ag('=',AP['length'])+'\x0a&nbsp;\x0a';});Aq=Aq['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(AQ,AR){return'\x0a&nbsp;\x0a'+AR+'\x0a'+Ag('-',AR['length'])+'\x0a&nbsp;\x0a';});Aq=Aq['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(AS,AT,AU){return'\x0a&nbsp;\x0a'+AU+'\x0a&nbsp;\x0a';});}else if(Aj==='hashify'){Aq=Aq['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(AV,AW,AX){return'\x0a&nbsp;\x0a'+Ag('#',AW)+'\x20'+AX+'\x0a&nbsp;\x0a';});}Aq=Aq['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Aq=Aq['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(AY,AZ,B0){if(typeof Ah==='function'){return Ah(AZ,B0);}return'\x20['+B0+']\x20('+AZ+')\x20';});Aq=Aq['replace'](/\n[ \t\f]*/gi,'\x0a');Aq=Aq['replace'](/\n\n+/gi,'\x0a');if(Ao){Aq=Aq['replace'](/( |\t)+/gi,'\x20');Aq=Aq['replace'](/&nbsp;/gi,'\x20');}else{Aq=Aq['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Aq=Aq['replace'](/\n +/gi,'\x0a');Aq=Aq['replace'](/^ +/gi,'');while(Aq['indexOf']('\x0a')===0x0){Aq=Aq['substring'](0x1);}if(Aq['length']===0x0||Aq['lastIndexOf']('\x0a')!==Aq['length']-0x1){Aq+='\x0a';}return Aq;};TDV['Tour']['Script']['openEmbeddedPDF']=function(B1,B2){var B3=!!window['MSInputMethodContext']&&!!document['documentMode'];if(B3){this['openLink'](B2,'_blank');return;}var B4=B1['get']('class');var B5=!new RegExp('^(?:[a-z]+:)?//','i')['test'](B2);if(B5&&B4=='WebFrame'){var B6=location['origin']+location['pathname'];B1['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(B6['substring'](0x0,B6['lastIndexOf']('/'))+'/'+B2));}else{var B7=location['origin']==new URL(B2)['origin'];var B8='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var B9=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var Ba='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+B2+'\x22,\x20\x22#content\x22,\x20{'+(B7?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+B8+'\x22,'+'\x22forcePDFJS\x22:\x20'+B9+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+B7+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(B4=='WebFrame'){B1['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+Ba+'</body>'+'</html>'));}else if(B4=='HTML'){B1['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(Ba));}}};TDV['Tour']['Script']['getKey']=function(Bb){return window[Bb];};TDV['Tour']['Script']['registerKey']=function(Bc,Bd){window[Bc]=Bd;};TDV['Tour']['Script']['unregisterKey']=function(Be){delete window[Be];};TDV['Tour']['Script']['existsKey']=function(Bf){return Bf in window;};function _getCurrentActiveModels(){var Bg=this['getActiveMediaWithViewer'](this['getMainViewer']());if(Bg&&Bg['get']('class')=='Model3D'){return[Bg];}else{return[];}}function _onMeasureClick(Bh){var Bi=Bh['source'];var Bj=Bi['get']('mode');if(Bj!='create'){Bi['set']('mode',Bj=='view'?'edit':'view');console['log'](Bi['get']('mode'));}}function _forEachMeasureModel3DObject(Bk,Bl){if(!Bk)Bk=_getCurrentActiveModels['call'](this);Bk['forEach'](function(Bm){Bm['get']('objects')['forEach'](function(Bn){if(Bn['get']('class')=='MeasureModel3DObject')Bl(Bn);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Bo,Bp){if(!Bo)Bo=_getCurrentActiveModels['call'](this);Bo['forEach'](function(Bq){var Br=Bq['get']('objects');var Bs=Br['filter'](function(Bt){return!Bp['call'](this,Bt);});if(Bs['length']!=Br['length']){Bq['set']('objects',Bs);Br['forEach'](function(Bu){if(Bp['call'](this,Bu))this['disposeInstance'](Bu);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(Bv){var Bw=this['clone'](Bv,Bv['getAttributeNames']()['filter'](function(Bx){return Bx!='id';}));Bw['set']('data',{'id':Bv['get']('id')});return Bw;}TDV['Tour']['Script']['startMeasurement']=function(By,Bz){if(!By)By=_getCurrentActiveModels['call'](this);By['forEach'](function(BA){var BB=BA['get']('objects');var BC=BB['findIndex'](function(BJ){return BJ['get']('class')=='MeasureModel3DObject'&&BJ['get']('mode')=='create';});var BD=BC!=-0x1;if(BD){var BE=BB[BC];if(BE['get']('points')['length']==0x0){BB['splice'](BC,0x1);this['disposeInstance'](BE);}else BE['set']('mode','view');}var BF=_cloneMeasureModel3DObject['call'](this,Bz);this['cloneBindings'](Bz,BF,'modeChange');BF['set']('mode','create');BF['bind']('click',_onMeasureClick,this);var BG,BH;var BI=BA['get']('camera');BF['bind']('modeChange',function BK(){if(BF['get']('mode')=='create'){BG=BA['get']('surfaceSelectionEnabled');BA['set']('surfaceSelectionEnabled',!![]);if(BI['get']('class')=='FlyOverModel3DCamera'){BH=BI['get']('doubleClickAction');BI['set']('doubleClickAction','none');}}else{BF['unbind']('modeChange',BK,this);BA['set']('surfaceSelectionEnabled',BG);if(BI['get']('class')=='FlyOverModel3DCamera'){BI['set']('doubleClickAction',BH);}}},this);BB=BB['concat']();BB['push'](BF);BA['set']('objects',BB);}['bind'](this));};TDV['Tour']['Script']['stopMeasurement']=function(BL){_forEachMeasureModel3DObject['call'](this,BL,function(BM){if(BM['get']('mode')=='create')BM['set']('mode','edit');});};TDV['Tour']['Script']['toggleMeasurement']=function(BN,BO){if(!BN)BN=_getCurrentActiveModels['call'](this);var BP=BN['some'](function(BQ){var BR=BQ['get']('objects');var BS=BR['find'](function(BT){return BT['get']('class')=='MeasureModel3DObject'&&BT['get']('mode')=='create';});return BS!=null;});if(!BP)this['startMeasurement'](BN,BO);else this['stopMeasurement'](BN);};TDV['Tour']['Script']['cleanAllMeasurements']=function(BU){_deleteModel3DObjects['call'](this,BU,function(BV){return BV['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(BW){_deleteModel3DObjects['call'](this,BW,function(BX){return BX['get']('class')=='MeasureModel3DObject'&&BX['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(BY,BZ){_forEachMeasureModel3DObject['call'](this,BY,function(C0){C0['set']('enabled',BZ);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(C1){_forEachMeasureModel3DObject['call'](this,C1,function(C2){C2['set']('enabled',!C2['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(C3){_forEachMeasureModel3DObject['call'](this,null,function(C4){C4['set']('units',C3);});};
//# sourceMappingURL=script_v2022.2.0-beta.11367.js.map
//Generated with v2022.2.0-beta.11367, Wed Dec 7 2022