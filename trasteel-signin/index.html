<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Handle Trasteel Sign-In</title>
  </head>
  <body>
    <script>
      // Extract the oobCode, apiKey, mode, and any other parameters from the URL
      const urlParams = new URLSearchParams(window.location.search);
      const oobCode = urlParams.get("oobCode");
      const apiKey = urlParams.get("apiKey");
      const mode = urlParams.get("mode");
      const lang = urlParams.get("lang");
      console.log("urlParams", window.location.search, oobCode, apiKey, mode);

      if (oobCode && apiKey && mode) {
        // Redirect back to the Electron app using the custom protocol
        window.location.href = `trasteelapp://signInSuccess?oobCode=${oobCode}&apiKey=${apiKey}&mode=${mode}&lang=${lang}`;
      } else {
        console.error("Error: Missing required parameters for sign-in.");
      }
    </script>
  </body>
</html>
